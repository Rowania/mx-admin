const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/ccip-DzYnRPwC.js","js/index-DR1TL1ZJ.js","assets/index-CRTWPObf.css","js/confetti-D3WRURFJ.js","js/ccip-C0axIbWo.js"])))=>i.map(i=>d[i]);
import{dm as kl,dn as ef,dp as zg,dq as qg,dr as Hg,ds as tf,dt as Gg,du as Vg,dv as Kg,dw as Qg,dx as Wg,dy as Jg,dz as Es,dA as nf,dB as Zg,dC as Yg,dD as Xg,dE as Il,aC as ki,cp as Ii,R as ks}from"./index-DR1TL1ZJ.js";import{s as e0}from"./confetti-D3WRURFJ.js";function t0(){}function n0(e,t,n,r){for(var a=e.length,i=n+-1;++i<a;)if(t(e[i],i,e))return i;return-1}function r0(e){return e!==e}function a0(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}function i0(e,t,n){return t===t?a0(e,t,n):n0(e,r0,n)}function s0(e,t){var n=e==null?0:e.length;return!!n&&i0(e,t,0)>-1}var Cl=kl?kl.isConcatSpreadable:void 0;function o0(e){return ef(e)||zg(e)||!!(Cl&&e&&e[Cl])}function c0(e,t,n,r,a){var i=-1,s=e.length;for(n||(n=o0),a||(a=[]);++i<s;){var o=e[i];n(o)&&qg(a,o)}return a}function Pl(e){for(var t=-1,n=e==null?0:e.length,r=0,a=[];++t<n;){var i=e[t];i&&(a[r++]=i)}return a}function u0(e,t,n,r){for(var a=-1,i=e==null?0:e.length;++a<i;){var s=e[a];t(r,s,n(s),e)}return r}function l0(e,t,n,r){return Hg(e,function(a,i,s){t(r,a,n(a),s)}),r}function d0(e,t){return function(n,r){var a=ef(n)?u0:l0,i={};return a(n,e,tf(r),i)}}var rf=Gg(function(e,t,n,r){Vg(e,t,n,r)});function p0(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}function f0(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function m0(e,t){return Kg(t,function(n){return e[n]})}function af(e){return e==null?[]:m0(e,Qg(e))}function sf(e,t){return Wg(e,t)}var Wa=d0(function(e,t,n){Jg(e,n,t)}),h0=1/0,y0=Es&&1/nf(new Es([,-0]))[1]==h0?function(e){return new Es(e)}:t0,b0=200;function of(e,t,n){var r=-1,a=s0,i=e.length,s=!0,o=[],c=o;if(n)s=!1,a=p0;else if(i>=b0){var u=t?null:y0(e);if(u)return nf(u);s=!1,a=Yg,c=new Zg}else c=t?[]:o;e:for(;++r<i;){var l=e[r],d=t?t(l):l;if(l=n||l!==0?l:0,s&&d===d){for(var p=c.length;p--;)if(c[p]===d)continue e;t&&c.push(d),o.push(l)}else a(c,d,n)||(c!==o&&c.push(d),o.push(l))}return o}var cf=Xg(function(e){var t=f0(e);return Il(t)&&(t=void 0),of(c0(e,1,Il),tf(t))});function uf(e,t){return t=typeof t=="function"?t:void 0,e&&e.length?of(e,void 0,t):[]}var lf=["https://4everland.xyz/ipfs/{cid}{pathToResource}","https://w3s.link/ipfs/{cid}{pathToResource}","https://ipfs.io/ipfs/{cid}{pathToResource}","https://dweb.link/ipfs/{cid}{pathToResource}"],df=/^ipfs:\/\/([^/]+)(.*)$/;function g0(e){let[,t="",n=""]=df.exec(e)??[];return t?{cid:t,pathToResource:n}:null}function w0(e,t){let n=t.pathToResource===""||t.pathToResource.startsWith("/")?t.pathToResource:`/${t.pathToResource}`;return e.replace(/{cid}/g,t.cid).replace(/\/?{pathToResource}/g,n)}function v0(e,t=lf){let n=g0(e);return n?t.map(r=>({gateway:r,url:w0(r,n)})):[]}function x0(e){return df.test(e)}var A0=(e=>(e.allFailed="ipfsFetch all failed",e))(A0||{}),E0=class extends Error{constructor(t,n,r){super(t),this.url=n,this.web2InfoList=r}name="IpfsFetchError"},k0=new Promise(()=>{});function I0(e,{gateways:t=lf,signal:n,...r}={}){let a=v0(e,t),i=new Set,s=0;return Promise.race(a.map(o=>{let c=new AbortController;i.add(c),n?.addEventListener("abort",()=>c.abort());let u=()=>(s+=1,s>=a.length?Promise.reject(new E0("ipfsFetch all failed",e,a)):k0);return fetch(o.url,{...r,signal:c.signal}).then(l=>l.ok?(i.delete(c),Object.assign(l,{_info:o})):u()).catch(l=>l instanceof Error&&l.name==="AbortError"?Promise.reject(l):u())})).finally(()=>{i.forEach(o=>o.abort()),i.clear()})}var Is={},Cs,Tl;function C0(){if(Tl)return Cs;Tl=1;function e(t,n){typeof n=="boolean"&&(n={forever:n}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=n||{},this._maxRetryTime=n&&n.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return Cs=e,e.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},e.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},e.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var n=new Date().getTime();if(t&&n-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var a=this;return this._timer=setTimeout(function(){a._attempts++,a._operationTimeoutCb&&(a._timeout=setTimeout(function(){a._operationTimeoutCb(a._attempts)},a._operationTimeout),a._options.unref&&a._timeout.unref()),a._fn(a._attempts)},r),this._options.unref&&this._timer.unref(),!0},e.prototype.attempt=function(t,n){this._fn=t,n&&(n.timeout&&(this._operationTimeout=n.timeout),n.cb&&(this._operationTimeoutCb=n.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},e.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)},e.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)},e.prototype.start=e.prototype.try,e.prototype.errors=function(){return this._errors},e.prototype.attempts=function(){return this._attempts},e.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},n=null,r=0,a=0;a<this._errors.length;a++){var i=this._errors[a],s=i.message,o=(t[s]||0)+1;t[s]=o,o>=r&&(n=i,r=o)}return n},Cs}var Sl;function P0(){return Sl||(Sl=1,function(e){var t=C0();e.operation=function(n){var r=e.timeouts(n);return new t(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},e.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var a in n)r[a]=n[a];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var i=[],s=0;s<r.retries;s++)i.push(this.createTimeout(s,r));return n&&n.forever&&!i.length&&i.push(this.createTimeout(s,r)),i.sort(function(o,c){return o-c}),i},e.createTimeout=function(n,r){var a=r.randomize?Math.random()+1:1,i=Math.round(a*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return i=Math.min(i,r.maxTimeout),i},e.wrap=function(n,r,a){if(r instanceof Array&&(a=r,r=null),!a){a=[];for(var i in n)typeof n[i]=="function"&&a.push(i)}for(var s=0;s<a.length;s++){var o=a[s],c=n[o];n[o]=function(l){var d=e.operation(r),p=Array.prototype.slice.call(arguments,1),f=p.pop();p.push(function(m){d.retry(m)||(m&&(arguments[0]=d.mainError()),f.apply(this,arguments))}),d.attempt(function(){l.apply(n,p)})}.bind(n,c),n[o].options=r}}}(Is)),Is}var Ps,Bl;function T0(){return Bl||(Bl=1,Ps=P0()),Ps}var Ts,Rl;function S0(){if(Rl)return Ts;Rl=1;var e=T0();function t(n,r){function a(i,s){var o=r||{},c;"randomize"in o||(o.randomize=!0),c=e.operation(o);function u(p){s(p||new Error("Aborted"))}function l(p,f){if(p.bail){u(p);return}c.retry(p)?o.onRetry&&o.onRetry(p,f):s(c.mainError())}function d(p){var f;try{f=n(u,p)}catch(m){l(m,p);return}Promise.resolve(f).then(i).catch(function(y){l(y,p)})}c.attempt(d)}return new Promise(a)}return Ts=t,Ts}var B0=S0();const pf=ki(B0);function ff(e){return e&&{...e,connected_accounts:R0(e.connected_accounts)}}function R0(e){return Array.isArray(e)?e.map(t=>{switch(typeof t){case"string":return t;case"object":return t&&"uri"in t&&typeof t.uri=="string"?t.uri:"";default:return""}}).filter(Boolean):[]}function M0(e){return pf(async()=>await fetch("https://ipfs-relay.crossbell.io/json",{method:"POST",body:JSON.stringify(e)}).then(n=>n.json()),{retries:3})}async function N0(e){const t=await M0(e);if(!t?.url?.startsWith("ipfs://"))throw new Error("upload to IPFS failed");return t.url}function nu(e){return pf(async()=>{if(x0(e)){const n=await I0(e).then(r=>r.text());try{return JSON.parse(n)}catch{throw new Error(`Failed to parse metadata from uri: ${e}`)}}let t="";try{return t=await fetch(e).then(n=>n.text()),t=JSON.parse(t),t}catch{throw new Error(`Failed to fetch metadata from uri: ${e} . Response: ${t}`)}},{retries:3})}async function wr(e,t,n=!1){if(t==="")return{uri:"",metadata:void 0};let r,a;return typeof t=="string"?(r=t,a=n?await nu(r):void 0):(a=t,a.type||(a.type=e),r=await N0(a)),a&&e==="character"&&(a=ff(a)),{metadata:a,uri:r}}function mf(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const hf="2.33.3";let Ss={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${hf}`},M=class So extends Error{constructor(t,n={}){const r=n.cause instanceof So?n.cause.details:n.cause?.message?n.cause.message:n.details,a=n.cause instanceof So&&n.cause.docsPath||n.docsPath,i=Ss.getDocsUrl?.({...n,docsPath:a}),s=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...Ss.version?[`Version: ${Ss.version}`]:[]].join(`
`);super(s,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=a,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=hf}walk(t){return yf(this,t)}};function yf(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?yf(e.cause,t):t?null:e}let bf=class extends M{constructor({max:t,min:n,signed:r,size:a,value:i}){super(`Number "${i}" is not in safe ${a?`${a*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class O0 extends M{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}let $0=class extends M{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}},_0=class extends M{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function vt(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function se(e){return vt(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function je(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let a=0;a<n.length-1&&n[t==="left"?a:n.length-a-1].toString()==="0";a++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}let gf=class extends M{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},wf=class extends M{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class Ml extends M{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function St(e,{dir:t,size:n=32}={}){return typeof e=="string"?Ut(e,{dir:t,size:n}):F0(e,{dir:t,size:n})}function Ut(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new wf({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function F0(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new wf({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let a=0;a<n;a++){const i=t==="right";r[i?a:n-a-1]=e[i?a:e.length-a-1]}return r}const L0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ue(e,t={}){return typeof e=="number"||typeof e=="bigint"?F(e,t):typeof e=="string"?ae(e,t):typeof e=="boolean"?ru(e,t):he(e,t)}function ru(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(nt(n,{size:t.size}),St(n,{size:t.size})):n}function he(e,t={}){let n="";for(let a=0;a<e.length;a++)n+=L0[e[a]];const r=`0x${n}`;return typeof t.size=="number"?(nt(r,{size:t.size}),St(r,{dir:"right",size:t.size})):r}function F(e,t={}){const{signed:n,size:r}=t,a=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof i=="bigint"&&n?-i-1n:0;if(i&&a>i||a<s){const c=typeof e=="bigint"?"n":"";throw new bf({max:i?`${i}${c}`:void 0,min:`${s}${c}`,signed:n,size:r,value:`${e}${c}`})}const o=`0x${(n&&a<0?(1n<<BigInt(r*8))+BigInt(a):a).toString(16)}`;return r?St(o,{size:r}):o}const j0=new TextEncoder;function ae(e,t={}){const n=j0.encode(e);return he(n,t)}const D0=new TextEncoder;function Kn(e,t={}){return typeof e=="number"||typeof e=="bigint"?z0(e,t):typeof e=="boolean"?U0(e,t):vt(e)?Ye(e,t):Xt(e,t)}function U0(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(nt(n,{size:t.size}),St(n,{size:t.size})):n}const Et={zero:48,nine:57,A:65,F:70,a:97,f:102};function Nl(e){if(e>=Et.zero&&e<=Et.nine)return e-Et.zero;if(e>=Et.A&&e<=Et.F)return e-(Et.A-10);if(e>=Et.a&&e<=Et.f)return e-(Et.a-10)}function Ye(e,t={}){let n=e;t.size&&(nt(n,{size:t.size}),n=St(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const a=r.length/2,i=new Uint8Array(a);for(let s=0,o=0;s<a;s++){const c=Nl(r.charCodeAt(o++)),u=Nl(r.charCodeAt(o++));if(c===void 0||u===void 0)throw new M(`Invalid byte sequence ("${r[o-2]}${r[o-1]}" in "${r}").`);i[s]=c*16+u}return i}function z0(e,t){const n=F(e,t);return Ye(n)}function Xt(e,t={}){const n=D0.encode(e);return typeof t.size=="number"?(nt(n,{size:t.size}),St(n,{dir:"right",size:t.size})):n}function nt(e,{size:t}){if(se(e)>t)throw new _0({givenSize:se(e),maxSize:t})}function ze(e,t={}){const{signed:n}=t;t.size&&nt(e,{size:t.size});const r=BigInt(e);if(!n)return r;const a=(e.length-2)/2,i=(1n<<BigInt(a)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(a*2,"f")}`)-1n}function q0(e,t={}){let n=e;if(t.size&&(nt(n,{size:t.size}),n=je(n)),je(n)==="0x00")return!1;if(je(n)==="0x01")return!0;throw new $0(n)}function Xe(e,t={}){return Number(ze(e,t))}function H0(e,t={}){let n=Ye(e);return t.size&&(nt(n,{size:t.size}),n=je(n,{dir:"right"})),new TextDecoder().decode(n)}const vf={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function xf(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Xe(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Xe(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?vf[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=G0(e.authorizationList)),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}function G0(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function Af(e){const t=(e.transactions??[]).map(n=>typeof n=="string"?n:xf(n));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}function Rt(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}const Ef={"0x0":"reverted","0x1":"success"};function V0(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>Rt(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Xe(e.transactionIndex):null,status:e.status?Ef[e.status]:null,type:e.type?vf[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const K0={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Qn(e){const t={};return typeof e.authorizationList<"u"&&(t.authorizationList=Q0(e.authorizationList)),typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>he(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=F(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=F(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=F(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=F(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=F(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=F(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=K0[e.type]),typeof e.value<"u"&&(t.value=F(e.value)),t}function Q0(e){return e.map(t=>({address:t.address,r:t.r?F(BigInt(t.r)):t.r,s:t.s?F(BigInt(t.s)):t.s,chainId:F(t.chainId),nonce:F(t.nonce),...typeof t.yParity<"u"?{yParity:F(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:F(t.v)}:{}}))}const Ci=2n**256n-1n;function et(e){return typeof e[0]=="string"?rt(e):W0(e)}function W0(e){let t=0;for(const a of e)t+=a.length;const n=new Uint8Array(t);let r=0;for(const a of e)n.set(a,r),r+=a.length;return n}function rt(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}class Ol extends M{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class kf extends M{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}}class J0 extends M{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}const Z0={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new J0({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new kf({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Ol({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Ol({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function au(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Z0);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function nn(e,t="hex"){const n=If(e),r=au(new Uint8Array(n.length));return n.encode(r),t==="hex"?he(r.bytes):r.bytes}function If(e){return Array.isArray(e)?Y0(e.map(t=>If(t))):X0(e)}function Y0(e){const t=e.reduce((a,i)=>a+i.length,0),n=Cf(t);return{length:t<=55?1+t:1+n+t,encode(a){t<=55?a.pushByte(192+t):(a.pushByte(247+n),n===1?a.pushUint8(t):n===2?a.pushUint16(t):n===3?a.pushUint24(t):a.pushUint32(t));for(const{encode:i}of e)i(a)}}}function X0(e){const t=typeof e=="string"?Ye(e):e,n=Cf(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(a){t.length===1&&t[0]<128?a.pushBytes(t):t.length<=55?(a.pushByte(128+t.length),a.pushBytes(t)):(a.pushByte(183+n),n===1?a.pushUint8(t.length):n===2?a.pushUint16(t.length):n===3?a.pushUint24(t.length):a.pushUint32(t.length),a.pushBytes(t))}}}function Cf(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new M("Length is too large.")}const ew={gwei:9,wei:18},tw={ether:-9,wei:9};function Pf(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[a,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${a||"0"}${i?`.${i}`:""}`}function iu(e,t="wei"){return Pf(e,ew[t])}function Ne(e,t="wei"){return Pf(e,tw[t])}function Xr(e){const t=Object.entries(e).map(([r,a])=>a===void 0||a===!1?null:[r,a]).filter(Boolean),n=t.reduce((r,[a])=>Math.max(r,a.length),0);return t.map(([r,a])=>`  ${`${r}:`.padEnd(n+1)}  ${a}`).join(`
`)}let nw=class extends M{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}};class rw extends M{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class aw extends M{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Xr(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class iw extends M{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class sw extends M{constructor(t,{account:n,docsPath:r,chain:a,data:i,gas:s,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:p}){const f=Xr({chain:a&&`${a?.name} (id: ${a?.id})`,from:n?.address,to:d,value:typeof p<"u"&&`${iu(p)} ${a?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:s,gasPrice:typeof o<"u"&&`${Ne(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ne(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Ne(u)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",f].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}let Tf=class extends M{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:a,index:i}){let s="Transaction";r&&i!==void 0&&(s=`Transaction at block time "${r}" at index "${i}"`),t&&i!==void 0&&(s=`Transaction at block hash "${t}" at index "${i}"`),n&&i!==void 0&&(s=`Transaction at block number "${n}" at index "${i}"`),a&&(s=`Transaction with hash "${a}"`),super(`${s} could not be found.`,{name:"TransactionNotFoundError"})}},Sf=class extends M{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}},ow=class extends M{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}};function cw(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:a,...i}=n,s=n.address;t.push([r?Ue(r):"0x",s,a?Ue(a):"0x",...ra({},i)])}return t}function su(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>Ye(i)):e.blobs,a=[];for(const i of r)a.push(Uint8Array.from(t.blobToKzgCommitment(i)));return n==="bytes"?a:a.map(i=>he(i))}function ou(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(s=>Ye(s)):e.blobs,a=typeof e.commitments[0]=="string"?e.commitments.map(s=>Ye(s)):e.commitments,i=[];for(let s=0;s<r.length;s++){const o=r[s],c=a[s];i.push(Uint8Array.from(t.computeBlobKzgProof(o,c)))}return n==="bytes"?i:i.map(s=>he(s))}const vn=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function cu(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Pr(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function it(e,...t){if(!cu(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function uw(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Pr(e.outputLen),Pr(e.blockLen)}function On(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Bf(e,t){it(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function lw(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function $n(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Bs(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function dt(e,t){return e<<32-t|e>>>t}const dw=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function pw(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function fw(e){for(let t=0;t<e.length;t++)e[t]=pw(e[t]);return e}const $l=dw?e=>e:fw,Rf=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",mw=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Tr(e){if(it(e),Rf)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=mw[e[n]];return t}const kt={_0:48,_9:57,A:65,F:70,a:97,f:102};function _l(e){if(e>=kt._0&&e<=kt._9)return e-kt._0;if(e>=kt.A&&e<=kt.F)return e-(kt.A-10);if(e>=kt.a&&e<=kt.f)return e-(kt.a-10)}function uu(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Rf)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let a=0,i=0;a<n;a++,i+=2){const s=_l(e.charCodeAt(i)),o=_l(e.charCodeAt(i+1));if(s===void 0||o===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[a]=s*16+o}return r}function hw(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Pi(e){return typeof e=="string"&&(e=hw(e)),it(e),e}function Wt(...e){let t=0;for(let r=0;r<e.length;r++){const a=e[r];it(a),t+=a.length}const n=new Uint8Array(t);for(let r=0,a=0;r<e.length;r++){const i=e[r];n.set(i,a),a+=i.length}return n}let lu=class{};function Mf(e){const t=r=>e().update(Pi(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function yw(e=32){if(vn&&typeof vn.getRandomValues=="function")return vn.getRandomValues(new Uint8Array(e));if(vn&&typeof vn.randomBytes=="function")return Uint8Array.from(vn.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function bw(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const a=BigInt(32),i=BigInt(4294967295),s=Number(n>>a&i),o=Number(n&i),c=r?4:0,u=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+u,o,r)}function gw(e,t,n){return e&t^~e&n}function ww(e,t,n){return e&t^e&n^t&n}class vw extends lu{constructor(t,n,r,a){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=a,this.buffer=new Uint8Array(t),this.view=Bs(this.buffer)}update(t){On(this),t=Pi(t),it(t);const{view:n,buffer:r,blockLen:a}=this,i=t.length;for(let s=0;s<i;){const o=Math.min(a-this.pos,i-s);if(o===a){const c=Bs(t);for(;a<=i-s;s+=a)this.process(c,s);continue}r.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===a&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){On(this),Bf(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:a,isLE:i}=this;let{pos:s}=this;n[s++]=128,$n(this.buffer.subarray(s)),this.padOffset>a-s&&(this.process(r,0),s=0);for(let d=s;d<a;d++)n[d]=0;bw(r,a-8,BigInt(this.length*8),i),this.process(r,0);const o=Bs(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)o.setUint32(4*d,l[d],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:a,finished:i,destroyed:s,pos:o}=this;return t.destroyed=s,t.finished=i,t.length=a,t.pos=o,a%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const _t=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Aa=BigInt(2**32-1),Fl=BigInt(32);function xw(e,t=!1){return t?{h:Number(e&Aa),l:Number(e>>Fl&Aa)}:{h:Number(e>>Fl&Aa)|0,l:Number(e&Aa)|0}}function Aw(e,t=!1){const n=e.length;let r=new Uint32Array(n),a=new Uint32Array(n);for(let i=0;i<n;i++){const{h:s,l:o}=xw(e[i],t);[r[i],a[i]]=[s,o]}return[r,a]}const Ew=(e,t,n)=>e<<n|t>>>32-n,kw=(e,t,n)=>t<<n|e>>>32-n,Iw=(e,t,n)=>t<<n-32|e>>>64-n,Cw=(e,t,n)=>e<<n-32|t>>>64-n,Pw=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ft=new Uint32Array(64);class Tw extends vw{constructor(t=32){super(64,t,8,!1),this.A=_t[0]|0,this.B=_t[1]|0,this.C=_t[2]|0,this.D=_t[3]|0,this.E=_t[4]|0,this.F=_t[5]|0,this.G=_t[6]|0,this.H=_t[7]|0}get(){const{A:t,B:n,C:r,D:a,E:i,F:s,G:o,H:c}=this;return[t,n,r,a,i,s,o,c]}set(t,n,r,a,i,s,o,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=a|0,this.E=i|0,this.F=s|0,this.G=o|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Ft[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const p=Ft[d-15],f=Ft[d-2],m=dt(p,7)^dt(p,18)^p>>>3,y=dt(f,17)^dt(f,19)^f>>>10;Ft[d]=y+Ft[d-7]+m+Ft[d-16]|0}let{A:r,B:a,C:i,D:s,E:o,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const p=dt(o,6)^dt(o,11)^dt(o,25),f=l+p+gw(o,c,u)+Pw[d]+Ft[d]|0,y=(dt(r,2)^dt(r,13)^dt(r,22))+ww(r,a,i)|0;l=u,u=c,c=o,o=s+f|0,s=i,i=a,a=r,r=f+y|0}r=r+this.A|0,a=a+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,a,i,s,o,c,u,l)}roundClean(){$n(Ft)}destroy(){this.set(0,0,0,0,0,0,0,0),$n(this.buffer)}}const Nf=Mf(()=>new Tw),Sw=Nf;function Bw(e,t){return Sw(vt(e,{strict:!1})?Kn(e):e)}function Rw(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),a=Bw(t);return a.set([n],0),r==="bytes"?a:he(a)}function Of(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),a=[];for(const i of t)a.push(Rw({commitment:i,to:r,version:n}));return a}const Ll=6,$f=32,du=4096,_f=$f*du,jl=_f*Ll-1-1*du*Ll,Ff=1;class Mw extends M{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Lf extends M{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Nw extends M{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Ow extends M{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Ff}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function $w(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?Ye(e.data):e.data,r=se(n);if(!r)throw new Lf;if(r>jl)throw new Mw({maxSize:jl,size:r});const a=[];let i=!0,s=0;for(;i;){const o=au(new Uint8Array(_f));let c=0;for(;c<du;){const u=n.slice(s,s+($f-1));if(o.pushByte(0),o.pushBytes(u),u.length<31){o.pushByte(128),i=!1;break}c++,s+=31}a.push(o)}return t==="bytes"?a.map(o=>o.bytes):a.map(o=>he(o.bytes))}function jf(e){const{data:t,kzg:n,to:r}=e,a=e.blobs??$w({data:t,to:r}),i=e.commitments??su({blobs:a,kzg:n,to:r}),s=e.proofs??ou({blobs:a,commitments:i,kzg:n,to:r}),o=[];for(let c=0;c<a.length;c++)o.push({blob:a[c],commitment:i[c],proof:s[c]});return o}let Ae=class extends M{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Bo=class extends M{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}};class _w extends M{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id} – ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id} – ${t.name}`],name:"ChainMismatchError"})}}class Fw extends M{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}let Df=class extends M{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}};class Ti extends M{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}let Tn=class extends M{constructor({cause:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}};Object.defineProperty(Tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Tn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});let rn=class extends M{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ne(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}};Object.defineProperty(rn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});let Ro=class extends M{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ne(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}};Object.defineProperty(Ro,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});let Mo=class extends M{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}};Object.defineProperty(Mo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});let No=class extends M{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}};Object.defineProperty(No,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});let Oo=class extends M{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}};Object.defineProperty(Oo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});let $o=class extends M{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}};Object.defineProperty($o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});let _o=class extends M{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}};Object.defineProperty(_o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});let Fo=class extends M{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}};Object.defineProperty(Fo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});let Lo=class extends M{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}};Object.defineProperty(Lo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});let Sr=class extends M{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Ne(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Ne(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}};Object.defineProperty(Sr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});let ea=class extends M{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t,name:"UnknownNodeError"})}},ta=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Lw=BigInt(0),lr=BigInt(1),jw=BigInt(2),Dw=BigInt(7),Uw=BigInt(256),zw=BigInt(113),Uf=[],zf=[],qf=[];for(let e=0,t=lr,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Uf.push(2*(5*r+n)),zf.push((e+1)*(e+2)/2%64);let a=Lw;for(let i=0;i<7;i++)t=(t<<lr^(t>>Dw)*zw)%Uw,t&jw&&(a^=lr<<(lr<<BigInt(i))-lr);qf.push(a)}const Hf=Aw(qf,!0),qw=Hf[0],Hw=Hf[1],Dl=(e,t,n)=>n>32?Iw(e,t,n):Ew(e,t,n),Ul=(e,t,n)=>n>32?Cw(e,t,n):kw(e,t,n);function Gw(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let s=0;s<10;s++)n[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){const o=(s+8)%10,c=(s+2)%10,u=n[c],l=n[c+1],d=Dl(u,l,1)^n[o],p=Ul(u,l,1)^n[o+1];for(let f=0;f<50;f+=10)e[s+f]^=d,e[s+f+1]^=p}let a=e[2],i=e[3];for(let s=0;s<24;s++){const o=zf[s],c=Dl(a,i,o),u=Ul(a,i,o),l=Uf[s];a=e[l],i=e[l+1],e[l]=c,e[l+1]=u}for(let s=0;s<50;s+=10){for(let o=0;o<10;o++)n[o]=e[s+o];for(let o=0;o<10;o++)e[s+o]^=~n[(o+2)%10]&n[(o+4)%10]}e[0]^=qw[r],e[1]^=Hw[r]}$n(n)}let Vw=class Gf extends lu{constructor(t,n,r,a=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=a,this.rounds=i,Pr(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=lw(this.state)}clone(){return this._cloneInto()}keccak(){$l(this.state32),Gw(this.state32,this.rounds),$l(this.state32),this.posOut=0,this.pos=0}update(t){On(this),t=Pi(t),it(t);const{blockLen:n,state:r}=this,a=t.length;for(let i=0;i<a;){const s=Math.min(n-this.pos,a-i);for(let o=0;o<s;o++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:a}=this;t[r]^=n,n&128&&r===a-1&&this.keccak(),t[a-1]^=128,this.keccak()}writeInto(t){On(this,!1),it(t),this.finish();const n=this.state,{blockLen:r}=this;for(let a=0,i=t.length;a<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-a);t.set(n.subarray(this.posOut,this.posOut+s),a),this.posOut+=s,a+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Pr(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Bf(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,$n(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:a,rounds:i,enableXOF:s}=this;return t||(t=new Gf(n,r,a,s,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=a,t.enableXOF=s,t.destroyed=this.destroyed,t}};const Kw=(e,t,n)=>Mf(()=>new Vw(t,e,n)),Vf=Kw(1,136,256/8);function ie(e,t){const n=t||"hex",r=Vf(vt(e,{strict:!1})?Kn(e):e);return n==="bytes"?r:Ue(r)}const Rs=new ta(8192);function na(e,t){if(Rs.has(`${e}.${t}`))return Rs.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=ie(Xt(n),"bytes"),a=n.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&a[s]&&(a[s]=a[s].toUpperCase()),(r[s>>1]&15)>=8&&a[s+1]&&(a[s+1]=a[s+1].toUpperCase());const i=`0x${a.join("")}`;return Rs.set(`${e}.${t}`,i),i}function Kf(e,t){if(!ye(e,{strict:!1}))throw new Ae({address:e});return na(e,t)}const Qw=/^0x[a-fA-F0-9]{40}$/,Ms=new ta(8192);function ye(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(Ms.has(r))return Ms.get(r);const a=Qw.test(e)?e.toLowerCase()===e?!0:n?na(e)===e:!0:!1;return Ms.set(r,a),a}function an(e,t,n,{strict:r}={}){return vt(e,{strict:!1})?Ja(e,t,n,{strict:r}):Jf(e,t,n,{strict:r})}function Qf(e,t){if(typeof t=="number"&&t>0&&t>se(e)-1)throw new gf({offset:t,position:"start",size:se(e)})}function Wf(e,t,n){if(typeof t=="number"&&typeof n=="number"&&se(e)!==n-t)throw new gf({offset:n,position:"end",size:se(e)})}function Jf(e,t,n,{strict:r}={}){Qf(e,t);const a=e.slice(t,n);return r&&Wf(a,t,n),a}function Ja(e,t,n,{strict:r}={}){Qf(e,t);const a=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Wf(a,t,n),a}function Ww(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,a=n.address;if(!ye(a))throw new Ae({address:a});if(r<0)throw new Ti({chainId:r})}pu(e)}function Jw(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new Lf;for(const n of t){const r=se(n),a=Xe(an(n,0,1));if(r!==32)throw new Nw({hash:n,size:r});if(a!==Ff)throw new Ow({hash:n,version:a})}}pu(e)}function pu(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:a}=e;if(t<=0)throw new Ti({chainId:t});if(a&&!ye(a))throw new Ae({address:a});if(r&&r>Ci)throw new rn({maxFeePerGas:r});if(n&&r&&n>r)throw new Sr({maxFeePerGas:r,maxPriorityFeePerGas:n})}function Zw(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:a,to:i}=e;if(t<=0)throw new Ti({chainId:t});if(i&&!ye(i))throw new Ae({address:i});if(n||a)throw new M("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>Ci)throw new rn({maxFeePerGas:r})}function Yw(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:a,to:i}=e;if(i&&!ye(i))throw new Ae({address:i});if(typeof t<"u"&&t<=0)throw new Ti({chainId:t});if(n||a)throw new M("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>Ci)throw new rn({maxFeePerGas:r})}function Zf(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new aw({transaction:e})}function Si(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:a}=e[n];for(let i=0;i<a.length;i++)if(a[i].length-2!==64)throw new iw({storageKey:a[i]});if(!ye(r,{strict:!1}))throw new Ae({address:r});t.push([r,a])}return t}function Xw(e,t){const n=Zf(e);return n==="eip1559"?nv(e,t):n==="eip2930"?rv(e,t):n==="eip4844"?tv(e,t):n==="eip7702"?ev(e,t):av(e,t)}function ev(e,t){const{authorizationList:n,chainId:r,gas:a,nonce:i,to:s,value:o,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:l,data:d}=e;Ww(e);const p=Si(l),f=cw(n);return rt(["0x04",nn([F(r),i?F(i):"0x",u?F(u):"0x",c?F(c):"0x",a?F(a):"0x",s??"0x",o?F(o):"0x",d??"0x",p,f,...ra(e,t)])])}function tv(e,t){const{chainId:n,gas:r,nonce:a,to:i,value:s,maxFeePerBlobGas:o,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:l,data:d}=e;Jw(e);let p=e.blobVersionedHashes,f=e.sidecars;if(e.blobs&&(typeof p>"u"||typeof f>"u")){const w=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(k=>he(k)),v=e.kzg,x=su({blobs:w,kzg:v});if(typeof p>"u"&&(p=Of({commitments:x})),typeof f>"u"){const k=ou({blobs:w,commitments:x,kzg:v});f=jf({blobs:w,commitments:x,proofs:k})}}const m=Si(l),y=[F(n),a?F(a):"0x",u?F(u):"0x",c?F(c):"0x",r?F(r):"0x",i??"0x",s?F(s):"0x",d??"0x",m,o?F(o):"0x",p??[],...ra(e,t)],g=[],b=[],h=[];if(f)for(let w=0;w<f.length;w++){const{blob:v,commitment:x,proof:k}=f[w];g.push(v),b.push(x),h.push(k)}return rt(["0x03",nn(f?[y,g,b,h]:y)])}function nv(e,t){const{chainId:n,gas:r,nonce:a,to:i,value:s,maxFeePerGas:o,maxPriorityFeePerGas:c,accessList:u,data:l}=e;pu(e);const d=Si(u),p=[F(n),a?F(a):"0x",c?F(c):"0x",o?F(o):"0x",r?F(r):"0x",i??"0x",s?F(s):"0x",l??"0x",d,...ra(e,t)];return rt(["0x02",nn(p)])}function rv(e,t){const{chainId:n,gas:r,data:a,nonce:i,to:s,value:o,accessList:c,gasPrice:u}=e;Zw(e);const l=Si(c),d=[F(n),i?F(i):"0x",u?F(u):"0x",r?F(r):"0x",s??"0x",o?F(o):"0x",a??"0x",l,...ra(e,t)];return rt(["0x01",nn(d)])}function av(e,t){const{chainId:n=0,gas:r,data:a,nonce:i,to:s,value:o,gasPrice:c}=e;Yw(e);let u=[i?F(i):"0x",c?F(c):"0x",r?F(r):"0x",s??"0x",o?F(o):"0x",a??"0x"];if(t){const l=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const f=27n+(t.v===27n?0n:1n);if(t.v!==f)throw new rw({v:t.v});return f})(),d=je(t.r),p=je(t.s);u=[...u,F(l),d==="0x00"?"0x":d,p==="0x00"?"0x":p]}else n>0&&(u=[...u,F(n),"0x","0x"]);return nn(u)}function ra(e,t){const n=t??e,{v:r,yParity:a}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof a>"u")return[];const i=je(n.r),s=je(n.s);return[typeof a=="number"?a?F(1):"0x":r===0n?"0x":r===1n?F(1):r===27n?"0x":F(1),i==="0x00"?"0x":i,s==="0x00"?"0x":s]}const zl=mf({id:3737,name:"Crossbell",nativeCurrency:{decimals:18,name:"CSB",symbol:"CSB"},rpcUrls:{default:{http:["https://rpc.crossbell.io"]}},blockExplorers:{default:{name:"CrossScan",url:"https://scan.crossbell.io",apiUrl:"https://scan.crossbell.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:38246031}}});function Yf({chain:e,currentChainId:t}){if(!e)throw new Fw;if(t!==e.id)throw new _w({chain:e,currentChainId:t})}function Wn({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new Bo({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Bo({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function pe(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}let fn=class extends M{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}};class Da extends M{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}const Xf={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},em={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},iv={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function st(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new yv(e.type);return`${e.name}(${Bi(e.inputs,{includeName:t})})`}function Bi(e,{includeName:t=!1}={}){return e?e.map(n=>sv(n,{includeName:t})).join(t?", ":","):""}function sv(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Bi(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}let ov=class extends M{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}},ql=class extends M{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}},tm=class extends M{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Bi(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}},aa=class extends M{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}},cv=class extends M{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}},uv=class extends M{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${se(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}},nm=class extends M{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}};class lv extends M{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Hl extends M{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}let rm=class extends M{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}},dv=class extends M{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}},am=class extends M{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}},Gl=class extends M{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}},_n=class extends M{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}},im=class extends M{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}};class pv extends M{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class fv extends M{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${st(t.abiItem)}\`, and`,`\`${n.type}\` in \`${st(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let sm=class extends M{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}},Br=class extends M{constructor({abiItem:t,data:n,params:r,size:a}){super([`Data size of ${a} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Bi(r,{includeName:!0})})`,`Data:   ${n} (${a} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=a}},Ri=class extends M{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${st(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}},mv=class extends M{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}},hv=class extends M{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}},om=class extends M{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}},yv=class extends M{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}};class bv extends M{constructor(t){super(`Type "${t}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}const gv=e=>ie(Kn(e));function wv(e){return gv(e)}const vv="1.0.8";let Ve=class jo extends Error{constructor(t,n={}){const r=n.cause instanceof jo?n.cause.details:n.cause?.message?n.cause.message:n.details,a=n.cause instanceof jo&&n.cause.docsPath||n.docsPath,i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: https://abitype.dev${a}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${vv}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=a,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Ot(e,t){return e.exec(t)?.groups}const cm=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,um=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,lm=/^\(.+?\).*?$/,Vl=/^tuple(?<array>(\[(\d*)\])*)$/;function Do(e){let t=e.type;if(Vl.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let a=0;a<n;a++){const i=e.components[a];t+=Do(i),a<n-1&&(t+=", ")}const r=Ot(Vl,e.type);return t+=`)${r?.array??""}`,Do({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function dr(e){let t="";const n=e.length;for(let r=0;r<n;r++){const a=e[r];t+=Do(a),r!==n-1&&(t+=", ")}return t}function Za(e){return e.type==="function"?`function ${e.name}(${dr(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${dr(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${dr(e.inputs)})`:e.type==="error"?`error ${e.name}(${dr(e.inputs)})`:e.type==="constructor"?`constructor(${dr(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const dm=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function xv(e){return dm.test(e)}function Av(e){return Ot(dm,e)}const pm=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Ev(e){return pm.test(e)}function kv(e){return Ot(pm,e)}const fm=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Iv(e){return fm.test(e)}function Cv(e){return Ot(fm,e)}const mm=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function fu(e){return mm.test(e)}function Pv(e){return Ot(mm,e)}const hm=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Tv(e){return hm.test(e)}function Sv(e){return Ot(hm,e)}const ym=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Bv(e){return ym.test(e)}function Rv(e){return Ot(ym,e)}const Mv=/^receive\(\) external payable$/;function Nv(e){return Mv.test(e)}const Ov=new Set(["indexed"]),Uo=new Set(["calldata","memory","storage"]);class $v extends Ve{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class _v extends Ve{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Fv extends Ve{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Lv extends Ve{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class jv extends Ve{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Dv extends Ve{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Uv extends Ve{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class zv extends Ve{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Jn extends Ve{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class qv extends Ve{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Hv extends Ve{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Gv extends Ve{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Vv extends Ve{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Kv(e,t,n){let r="";if(n)for(const a of Object.entries(n)){if(!a)continue;let i="";for(const s of a[1])i+=`[${s.type}${s.name?`:${s.name}`:""}]`;r+=`(${a[0]}{${i}})`}return t?`${t}:${e}${r}`:e}const Ns=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function zo(e,t={}){if(Iv(e))return Qv(e,t);if(Ev(e))return Wv(e,t);if(xv(e))return Jv(e,t);if(Tv(e))return Zv(e,t);if(Bv(e))return Yv(e);if(Nv(e))return{type:"receive",stateMutability:"payable"};throw new qv({signature:e})}function Qv(e,t={}){const n=Cv(e);if(!n)throw new Jn({signature:e,type:"function"});const r=at(n.parameters),a=[],i=r.length;for(let o=0;o<i;o++)a.push(sn(r[o],{modifiers:Uo,structs:t,type:"function"}));const s=[];if(n.returns){const o=at(n.returns),c=o.length;for(let u=0;u<c;u++)s.push(sn(o[u],{modifiers:Uo,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:a,outputs:s}}function Wv(e,t={}){const n=kv(e);if(!n)throw new Jn({signature:e,type:"event"});const r=at(n.parameters),a=[],i=r.length;for(let s=0;s<i;s++)a.push(sn(r[s],{modifiers:Ov,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:a}}function Jv(e,t={}){const n=Av(e);if(!n)throw new Jn({signature:e,type:"error"});const r=at(n.parameters),a=[],i=r.length;for(let s=0;s<i;s++)a.push(sn(r[s],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:a}}function Zv(e,t={}){const n=Sv(e);if(!n)throw new Jn({signature:e,type:"constructor"});const r=at(n.parameters),a=[],i=r.length;for(let s=0;s<i;s++)a.push(sn(r[s],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:a}}function Yv(e){const t=Rv(e);if(!t)throw new Jn({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const Xv=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,e1=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,t1=/^u?int$/;function sn(e,t){const n=Kv(e,t?.type,t?.structs);if(Ns.has(n))return Ns.get(n);const r=lm.test(e),a=Ot(r?e1:Xv,e);if(!a)throw new Lv({param:e});if(a.name&&r1(a.name))throw new jv({param:e,name:a.name});const i=a.name?{name:a.name}:{},s=a.modifier==="indexed"?{indexed:!0}:{},o=t?.structs??{};let c,u={};if(r){c="tuple";const d=at(a.type),p=[],f=d.length;for(let m=0;m<f;m++)p.push(sn(d[m],{structs:o}));u={components:p}}else if(a.type in o)c="tuple",u={components:o[a.type]};else if(t1.test(a.type))c=`${a.type}256`;else if(c=a.type,t?.type!=="struct"&&!bm(c))throw new Fv({type:c});if(a.modifier){if(!t?.modifiers?.has?.(a.modifier))throw new Dv({param:e,type:t?.type,modifier:a.modifier});if(Uo.has(a.modifier)&&!a1(c,!!a.array))throw new Uv({param:e,type:t?.type,modifier:a.modifier})}const l={type:`${c}${a.array??""}`,...i,...s,...u};return Ns.set(n,l),l}function at(e,t=[],n="",r=0){const a=e.trim().length;for(let i=0;i<a;i++){const s=e[i],o=e.slice(i+1);switch(s){case",":return r===0?at(o,[...t,n.trim()]):at(o,t,`${n}${s}`,r);case"(":return at(o,t,`${n}${s}`,r+1);case")":return at(o,t,`${n}${s}`,r-1);default:return at(o,t,`${n}${s}`,r)}}if(n==="")return t;if(r!==0)throw new Vv({current:n,depth:r});return t.push(n.trim()),t}function bm(e){return e==="address"||e==="bool"||e==="function"||e==="string"||cm.test(e)||um.test(e)}const n1=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function r1(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||cm.test(e)||um.test(e)||n1.test(e)}function a1(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function gm(e){const t={},n=e.length;for(let s=0;s<n;s++){const o=e[s];if(!fu(o))continue;const c=Pv(o);if(!c)throw new Jn({signature:o,type:"struct"});const u=c.properties.split(";"),l=[],d=u.length;for(let p=0;p<d;p++){const m=u[p].trim();if(!m)continue;const y=sn(m,{type:"struct"});l.push(y)}if(!l.length)throw new Hv({signature:o});t[c.name]=l}const r={},a=Object.entries(t),i=a.length;for(let s=0;s<i;s++){const[o,c]=a[s];r[o]=wm(c,t)}return r}const i1=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function wm(e,t,n=new Set){const r=[],a=e.length;for(let i=0;i<a;i++){const s=e[i];if(lm.test(s.type))r.push(s);else{const c=Ot(i1,s.type);if(!c?.type)throw new zv({abiParameter:s});const{array:u,type:l}=c;if(l in t){if(n.has(l))throw new Gv({type:l});r.push({...s,type:`tuple${u??""}`,components:wm(t[l]??[],t,new Set([...n,l]))})}else if(bm(l))r.push(s);else throw new _v({type:l})}}return r}function vm(e){const t=gm(e),n=[],r=e.length;for(let a=0;a<r;a++){const i=e[a];fu(i)||n.push(zo(i,t))}return n}function Kl(e){let t;if(typeof e=="string")t=zo(e);else{const n=gm(e),r=e.length;for(let a=0;a<r;a++){const i=e[a];if(!fu(i)){t=zo(i,n);break}}}if(!t)throw new $v({signature:e});return t}function s1(e){let t=!0,n="",r=0,a="",i=!1;for(let s=0;s<e.length;s++){const o=e[s];if(["(",")",","].includes(o)&&(t=!0),o==="("&&r++,o===")"&&r--,!!t){if(r===0){if(o===" "&&["event","function",""].includes(a))a="";else if(a+=o,o===")"){i=!0;break}continue}if(o===" "){e[s-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}a+=o,n+=o}}if(!i)throw new M("Unable to normalize signature.");return a}const o1=e=>{const t=typeof e=="string"?e:Za(e);return s1(t)};function xm(e){return wv(o1(e))}const ia=e=>an(xm(e),0,4);function c1(e,t={}){typeof t.size<"u"&&nt(e,{size:t.size});const n=he(e,t);return ze(n,t)}function u1(e,t={}){let n=e;if(typeof t.size<"u"&&(nt(n,{size:t.size}),n=je(n)),n.length>1||n[0]>1)throw new O0(n);return!!n[0]}function Bt(e,t={}){typeof t.size<"u"&&nt(e,{size:t.size});const n=he(e,t);return Xe(n,t)}function l1(e,t={}){let n=e;return typeof t.size<"u"&&(nt(n,{size:t.size}),n=je(n,{dir:"right"})),new TextDecoder().decode(n)}const d1=/^(.*)\[([0-9]*)\]$/,Am=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,mu=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function qe(e,t){if(e.length!==t.length)throw new nm({expectedLength:e.length,givenLength:t.length});const n=p1({params:e,values:t}),r=yu(n);return r.length===0?"0x":r}function p1({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(hu({param:e[r],value:t[r]}));return n}function hu({param:e,value:t}){const n=bu(e.type);if(n){const[r,a]=n;return m1(t,{length:r,param:{...e,type:a}})}if(e.type==="tuple")return w1(t,{param:e});if(e.type==="address")return f1(t);if(e.type==="bool")return y1(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,a="256"]=mu.exec(e.type)??[];return b1(t,{signed:r,size:Number(a)})}if(e.type.startsWith("bytes"))return h1(t,{param:e});if(e.type==="string")return g1(t);throw new mv(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function yu(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:s,encoded:o}=e[i];s?t+=32:t+=se(o)}const n=[],r=[];let a=0;for(let i=0;i<e.length;i++){const{dynamic:s,encoded:o}=e[i];s?(n.push(F(t+a,{size:32})),r.push(o),a+=se(o)):n.push(o)}return et([...n,...r])}function f1(e){if(!ye(e))throw new Ae({address:e});return{dynamic:!1,encoded:Ut(e.toLowerCase())}}function m1(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new om(e);if(!r&&e.length!==t)throw new cv({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let a=!1;const i=[];for(let s=0;s<e.length;s++){const o=hu({param:n,value:e[s]});o.dynamic&&(a=!0),i.push(o)}if(r||a){const s=yu(i);if(r){const o=F(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?et([o,s]):o}}if(a)return{dynamic:!0,encoded:s}}return{dynamic:!1,encoded:et(i.map(({encoded:s})=>s))}}function h1(e,{param:t}){const[,n]=t.type.split("bytes"),r=se(e);if(!n){let a=e;return r%32!==0&&(a=Ut(a,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:et([Ut(F(r,{size:32})),a])}}if(r!==Number.parseInt(n))throw new uv({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:Ut(e,{dir:"right"})}}function y1(e){if(typeof e!="boolean")throw new M(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ut(ru(e))}}function b1(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,a=t?-r-1n:0n;if(e>r||e<a)throw new bf({max:r.toString(),min:a.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:F(e,{size:32,signed:t})}}function g1(e){const t=ae(e),n=Math.ceil(se(t)/32),r=[];for(let a=0;a<n;a++)r.push(Ut(an(t,a*32,(a+1)*32),{dir:"right"}));return{dynamic:!0,encoded:et([Ut(F(se(t),{size:32})),...r])}}function w1(e,{param:t}){let n=!1;const r=[];for(let a=0;a<t.components.length;a++){const i=t.components[a],s=Array.isArray(e)?a:i.name,o=hu({param:i,value:e[s]});r.push(o),o.dynamic&&(n=!0)}return{dynamic:n,encoded:n?yu(r):et(r.map(({encoded:a})=>a))}}function bu(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function sa(e,t){const n=typeof t=="string"?Ye(t):t,r=au(n);if(se(n)===0&&e.length>0)throw new aa;if(se(t)&&se(t)<32)throw new tm({data:typeof t=="string"?t:he(t),params:e,size:se(t)});let a=0;const i=[];for(let s=0;s<e.length;++s){const o=e[s];r.setPosition(a);const[c,u]=Bn(r,o,{staticPosition:0});a+=u,i.push(c)}return i}function Bn(e,t,{staticPosition:n}){const r=bu(t.type);if(r){const[a,i]=r;return x1(e,{...t,type:i},{length:a,staticPosition:n})}if(t.type==="tuple")return I1(e,t,{staticPosition:n});if(t.type==="address")return v1(e);if(t.type==="bool")return A1(e);if(t.type.startsWith("bytes"))return E1(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return k1(e,t);if(t.type==="string")return C1(e,{staticPosition:n});throw new hv(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Ql=32,qo=32;function v1(e){const t=e.readBytes(32);return[na(he(Jf(t,-20))),32]}function x1(e,t,{length:n,staticPosition:r}){if(!n){const s=Bt(e.readBytes(qo)),o=r+s,c=o+Ql;e.setPosition(o);const u=Bt(e.readBytes(Ql)),l=Rr(t);let d=0;const p=[];for(let f=0;f<u;++f){e.setPosition(c+(l?f*32:d));const[m,y]=Bn(e,t,{staticPosition:c});d+=y,p.push(m)}return e.setPosition(r+32),[p,32]}if(Rr(t)){const s=Bt(e.readBytes(qo)),o=r+s,c=[];for(let u=0;u<n;++u){e.setPosition(o+u*32);const[l]=Bn(e,t,{staticPosition:o});c.push(l)}return e.setPosition(r+32),[c,32]}let a=0;const i=[];for(let s=0;s<n;++s){const[o,c]=Bn(e,t,{staticPosition:r+a});a+=c,i.push(o)}return[i,a]}function A1(e){return[u1(e.readBytes(32),{size:32}),32]}function E1(e,t,{staticPosition:n}){const[r,a]=t.type.split("bytes");if(!a){const s=Bt(e.readBytes(32));e.setPosition(n+s);const o=Bt(e.readBytes(32));if(o===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(o);return e.setPosition(n+32),[he(c),32]}return[he(e.readBytes(Number.parseInt(a),32)),32]}function k1(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),a=e.readBytes(32);return[r>48?c1(a,{signed:n}):Bt(a,{signed:n}),32]}function I1(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:s})=>!s),a=r?[]:{};let i=0;if(Rr(t)){const s=Bt(e.readBytes(qo)),o=n+s;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(o+i);const[l,d]=Bn(e,u,{staticPosition:o});i+=d,a[r?c:u?.name]=l}return e.setPosition(n+32),[a,32]}for(let s=0;s<t.components.length;++s){const o=t.components[s],[c,u]=Bn(e,o,{staticPosition:n});a[r?s:o?.name]=c,i+=u}return[a,i]}function C1(e,{staticPosition:t}){const n=Bt(e.readBytes(32)),r=t+n;e.setPosition(r);const a=Bt(e.readBytes(32));if(a===0)return e.setPosition(t+32),["",32];const i=e.readBytes(a,32),s=l1(je(i));return e.setPosition(t+32),[s,32]}function Rr(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(Rr);const n=bu(e.type);return!!(n&&Rr({...e,type:n[1]}))}function P1(e){const{abi:t,data:n}=e,r=an(n,0,4);if(r==="0x")throw new aa;const i=[...t||[],em,iv].find(s=>s.type==="error"&&r===ia(st(s)));if(!i)throw new rm(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?sa(i.inputs,an(n,4)):void 0,errorName:i.name}}const me=(e,t,n)=>JSON.stringify(e,(r,a)=>typeof a=="bigint"?a.toString():a,n);function Em({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((a,i)=>`${r&&a.name?`${a.name}: `:""}${typeof t[i]=="object"?me(t[i]):t[i]}`).join(", ")})`}const Mi=xm;function mn(e){const{abi:t,args:n=[],name:r}=e,a=vt(r,{strict:!1}),i=t.filter(o=>a?o.type==="function"?ia(o)===r:o.type==="event"?Mi(o)===r:!1:"name"in o&&o.name===r);if(i.length===0)return;if(i.length===1)return i[0];let s;for(const o of i){if(!("inputs"in o))continue;if(!n||n.length===0){if(!o.inputs||o.inputs.length===0)return o;continue}if(!o.inputs||o.inputs.length===0||o.inputs.length!==n.length)continue;if(n.every((u,l)=>{const d="inputs"in o&&o.inputs[l];return d?Ho(u,d):!1})){if(s&&"inputs"in s&&s.inputs){const u=km(o.inputs,s.inputs,n);if(u)throw new fv({abiItem:o,type:u[0]},{abiItem:s,type:u[1]})}s=o}}return s||i[0]}function Ho(e,t){const n=typeof e,r=t.type;switch(r){case"address":return ye(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((a,i)=>Ho(Object.values(e)[i],a)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(a=>Ho(a,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function km(e,t,n){for(const r in e){const a=e[r],i=t[r];if(a.type==="tuple"&&i.type==="tuple"&&"components"in a&&"components"in i)return km(a.components,i.components,n[r]);const s=[a.type,i.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?ye(n[r],{strict:!1}):s.includes("address")&&s.includes("bytes")?ye(n[r],{strict:!1}):!1)return s}}class T1 extends M{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class S1 extends M{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Wl(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function B1(e){return e.reduce((t,{address:n,...r})=>{let a=`${t}    ${n}:
`;return r.nonce&&(a+=`      nonce: ${r.nonce}
`),r.balance&&(a+=`      balance: ${r.balance}
`),r.code&&(a+=`      code: ${r.code}
`),r.state&&(a+=`      state:
`,a+=Wl(r.state)),r.stateDiff&&(a+=`      stateDiff:
`,a+=Wl(r.stateDiff)),a},`  State Override:
`).slice(0,-1)}const R1=e=>e,oa=e=>e;let Im=class extends M{constructor(t,{account:n,docsPath:r,chain:a,data:i,gas:s,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:p,stateOverride:f}){const m=n?pe(n):void 0;let y=Xr({from:m?.address,to:d,value:typeof p<"u"&&`${iu(p)} ${a?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:s,gasPrice:typeof o<"u"&&`${Ne(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ne(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Ne(u)} gwei`,nonce:l});f&&(y+=`
${B1(f)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",y].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}},M1=class extends M{constructor(t,{abi:n,args:r,contractAddress:a,docsPath:i,functionName:s,sender:o}){const c=mn({abi:n,args:r,name:s}),u=c?Em({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,l=c?st(c,{includeName:!0}):void 0,d=Xr({address:a&&R1(a),function:l,args:u&&u!=="()"&&`${[...Array(s?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:o});super(t.shortMessage||`An unknown error occurred while executing the contract function "${s}".`,{cause:t,docsPath:i,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=a,this.functionName=s,this.sender=o}},Go=class extends M{constructor({abi:t,data:n,functionName:r,message:a}){let i,s,o,c;if(n&&n!=="0x")try{s=P1({abi:t,data:n});const{abiItem:l,errorName:d,args:p}=s;if(d==="Error")c=p[0];else if(d==="Panic"){const[f]=p;c=Xf[f]}else{const f=l?st(l,{includeName:!0}):void 0,m=l&&p?Em({abiItem:l,args:p,includeFunctionName:!1,includeName:!1}):void 0;o=[f?`Error: ${f}`:"",m&&m!=="()"?`       ${[...Array(d?.length??0).keys()].map(()=>" ").join("")}${m}`:""]}}catch(l){i=l}else a&&(c=a);let u;i instanceof rm&&(u=i.signature,o=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:o,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=s,this.raw=n,this.reason=c,this.signature=u}},N1=class extends M{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}};class O1 extends M{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}let Ni=class extends M{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}},vr=class extends M{constructor({body:t,cause:n,details:r,headers:a,status:i,url:s}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${oa(s)}`,t&&`Request body: ${me(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=a,this.status=i,this.url=s}},Jl=class extends M{constructor({body:t,cause:n,details:r,url:a}){super("WebSocket request failed.",{cause:n,details:r,metaMessages:[`URL: ${oa(a)}`,t&&`Request body: ${me(t)}`].filter(Boolean),name:"WebSocketRequestError"})}},Oi=class extends M{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${oa(r)}`,`Request body: ${me(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}};class Ya extends M{constructor({url:t}={}){super("The socket has been closed.",{metaMessages:[t&&`URL: ${oa(t)}`].filter(Boolean),name:"SocketClosedError"})}}let Vo=class extends M{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${oa(n)}`,`Request body: ${me(t)}`],name:"TimeoutError"})}};const $1=-1;let _e=class extends M{constructor(t,{code:n,docsPath:r,metaMessages:a,name:i,shortMessage:s}){super(s,{cause:t,docsPath:r,metaMessages:a||t?.metaMessages,name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||t.name,this.code=t instanceof Oi?t.code:n??$1}},Ke=class extends _e{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}},Ko=class Cm extends _e{constructor(t){super(t,{code:Cm.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}};Object.defineProperty(Ko,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});let Qo=class Pm extends _e{constructor(t){super(t,{code:Pm.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}};Object.defineProperty(Qo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});let Wo=class Tm extends _e{constructor(t,{method:n}={}){super(t,{code:Tm.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}};Object.defineProperty(Wo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});let Jo=class Sm extends _e{constructor(t){super(t,{code:Sm.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}};Object.defineProperty(Jo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});let Mr=class Bm extends _e{constructor(t){super(t,{code:Bm.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}};Object.defineProperty(Mr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});let Nr=class Rm extends _e{constructor(t){super(t,{code:Rm.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}};Object.defineProperty(Nr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});let Zo=class Mm extends _e{constructor(t){super(t,{code:Mm.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}};Object.defineProperty(Zo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});let Yo=class Nm extends _e{constructor(t){super(t,{code:Nm.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}};Object.defineProperty(Yo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});let Xo=class Om extends _e{constructor(t){super(t,{code:Om.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}};Object.defineProperty(Xo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});let yr=class $m extends _e{constructor(t,{method:n}={}){super(t,{code:$m.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}};Object.defineProperty(yr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});let Xa=class _m extends _e{constructor(t){super(t,{code:_m.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}};Object.defineProperty(Xa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});let ec=class Fm extends _e{constructor(t){super(t,{code:Fm.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}};Object.defineProperty(ec,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});let Ua=class Lm extends Ke{constructor(t){super(t,{code:Lm.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}};Object.defineProperty(Ua,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});let tc=class jm extends Ke{constructor(t){super(t,{code:jm.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}};Object.defineProperty(tc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});let nc=class Dm extends Ke{constructor(t,{method:n}={}){super(t,{code:Dm.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}};Object.defineProperty(nc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});let rc=class Um extends Ke{constructor(t){super(t,{code:Um.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}};Object.defineProperty(rc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});let ac=class zm extends Ke{constructor(t){super(t,{code:zm.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}};Object.defineProperty(ac,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});let ic=class qm extends Ke{constructor(t){super(t,{code:qm.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}};Object.defineProperty(ic,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Fn extends Ke{constructor(t){super(t,{code:Fn.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Fn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Or extends Ke{constructor(t){super(t,{code:Or.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Or,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class $r extends Ke{constructor(t){super(t,{code:$r.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty($r,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class _r extends Ke{constructor(t){super(t,{code:_r.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(_r,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Fr extends Ke{constructor(t){super(t,{code:Fr.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Fr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Lr extends Ke{constructor(t){super(t,{code:Lr.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Lr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Ln extends Ke{constructor(t){super(t,{code:Ln.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Ln,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});let _1=class extends _e{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}};function $i(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof M?e.walk(a=>a?.code===Tn.code):e;return r instanceof M?new Tn({cause:e,message:r.details}):Tn.nodeMessage.test(n)?new Tn({cause:e,message:e.details}):rn.nodeMessage.test(n)?new rn({cause:e,maxFeePerGas:t?.maxFeePerGas}):Ro.nodeMessage.test(n)?new Ro({cause:e,maxFeePerGas:t?.maxFeePerGas}):Mo.nodeMessage.test(n)?new Mo({cause:e,nonce:t?.nonce}):No.nodeMessage.test(n)?new No({cause:e,nonce:t?.nonce}):Oo.nodeMessage.test(n)?new Oo({cause:e,nonce:t?.nonce}):$o.nodeMessage.test(n)?new $o({cause:e}):_o.nodeMessage.test(n)?new _o({cause:e,gas:t?.gas}):Fo.nodeMessage.test(n)?new Fo({cause:e,gas:t?.gas}):Lo.nodeMessage.test(n)?new Lo({cause:e}):Sr.nodeMessage.test(n)?new Sr({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new ea({cause:e})}function Hm(e,{docsPath:t,...n}){const r=(()=>{const a=$i(e,n);return a instanceof ea?e:a})();return new Im(r,{docsPath:t,...n})}function _i(e,{format:t}){if(!t)return{};const n={};function r(i){const s=Object.keys(i);for(const o of s)o in e&&(n[o]=e[o]),i[o]&&typeof i[o]=="object"&&!Array.isArray(i[o])&&r(i[o])}const a=t(e||{});return r(a),n}function hn(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:a,to:i}=e,s=t?pe(t):void 0;if(s&&!ye(s.address))throw new Ae({address:s.address});if(i&&!ye(i))throw new Ae({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof a<"u"))throw new nw;if(r&&r>Ci)throw new rn({maxFeePerGas:r});if(a&&r&&a>r)throw new Sr({maxFeePerGas:r,maxPriorityFeePerGas:a})}var Zl=mf({id:3636,name:"Crossbell L2 Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.testnet.crossbell.io"]}},blockExplorers:{default:{name:"CrossScan Testnet",url:"https://scan.testnet.crossbell.io/"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0}},testnet:!0}),pt={ENTRY:"0xa6f969045641Cf486a747A2688F3a5A6d43cd0D8",PERIPHERY:"0x96e96b7af62d628ce7eb2016d2c1d2786614ea73",NEWBIE_VILLA:"0xD0c83f0BB2c61D55B3d33950b70C59ba2f131caA",CBT:"0x3D1b588a6Bcd728Bb61570ced6656eA4C05e404f",TIPS:"0x0058be0845952D887D1668B5545de995E12e8783",TIPS_WITH_CONFIG:"0xF1375C069998d06E123B800cF0566e44DA1BE30E",TIPS_WITH_FEE:"0xf3158018f932981d0005701dDC22Ce51477E436d",MIRA:"0xAfB95CC0BD320648B3E8Df6223d9CDD05EbeDC64",LINKLIST:"0xFc8C75bD5c26F50798758f387B698f207a016b6A",GCSB:"0x4200000000000000000000000000000000000301"},Gm=Object.defineProperty,F1=Object.getOwnPropertyDescriptor,Vm=(e,t)=>{for(var n in t)Gm(e,n,{get:t[n],enumerable:!0})},Q=(e,t,n,r)=>{for(var a=F1(t,n),i=e.length-1,s;i>=0;i--)(s=e[i])&&(a=s(t,n,a)||a);return a&&Gm(t,n,a),a},Lt={},xn={},Yl;function L1(){if(Yl)return xn;Yl=1;var e=xn&&xn.__assign||function(){return e=Object.assign||function(r){for(var a,i=1,s=arguments.length;i<s;i++){a=arguments[i];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},e.apply(this,arguments)};Object.defineProperty(xn,"__esModule",{value:!0});var t={delayFirstAttempt:!1,jitter:"none",maxDelay:1/0,numOfAttempts:10,retry:function(){return!0},startingDelay:100,timeMultiple:2};function n(r){var a=e(e({},t),r);return a.numOfAttempts<1&&(a.numOfAttempts=1),a}return xn.getSanitizedOptions=n,xn}var Ea={},ft={},ka={},Ia={},Ca={},Xl;function j1(){if(Xl)return Ca;Xl=1,Object.defineProperty(Ca,"__esModule",{value:!0});function e(t){var n=Math.random()*t;return Math.round(n)}return Ca.fullJitter=e,Ca}var Pa={},ed;function D1(){if(ed)return Pa;ed=1,Object.defineProperty(Pa,"__esModule",{value:!0});function e(t){return t}return Pa.noJitter=e,Pa}var td;function U1(){if(td)return Ia;td=1,Object.defineProperty(Ia,"__esModule",{value:!0});var e=j1(),t=D1();function n(r){switch(r.jitter){case"full":return e.fullJitter;case"none":default:return t.noJitter}}return Ia.JitterFactory=n,Ia}var nd;function Km(){if(nd)return ka;nd=1,Object.defineProperty(ka,"__esModule",{value:!0});var e=U1(),t=function(){function n(r){this.options=r,this.attempt=0}return n.prototype.apply=function(){var r=this;return new Promise(function(a){return setTimeout(a,r.jitteredDelay)})},n.prototype.setAttemptNumber=function(r){this.attempt=r},Object.defineProperty(n.prototype,"jitteredDelay",{get:function(){var r=e.JitterFactory(this.options);return r(this.delay)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"delay",{get:function(){var r=this.options.startingDelay,a=this.options.timeMultiple,i=this.numOfDelayedAttempts,s=r*Math.pow(a,i);return Math.min(s,this.options.maxDelay)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt},enumerable:!0,configurable:!0}),n}();return ka.Delay=t,ka}var rd;function z1(){if(rd)return ft;rd=1;var e=ft&&ft.__extends||function(){var i=function(s,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)u.hasOwnProperty(l)&&(c[l]=u[l])},i(s,o)};return function(s,o){i(s,o);function c(){this.constructor=s}s.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),t=ft&&ft.__awaiter||function(i,s,o,c){function u(l){return l instanceof o?l:new o(function(d){d(l)})}return new(o||(o=Promise))(function(l,d){function p(y){try{m(c.next(y))}catch(g){d(g)}}function f(y){try{m(c.throw(y))}catch(g){d(g)}}function m(y){y.done?l(y.value):u(y.value).then(p,f)}m((c=c.apply(i,s||[])).next())})},n=ft&&ft.__generator||function(i,s){var o={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},c,u,l,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(m){return function(y){return f([m,y])}}function f(m){if(c)throw new TypeError("Generator is already executing.");for(;o;)try{if(c=1,u&&(l=m[0]&2?u.return:m[0]?u.throw||((l=u.return)&&l.call(u),0):u.next)&&!(l=l.call(u,m[1])).done)return l;switch(u=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return o.label++,{value:m[1],done:!1};case 5:o.label++,u=m[1],m=[0];continue;case 7:m=o.ops.pop(),o.trys.pop();continue;default:if(l=o.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){o=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){o.label=m[1];break}if(m[0]===6&&o.label<l[1]){o.label=l[1],l=m;break}if(l&&o.label<l[2]){o.label=l[2],o.ops.push(m);break}l[2]&&o.ops.pop(),o.trys.pop();continue}m=s.call(i,o)}catch(y){m=[6,y],u=0}finally{c=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}};Object.defineProperty(ft,"__esModule",{value:!0});var r=Km(),a=function(i){e(s,i);function s(){return i!==null&&i.apply(this,arguments)||this}return s.prototype.apply=function(){return t(this,void 0,void 0,function(){return n(this,function(o){return[2,this.isFirstAttempt?!0:i.prototype.apply.call(this)]})})},Object.defineProperty(s.prototype,"isFirstAttempt",{get:function(){return this.attempt===0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt-1},enumerable:!0,configurable:!0}),s}(r.Delay);return ft.SkipFirstDelay=a,ft}var An={},ad;function q1(){if(ad)return An;ad=1;var e=An&&An.__extends||function(){var r=function(a,i){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var c in o)o.hasOwnProperty(c)&&(s[c]=o[c])},r(a,i)};return function(a,i){r(a,i);function s(){this.constructor=a}a.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}();Object.defineProperty(An,"__esModule",{value:!0});var t=Km(),n=function(r){e(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a}(t.Delay);return An.AlwaysDelay=n,An}var id;function H1(){if(id)return Ea;id=1,Object.defineProperty(Ea,"__esModule",{value:!0});var e=z1(),t=q1();function n(a,i){var s=r(a);return s.setAttemptNumber(i),s}Ea.DelayFactory=n;function r(a){return a.delayFirstAttempt?new t.AlwaysDelay(a):new e.SkipFirstDelay(a)}return Ea}var sd;function G1(){if(sd)return Lt;sd=1;var e=Lt&&Lt.__awaiter||function(s,o,c,u){function l(d){return d instanceof c?d:new c(function(p){p(d)})}return new(c||(c=Promise))(function(d,p){function f(g){try{y(u.next(g))}catch(b){p(b)}}function m(g){try{y(u.throw(g))}catch(b){p(b)}}function y(g){g.done?d(g.value):l(g.value).then(f,m)}y((u=u.apply(s,o||[])).next())})},t=Lt&&Lt.__generator||function(s,o){var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},u,l,d,p;return p={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function f(y){return function(g){return m([y,g])}}function m(y){if(u)throw new TypeError("Generator is already executing.");for(;c;)try{if(u=1,l&&(d=y[0]&2?l.return:y[0]?l.throw||((d=l.return)&&d.call(l),0):l.next)&&!(d=d.call(l,y[1])).done)return d;switch(l=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return c.label++,{value:y[1],done:!1};case 5:c.label++,l=y[1],y=[0];continue;case 7:y=c.ops.pop(),c.trys.pop();continue;default:if(d=c.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){c=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){c.label=y[1];break}if(y[0]===6&&c.label<d[1]){c.label=d[1],d=y;break}if(d&&c.label<d[2]){c.label=d[2],c.ops.push(y);break}d[2]&&c.ops.pop(),c.trys.pop();continue}y=o.call(s,c)}catch(g){y=[6,g],l=0}finally{u=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Lt,"__esModule",{value:!0});var n=L1(),r=H1();function a(s,o){return o===void 0&&(o={}),e(this,void 0,void 0,function(){var c,u;return t(this,function(l){switch(l.label){case 0:return c=n.getSanitizedOptions(o),u=new i(s,c),[4,u.execute()];case 1:return[2,l.sent()]}})})}Lt.backOff=a;var i=function(){function s(o,c){this.request=o,this.options=c,this.attemptNumber=0}return s.prototype.execute=function(){return e(this,void 0,void 0,function(){var o,c;return t(this,function(u){switch(u.label){case 0:if(this.attemptLimitReached)return[3,7];u.label=1;case 1:return u.trys.push([1,4,,6]),[4,this.applyDelay()];case 2:return u.sent(),[4,this.request()];case 3:return[2,u.sent()];case 4:return o=u.sent(),this.attemptNumber++,[4,this.options.retry(o,this.attemptNumber)];case 5:if(c=u.sent(),!c||this.attemptLimitReached)throw o;return[3,6];case 6:return[3,0];case 7:throw new Error("Something went wrong.")}})})},Object.defineProperty(s.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!0,configurable:!0}),s.prototype.applyDelay=function(){return e(this,void 0,void 0,function(){var o;return t(this,function(c){switch(c.label){case 0:return o=r.DelayFactory(this.options,this.attemptNumber),[4,o.apply()];case 1:return c.sent(),[2]}})})},s}();return Lt}var V1=G1();function G(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const a=e[n];return typeof a=="function"?a:i=>t(e,i)}let K1=class extends M{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}};const od="/docs/contract/encodeEventTopics";function ca(e){const{abi:t,eventName:n,args:r}=e;let a=t[0];if(n){const c=mn({abi:t,name:n});if(!c)throw new Gl(n,{docsPath:od});a=c}if(a.type!=="event")throw new Gl(void 0,{docsPath:od});const i=st(a),s=Mi(i);let o=[];if(r&&"inputs"in a){const c=a.inputs?.filter(l=>"indexed"in l&&l.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?c?.map(l=>r[l.name])??[]:[];u.length>0&&(o=c?.map((l,d)=>Array.isArray(u[d])?u[d].map((p,f)=>cd({param:l,value:u[d][f]})):typeof u[d]<"u"&&u[d]!==null?cd({param:l,value:u[d]}):null)??[])}return[s,...o]}function cd({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return ie(Kn(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new K1(e.type);return qe([e],[t])}function Fi(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:a,status:i,transport:s})=>{i==="success"&&t===r&&(n[a]=s.request)}),r=>n[r]||e.request}async function gu(e,t){const{address:n,abi:r,args:a,eventName:i,fromBlock:s,strict:o,toBlock:c}=t,u=Fi(e,{method:"eth_newFilter"}),l=i?ca({abi:r,args:a,eventName:i}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof s=="bigint"?F(s):s,toBlock:typeof c=="bigint"?F(c):c,topics:l}]});return{abi:r,args:a,eventName:i,id:d,request:u(d),strict:!!o,type:"event"}}const ud="/docs/contract/encodeFunctionData";function Q1(e){const{abi:t,args:n,functionName:r}=e;let a=t[0];if(r){const i=mn({abi:t,args:n,name:r});if(!i)throw new _n(r,{docsPath:ud});a=i}if(a.type!=="function")throw new _n(void 0,{docsPath:ud});return{abi:[a],functionName:ia(st(a))}}function Qe(e){const{args:t}=e,{abi:n,functionName:r}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:Q1(e),a=n[0],i=r,s="inputs"in a&&a.inputs?qe(a.inputs,t??[]):void 0;return rt([i,s??"0x"])}const W1=3;function on(e,{abi:t,address:n,args:r,docsPath:a,functionName:i,sender:s}){const o=e instanceof Ni?e:e instanceof M?e.walk(m=>"data"in m)||e.walk():{},{code:c,data:u,details:l,message:d,shortMessage:p}=o,f=e instanceof aa?new N1({functionName:i}):[W1,Mr.code].includes(c)&&(u||l||d||p)?new Go({abi:t,data:typeof u=="object"?u.data:u,functionName:i,message:o instanceof Oi?l:p??d}):e;return new M1(f,{abi:t,args:r,contractAddress:n,docsPath:a,functionName:i,sender:s})}function Qm(e){const t=ie(`0x${e.substring(4)}`).substring(26);return na(`0x${t}`)}async function J1({hash:e,signature:t}){const n=vt(e)?e:Ue(e),{secp256k1:r}=await Ii(async()=>{const{secp256k1:s}=await Promise.resolve().then(()=>l6);return{secp256k1:s}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:l,v:d,yParity:p}=t,f=Number(p??d),m=ld(f);return new r.Signature(ze(u),ze(l)).addRecoveryBit(m)}const s=vt(t)?t:Ue(t);if(se(s)!==65)throw new Error("invalid signature length");const o=Xe(`0x${s.slice(130)}`),c=ld(o);return r.Signature.fromCompact(s.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function ld(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Wm({hash:e,signature:t}){return Qm(await J1({hash:e,signature:t}))}function Jm(e){const{chainId:t,nonce:n,to:r}=e,a=e.contractAddress??e.address,i=ie(rt(["0x05",nn([t?F(t):"0x",a,n?F(n):"0x"])]));return r==="bytes"?Ye(i):i}async function Zm(e){const{authorization:t,signature:n}=e;return Wm({hash:Jm(t),signature:n??t})}let Z1=class extends M{constructor(t,{account:n,docsPath:r,chain:a,data:i,gas:s,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:p}){const f=Xr({from:n?.address,to:d,value:typeof p<"u"&&`${iu(p)} ${a?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:s,gasPrice:typeof o<"u"&&`${Ne(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ne(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Ne(u)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}};function Y1(e,{docsPath:t,...n}){const r=(()=>{const a=$i(e,n);return a instanceof ea?e:a})();return new Z1(r,{docsPath:t,...n})}function dd(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Ml({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Ml({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function X1(e){const{balance:t,nonce:n,state:r,stateDiff:a,code:i}=e,s={};if(i!==void 0&&(s.code=i),t!==void 0&&(s.balance=F(t)),n!==void 0&&(s.nonce=F(n)),r!==void 0&&(s.state=dd(r)),a!==void 0){if(s.state)throw new S1;s.stateDiff=dd(a)}return s}function wu(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!ye(n,{strict:!1}))throw new Ae({address:n});if(t[n])throw new T1({address:n});t[n]=X1(r)}return t}class ex extends M{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class vu extends M{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class tx extends M{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Ne(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}let Ym=class extends M{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}};async function gt(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:a}={}){const i=a??!1,s=n!==void 0?F(n):void 0;let o=null;if(t?o=await e.request({method:"eth_getBlockByHash",params:[t,i]},{dedupe:!0}):o=await e.request({method:"eth_getBlockByNumber",params:[s||r,i]},{dedupe:!!s}),!o)throw new Ym({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||Af)(o)}async function xu(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function nx(e,t){return Xm(e,t)}async function Xm(e,t){const{block:n,chain:r=e.chain,request:a}=t||{};try{const i=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof i=="function"){const o=n||await G(e,gt,"getBlock")({}),c=await i({block:o,client:e,request:a});if(c===null)throw new Error;return c}if(typeof i<"u")return i;const s=await e.request({method:"eth_maxPriorityFeePerGas"});return ze(s)}catch{const[i,s]=await Promise.all([n?Promise.resolve(n):G(e,gt,"getBlock")({}),G(e,xu,"getGasPrice")({})]);if(typeof i.baseFeePerGas!="bigint")throw new vu;const o=s-i.baseFeePerGas;return o<0n?0n:o}}async function rx(e,t){return sc(e,t)}async function sc(e,t){const{block:n,chain:r=e.chain,request:a,type:i="eip1559"}=t||{},s=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:a}):r?.fees?.baseFeeMultiplier??1.2)();if(s<1)throw new ex;const c=10**(s.toString().split(".")[1]?.length??0),u=p=>p*BigInt(Math.ceil(s*c))/BigInt(c),l=n||await G(e,gt,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const p=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:a,type:i});if(p!==null)return p}if(i==="eip1559"){if(typeof l.baseFeePerGas!="bigint")throw new vu;const p=typeof a?.maxPriorityFeePerGas=="bigint"?a.maxPriorityFeePerGas:await Xm(e,{block:l,chain:r,request:a}),f=u(l.baseFeePerGas);return{maxFeePerGas:a?.maxFeePerGas??f+p,maxPriorityFeePerGas:p}}return{gasPrice:a?.gasPrice??u(await G(e,xu,"getGasPrice")({}))}}async function Li(e,{address:t,blockTag:n="latest",blockNumber:r}){const a=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?F(r):n]},{dedupe:!!r});return Xe(a)}async function Zn(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Xe(t)}const eh=["blobVersionedHashes","chainId","fees","gas","nonce","type"],pd=new Map;async function ji(e,t){const{account:n=e.account,blobs:r,chain:a,gas:i,kzg:s,nonce:o,nonceManager:c,parameters:u=eh,type:l}=t,d=n&&pe(n),p={...t,...d?{from:d?.address}:{}};let f;async function m(){return f||(f=await G(e,gt,"getBlock")({blockTag:"latest"}),f)}let y;async function g(){return y||(a?a.id:typeof t.chainId<"u"?t.chainId:(y=await G(e,Zn,"getChainId")({}),y))}if(u.includes("nonce")&&typeof o>"u"&&d)if(c){const b=await g();p.nonce=await c.consume({address:d.address,chainId:b,client:e})}else p.nonce=await G(e,Li,"getTransactionCount")({address:d.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&s){const b=su({blobs:r,kzg:s});if(u.includes("blobVersionedHashes")){const h=Of({commitments:b,to:"hex"});p.blobVersionedHashes=h}if(u.includes("sidecars")){const h=ou({blobs:r,commitments:b,kzg:s}),w=jf({blobs:r,commitments:b,proofs:h,to:"hex"});p.sidecars=w}}if(u.includes("chainId")&&(p.chainId=await g()),(u.includes("fees")||u.includes("type"))&&typeof l>"u")try{p.type=Zf(p)}catch{let b=pd.get(e.uid);typeof b>"u"&&(b=typeof(await m())?.baseFeePerGas=="bigint",pd.set(e.uid,b)),p.type=b?"eip1559":"legacy"}if(u.includes("fees"))if(p.type!=="legacy"&&p.type!=="eip2930"){if(typeof p.maxFeePerGas>"u"||typeof p.maxPriorityFeePerGas>"u"){const b=await m(),{maxFeePerGas:h,maxPriorityFeePerGas:w}=await sc(e,{block:b,chain:a,request:p});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<w)throw new tx({maxPriorityFeePerGas:w});p.maxPriorityFeePerGas=w,p.maxFeePerGas=h}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new vu;if(typeof t.gasPrice>"u"){const b=await m(),{gasPrice:h}=await sc(e,{block:b,chain:a,request:p,type:"legacy"});p.gasPrice=h}}return u.includes("gas")&&typeof i>"u"&&(p.gas=await G(e,Au,"estimateGas")({...p,account:d&&{address:d.address,type:"json-rpc"}})),hn(p),delete p.parameters,p}async function th(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const a=typeof n=="bigint"?F(n):void 0,i=await e.request({method:"eth_getBalance",params:[t,a||r]});return BigInt(i)}async function Au(e,t){const{account:n=e.account}=t,r=n?pe(n):void 0;try{let I=function(L){const{block:j,request:O,rpcStateOverride:E}=L;return e.request({method:"eth_estimateGas",params:E?[O,j??e.experimental_blockTag??"latest",E]:j?[O,j]:[O]})};const{accessList:a,authorizationList:i,blobs:s,blobVersionedHashes:o,blockNumber:c,blockTag:u,data:l,gas:d,gasPrice:p,maxFeePerBlobGas:f,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:g,value:b,stateOverride:h,...w}=await ji(e,{...t,parameters:r?.type==="local"?void 0:["blobVersionedHashes"]}),x=(typeof c=="bigint"?F(c):void 0)||u,k=wu(h),T=await(async()=>{if(w.to)return w.to;if(i&&i.length>0)return await Zm({authorization:i[0]}).catch(()=>{throw new M("`to` is required. Could not infer from `authorizationList`")})})();hn(t);const C=e.chain?.formatters?.transactionRequest?.format,R=(C||Qn)({..._i(w,{format:C}),from:r?.address,accessList:a,authorizationList:i,blobs:s,blobVersionedHashes:o,data:l,gas:d,gasPrice:p,maxFeePerBlobGas:f,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:g,to:T,value:b});let S=BigInt(await I({block:x,request:R,rpcStateOverride:k}));if(i){const L=await th(e,{address:R.from}),j=await Promise.all(i.map(async O=>{const{address:E}=O,N=await I({block:x,request:{authorizationList:void 0,data:l,from:r?.address,to:E,value:F(L)},rpcStateOverride:k}).catch(()=>100000n);return 2n*BigInt(N)}));S+=j.reduce((O,E)=>O+E,0n)}return S}catch(a){throw Y1(a,{...t,account:r,chain:e.chain})}}async function nh(e,t){const{abi:n,address:r,args:a,functionName:i,dataSuffix:s,...o}=t,c=Qe({abi:n,args:a,functionName:i});try{return await G(e,Au,"estimateGas")({data:`${c}${s?s.replace("0x",""):""}`,to:r,...o})}catch(u){const l=o.account?pe(o.account):void 0;throw on(u,{abi:n,address:r,args:a,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:l?.address})}}function Yn(e,t){if(!ye(e,{strict:!1}))throw new Ae({address:e});if(!ye(t,{strict:!1}))throw new Ae({address:t});return e.toLowerCase()===t.toLowerCase()}const fd="/docs/contract/decodeEventLog";function Di(e){const{abi:t,data:n,strict:r,topics:a}=e,i=r??!0,[s,...o]=a;if(!s)throw new dv({docsPath:fd});const c=t.find(y=>y.type==="event"&&s===Mi(st(y)));if(!(c&&"name"in c)||c.type!=="event")throw new am(s,{docsPath:fd});const{name:u,inputs:l}=c,d=l?.some(y=>!("name"in y&&y.name)),p=d?[]:{},f=l.map((y,g)=>[y,g]).filter(([y])=>"indexed"in y&&y.indexed);for(let y=0;y<f.length;y++){const[g,b]=f[y],h=o[y];if(!h)throw new Ri({abiItem:c,param:g});p[d?b:g.name||b]=ax({param:g,value:h})}const m=l.filter(y=>!("indexed"in y&&y.indexed));if(m.length>0){if(n&&n!=="0x")try{const y=sa(m,n);if(y)if(d)for(let g=0;g<l.length;g++)p[g]=p[g]??y.shift();else for(let g=0;g<m.length;g++)p[m[g].name]=y[g]}catch(y){if(i)throw y instanceof tm||y instanceof kf?new Br({abiItem:c,data:n,params:m,size:se(n)}):y}else if(i)throw new Br({abiItem:c,data:"0x",params:m,size:0})}return{eventName:u,args:Object.values(p).length>0?p:void 0}}function ax({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(sa([e],t)||[])[0]}function Eu(e){const{abi:t,args:n,logs:r,strict:a=!0}=e,i=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(s=>{try{const o=t.find(u=>u.type==="event"&&s.topics[0]===Mi(u));if(!o)return null;const c=Di({...s,abi:[o],strict:a});return i&&!i.includes(c.eventName)||!ix({args:c.args,inputs:o.inputs,matchArgs:n})?null:{...c,...s}}catch(o){let c,u;if(o instanceof am)return null;if(o instanceof Br||o instanceof Ri){if(a)return null;c=o.abiItem.name,u=o.abiItem.inputs?.some(l=>!("name"in l&&l.name))}return{...s,args:u?[]:{},eventName:c}}}).filter(Boolean)}function ix(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function a(i,s,o){try{return i.type==="address"?Yn(s,o):i.type==="string"||i.type==="bytes"?ie(Kn(s))===o:s===o}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((i,s)=>{if(i==null)return!0;const o=n[s];return o?(Array.isArray(i)?i:[i]).some(u=>a(o,u,t[s])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,s])=>{if(s==null)return!0;const o=n.find(u=>u.name===i);return o?(Array.isArray(s)?s:[s]).some(u=>a(o,u,t[i])):!1}):!1}async function ku(e,{address:t,blockHash:n,fromBlock:r,toBlock:a,event:i,events:s,args:o,strict:c}={}){const u=c??!1,l=s??(i?[i]:void 0);let d=[];l&&(d=[l.flatMap(y=>ca({abi:[y],eventName:y.name,args:s?void 0:o}))],i&&(d=d[0]));let p;n?p=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):p=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?F(r):r,toBlock:typeof a=="bigint"?F(a):a}]});const f=p.map(m=>Rt(m));return l?Eu({abi:l,args:o,logs:f,strict:u}):f}async function Iu(e,t){const{abi:n,address:r,args:a,blockHash:i,eventName:s,fromBlock:o,toBlock:c,strict:u}=t,l=s?mn({abi:n,name:s}):void 0,d=l?void 0:n.filter(p=>p.type==="event");return G(e,ku,"getLogs")({address:r,args:a,blockHash:i,event:l,events:d,fromBlock:o,toBlock:c,strict:u})}const Os="/docs/contract/decodeFunctionResult";function yn(e){const{abi:t,args:n,functionName:r,data:a}=e;let i=t[0];if(r){const o=mn({abi:t,args:n,name:r});if(!o)throw new _n(r,{docsPath:Os});i=o}if(i.type!=="function")throw new _n(void 0,{docsPath:Os});if(!i.outputs)throw new im(i.name,{docsPath:Os});const s=sa(i.outputs,a);if(s&&s.length>1)return s;if(s&&s.length===1)return s[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Cu=BigInt(0),oc=BigInt(1);function ei(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Ta(e){const t=e.toString(16);return t.length&1?"0"+t:t}function rh(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Cu:BigInt("0x"+e)}function Ui(e){return rh(Tr(e))}function ah(e){return it(e),rh(Tr(Uint8Array.from(e).reverse()))}function Pu(e,t){return uu(e.toString(16).padStart(t*2,"0"))}function ih(e,t){return Pu(e,t).reverse()}function Je(e,t,n){let r;if(typeof t=="string")try{r=uu(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(cu(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const a=r.length;if(typeof n=="number"&&a!==n)throw new Error(e+" of length "+n+" expected, got "+a);return r}const $s=e=>typeof e=="bigint"&&Cu<=e;function sx(e,t,n){return $s(e)&&$s(t)&&$s(n)&&t<=e&&e<n}function ox(e,t,n,r){if(!sx(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function cx(e){let t;for(t=0;e>Cu;e>>=oc,t+=1);return t}const zi=e=>(oc<<BigInt(e))-oc;function ux(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=f=>new Uint8Array(f),a=f=>Uint8Array.of(f);let i=r(e),s=r(e),o=0;const c=()=>{i.fill(1),s.fill(0),o=0},u=(...f)=>n(s,i,...f),l=(f=r(0))=>{s=u(a(0),f),i=u(),f.length!==0&&(s=u(a(1),f),i=u())},d=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const m=[];for(;f<t;){i=u();const y=i.slice();m.push(y),f+=i.length}return Wt(...m)};return(f,m)=>{c(),l(f);let y;for(;!(y=m(d()));)l();return c(),y}}function Tu(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(a,i,s){const o=e[a];if(s&&o===void 0)return;const c=typeof o;if(c!==i||o===null)throw new Error(`param "${a}" is invalid: expected ${i}, got ${c}`)}Object.entries(t).forEach(([a,i])=>r(a,i,!1)),Object.entries(n).forEach(([a,i])=>r(a,i,!0))}function md(e){const t=new WeakMap;return(n,...r)=>{const a=t.get(n);if(a!==void 0)return a;const i=e(n,...r);return t.set(n,i),i}}const lx="0.1.1";function dx(){return lx}let fe=class cc extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof cc){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),a=n.cause instanceof cc&&n.cause.docsPath||n.docsPath,s=`https://oxlib.sh${a??""}`,o=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||a?["",r?`Details: ${r}`:void 0,a?`See: ${s}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${dx()}`}),this.cause=n.cause,this.details=r,this.docs=s,this.docsPath=a,this.shortMessage=t}walk(t){return sh(this,t)}};function sh(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?sh(e.cause,t):t?null:e}const px="#__bigint";function fx(e,t,n){return JSON.stringify(e,(r,a)=>typeof a=="bigint"?a.toString()+px:a,n)}function mx(e,t){if(yd(e)>t)throw new kx({givenSize:yd(e),maxSize:t})}const It={zero:48,nine:57,A:65,F:70,a:97,f:102};function hd(e){if(e>=It.zero&&e<=It.nine)return e-It.zero;if(e>=It.A&&e<=It.F)return e-(It.A-10);if(e>=It.a&&e<=It.f)return e-(It.a-10)}function hx(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new Ix({size:e.length,targetSize:r,type:"Bytes"});const a=new Uint8Array(r);for(let i=0;i<r;i++){const s=n==="right";a[s?i:r-i-1]=e[s?i:e.length-i-1]}return a}function Su(e,t){if(tt(e)>t)throw new Bx({givenSize:tt(e),maxSize:t})}function yx(e,t){if(typeof t=="number"&&t>0&&t>tt(e)-1)throw new dh({offset:t,position:"start",size:tt(e)})}function bx(e,t,n){if(typeof t=="number"&&typeof n=="number"&&tt(e)!==n-t)throw new dh({offset:n,position:"end",size:tt(e)})}function oh(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const a=e.replace("0x","");if(a.length>r*2)throw new Rx({size:Math.ceil(a.length/2),targetSize:r,type:"Hex"});return`0x${a[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const gx=new TextEncoder;function wx(e){return e instanceof Uint8Array?e:typeof e=="string"?xx(e):vx(e)}function vx(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function xx(e,t={}){const{size:n}=t;let r=e;n&&(Su(e,n),r=un(e,n));let a=r.slice(2);a.length%2&&(a=`0${a}`);const i=a.length/2,s=new Uint8Array(i);for(let o=0,c=0;o<i;o++){const u=hd(a.charCodeAt(c++)),l=hd(a.charCodeAt(c++));if(u===void 0||l===void 0)throw new fe(`Invalid byte sequence ("${a[c-2]}${a[c-1]}" in "${a}").`);s[o]=u*16+l}return s}function Ax(e,t={}){const{size:n}=t,r=gx.encode(e);return typeof n=="number"?(mx(r,n),Ex(r,n)):r}function Ex(e,t){return hx(e,{dir:"right",size:t})}function yd(e){return e.length}let kx=class extends fe{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Ix=class extends fe{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const Cx=new TextEncoder,Px=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Tx(e,t={}){const{strict:n=!1}=t;if(!e)throw new bd(e);if(typeof e!="string")throw new bd(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new gd(e);if(!e.startsWith("0x"))throw new gd(e)}function xt(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function ch(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Su(n,t.size),cn(n,t.size)):n}function uh(e,t={}){let n="";for(let a=0;a<e.length;a++)n+=Px[e[a]];const r=`0x${n}`;return typeof t.size=="number"?(Su(r,t.size),un(r,t.size)):r}function ke(e,t={}){const{signed:n,size:r}=t,a=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof i=="bigint"&&n?-i-1n:0;if(i&&a>i||a<s){const u=typeof e=="bigint"?"n":"";throw new lh({max:i?`${i}${u}`:void 0,min:`${s}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&a<0?(1n<<BigInt(r*8))+BigInt(a):a).toString(16)}`;return r?cn(c,r):c}function Bu(e,t={}){return uh(Cx.encode(e),t)}function cn(e,t){return oh(e,{dir:"left",size:t})}function un(e,t){return oh(e,{dir:"right",size:t})}function Ru(e,t,n,r={}){const{strict:a}=r;yx(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return a&&bx(i,t,n),i}function tt(e){return Math.ceil((e.length-2)/2)}function Sx(e,t={}){const{strict:n=!1}=t;try{return Tx(e,{strict:n}),!0}catch{return!1}}let lh=class extends fe{constructor({max:t,min:n,signed:r,size:a,value:i}){super(`Number \`${i}\` is not in safe${a?` ${a*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}};class bd extends fe{constructor(t){super(`Value \`${typeof t=="object"?fx(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class gd extends fe{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let Bx=class extends fe{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},dh=class extends fe{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},Rx=class extends fe{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function Mx(e){return{address:e.address,amount:ke(e.amount),index:ke(e.index),validatorIndex:ke(e.validatorIndex)}}function ph(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:ke(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:ke(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:ke(e.gasLimit)},...typeof e.number=="bigint"&&{number:ke(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:ke(e.prevRandao)},...typeof e.time=="bigint"&&{time:ke(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Mx)}}}const uc=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],lc=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],fh=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],mh=[...fh,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Nx=[...fh,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],wd=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],vd=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],xd=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Ox=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],$x="0x82ad56cb",hh="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",_x="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Fx="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",_s="/docs/contract/encodeDeployData";function qi(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const a=t.find(s=>"type"in s&&s.type==="constructor");if(!a)throw new ov({docsPath:_s});if(!("inputs"in a))throw new ql({docsPath:_s});if(!a.inputs||a.inputs.length===0)throw new ql({docsPath:_s});const i=qe(a.inputs,n);return rt([r,i])}function Mu(){let e=()=>{},t=()=>{};return{promise:new Promise((r,a)=>{e=r,t=a}),resolve:e,reject:t}}const Fs=new Map;function Nu({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:a}){const i=async()=>{const l=c();s();const d=l.map(({args:p})=>p);d.length!==0&&e(d).then(p=>{a&&Array.isArray(p)&&p.sort(a);for(let f=0;f<l.length;f++){const{resolve:m}=l[f];m?.([p[f],p])}}).catch(p=>{for(let f=0;f<l.length;f++){const{reject:m}=l[f];m?.(p)}})},s=()=>Fs.delete(t),o=()=>c().map(({args:l})=>l),c=()=>Fs.get(t)||[],u=l=>Fs.set(t,[...c(),l]);return{flush:s,async schedule(l){const{promise:d,resolve:p,reject:f}=Mu();return n?.([...o(),l])&&i(),c().length>0?(u({args:l,resolve:p,reject:f}),d):(u({args:l,resolve:p,reject:f}),setTimeout(i,r),d)}}}async function Hi(e,t){const{account:n=e.account,authorizationList:r,batch:a=!!e.batch?.multicall,blockNumber:i,blockTag:s=e.experimental_blockTag??"latest",accessList:o,blobs:c,blockOverrides:u,code:l,data:d,factory:p,factoryData:f,gas:m,gasPrice:y,maxFeePerBlobGas:g,maxFeePerGas:b,maxPriorityFeePerGas:h,nonce:w,to:v,value:x,stateOverride:k,...T}=t,C=n?pe(n):void 0;if(l&&(p||f))throw new M("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(l&&v)throw new M("Cannot provide both `code` & `to` as parameters.");const A=l&&d,R=p&&f&&v&&d,I=A||R,S=A?Dx({code:l,data:d}):R?Ux({data:d,factory:p,factoryData:f,to:v}):d;try{hn(t);const j=(typeof i=="bigint"?F(i):void 0)||s,O=u?ph(u):void 0,E=wu(k),N=e.chain?.formatters?.transactionRequest?.format,D=(N||Qn)({..._i(T,{format:N}),from:C?.address,accessList:o,authorizationList:r,blobs:c,data:S,gas:m,gasPrice:y,maxFeePerBlobGas:g,maxFeePerGas:b,maxPriorityFeePerGas:h,nonce:w,to:I?void 0:v,value:x});if(a&&Lx({request:D})&&!E&&!O)try{return await jx(e,{...D,blockNumber:i,blockTag:s})}catch(q){if(!(q instanceof Df)&&!(q instanceof Bo))throw q}const z=(()=>{const q=[D,j];return E&&O?[...q,E,O]:E?[...q,E]:O?[...q,{},O]:q})(),$=await e.request({method:"eth_call",params:z});return $==="0x"?{data:void 0}:{data:$}}catch(L){const j=zx(L),{offchainLookup:O,offchainLookupSignature:E}=await Ii(async()=>{const{offchainLookup:N,offchainLookupSignature:B}=await import("./ccip-DzYnRPwC.js");return{offchainLookup:N,offchainLookupSignature:B}},__vite__mapDeps([0,1,2,3]));if(e.ccipRead!==!1&&j?.slice(0,10)===E&&v)return{data:await O(e,{data:j,to:v})};throw I&&j?.slice(0,10)==="0x101bb98d"?new O1({factory:p}):Hm(L,{...t,account:C,chain:e.chain})}}function Lx({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith($x)||!n||Object.values(r).filter(a=>typeof a<"u").length>0)}async function jx(e,t){const{batchSize:n=1024,wait:r=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:a,blockTag:i=e.experimental_blockTag??"latest",data:s,multicallAddress:o,to:c}=t;let u=o;if(!u){if(!e.chain)throw new Df;u=Wn({blockNumber:a,chain:e.chain,contract:"multicall3"})}const d=(typeof a=="bigint"?F(a):void 0)||i,{schedule:p}=Nu({id:`${e.uid}.${d}`,wait:r,shouldSplitBatch(y){return y.reduce((b,{data:h})=>b+(h.length-2),0)>n*2},fn:async y=>{const g=y.map(w=>({allowFailure:!0,callData:w.data,target:w.to})),b=Qe({abi:uc,args:[g],functionName:"aggregate3"}),h=await e.request({method:"eth_call",params:[{data:b,to:u},d]});return yn({abi:uc,args:[g],functionName:"aggregate3",data:h||"0x"})}}),[{returnData:f,success:m}]=await p({data:s,to:c});if(!m)throw new Ni({data:f});return f==="0x"?{data:void 0}:{data:f}}function Dx(e){const{code:t,data:n}=e;return qi({abi:vm(["constructor(bytes, bytes)"]),bytecode:hh,args:[t,n]})}function Ux(e){const{data:t,factory:n,factoryData:r,to:a}=e;return qi({abi:vm(["constructor(address, bytes, address, bytes)"]),bytecode:_x,args:[a,t,n,r]})}function zx(e){if(!(e instanceof M))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function At(e,t){const{abi:n,address:r,args:a,functionName:i,...s}=t,o=Qe({abi:n,args:a,functionName:i});try{const{data:c}=await G(e,Hi,"call")({...s,data:o,to:r});return yn({abi:n,args:a,functionName:i,data:c||"0x"})}catch(c){throw on(c,{abi:n,address:r,args:a,docsPath:"/docs/contract/readContract",functionName:i})}}async function yh(e,t){const{abi:n,address:r,args:a,dataSuffix:i,functionName:s,...o}=t,c=o.account?pe(o.account):e.account,u=Qe({abi:n,args:a,functionName:s});try{const{data:l}=await G(e,Hi,"call")({batch:!1,data:`${u}${i?i.replace("0x",""):""}`,to:r,...o,account:c}),d=yn({abi:n,args:a,functionName:s,data:l||"0x"}),p=n.filter(f=>"name"in f&&f.name===t.functionName);return{result:d,request:{abi:p,address:r,args:a,dataSuffix:i,functionName:s,...o,account:c}}}catch(l){throw on(l,{abi:n,address:r,args:a,docsPath:"/docs/contract/simulateContract",functionName:s,sender:c?.address})}}const Ls=new Map,Ad=new Map;let qx=0;function Mt(e,t,n){const r=++qx,a=()=>Ls.get(e)||[],i=()=>{const l=a();Ls.set(e,l.filter(d=>d.id!==r))},s=()=>{const l=a();if(!l.some(p=>p.id===r))return;const d=Ad.get(e);if(l.length===1&&d){const p=d();p instanceof Promise&&p.catch(()=>{})}i()},o=a();if(Ls.set(e,[...o,{id:r,fns:t}]),o&&o.length>0)return s;const c={};for(const l in t)c[l]=(...d)=>{const p=a();if(p.length!==0)for(const f of p)f.fns[l]?.(...d)};const u=n(c);return typeof u=="function"&&Ad.set(e,u),s}async function dc(e){return new Promise(t=>setTimeout(t,e))}function Xn(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let a=!0;const i=()=>a=!1;return(async()=>{let o;t&&(o=await e({unpoll:i}));const c=await n?.(o)??r;await dc(c);const u=async()=>{a&&(await e({unpoll:i}),await dc(r),u())};u()})(),i}const Hx=new Map,Gx=new Map;function Vx(e){const t=(a,i)=>({clear:()=>i.delete(a),get:()=>i.get(a),set:s=>i.set(a,s)}),n=t(e,Hx),r=t(e,Gx);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Kx(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Vx(t),a=r.response.get();if(a&&n>0&&new Date().getTime()-a.created.getTime()<n)return a.data;let i=r.promise.get();i||(i=e(),r.promise.set(i));try{const s=await i;return r.response.set({created:new Date,data:s}),s}finally{r.promise.clear()}}const Qx=e=>`blockNumber.${e}`;async function ua(e,{cacheTime:t=e.cacheTime}={}){const n=await Kx(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Qx(e.uid),cacheTime:t});return BigInt(n)}async function Gi(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const a=r.map(i=>Rt(i));return!("abi"in t)||!t.abi?a:Eu({abi:t.abi,logs:a,strict:n})}async function Vi(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function bh(e,t){const{abi:n,address:r,args:a,batch:i=!0,eventName:s,fromBlock:o,onError:c,onLogs:u,poll:l,pollingInterval:d=e.pollingInterval,strict:p}=t;return(typeof l<"u"?l:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const g=p??!1,b=me(["watchContractEvent",r,a,i,e.uid,s,d,g,o]);return Mt(b,{onLogs:u,onError:c},h=>{let w;o!==void 0&&(w=o-1n);let v,x=!1;const k=Xn(async()=>{if(!x){try{v=await G(e,gu,"createContractEventFilter")({abi:n,address:r,args:a,eventName:s,strict:g,fromBlock:o})}catch{}x=!0;return}try{let T;if(v)T=await G(e,Gi,"getFilterChanges")({filter:v});else{const C=await G(e,ua,"getBlockNumber")({});w&&w<C?T=await G(e,Iu,"getContractEvents")({abi:n,address:r,args:a,eventName:s,fromBlock:w+1n,toBlock:C,strict:g}):T=[],w=C}if(T.length===0)return;if(i)h.onLogs(T);else for(const C of T)h.onLogs([C])}catch(T){v&&T instanceof Nr&&(x=!1),h.onError?.(T)}},{emitOnBegin:!0,interval:d});return async()=>{v&&await G(e,Vi,"uninstallFilter")({filter:v}),k()}})})():(()=>{const g=p??!1,b=me(["watchContractEvent",r,a,i,e.uid,s,d,g]);let h=!0,w=()=>h=!1;return Mt(b,{onLogs:u,onError:c},v=>((async()=>{try{const x=(()=>{if(e.transport.type==="fallback"){const C=e.transport.transports.find(A=>A.config.type==="webSocket"||A.config.type==="ipc");return C?C.value:e.transport}return e.transport})(),k=s?ca({abi:n,eventName:s,args:a}):[],{unsubscribe:T}=await x.subscribe({params:["logs",{address:r,topics:k}],onData(C){if(!h)return;const A=C.result;try{const{eventName:R,args:I}=Di({abi:n,data:A.data,topics:A.topics,strict:p}),S=Rt(A,{args:I,eventName:R});v.onLogs([S])}catch(R){let I,S;if(R instanceof Br||R instanceof Ri){if(p)return;I=R.abiItem.name,S=R.abiItem.inputs?.some(j=>!("name"in j&&j.name))}const L=Rt(A,{args:S?[]:{},eventName:I});v.onLogs([L])}},onError(C){v.onError?.(C)}});w=T,h||w()}catch(x){c?.(x)}})(),()=>w()))})()}function gh(e,{docsPath:t,...n}){const r=(()=>{const a=$i(e,n);return a instanceof ea?e:a})();return new sw(r,{docsPath:t,...n})}async function Ou(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const js=new ta(128);async function Ki(e,t){const{account:n=e.account,chain:r=e.chain,accessList:a,authorizationList:i,blobs:s,data:o,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:f,type:m,value:y,...g}=t;if(typeof n>"u")throw new fn({docsPath:"/docs/actions/wallet/sendTransaction"});const b=n?pe(n):null;try{hn(t);const h=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await Zm({authorization:i[0]}).catch(()=>{throw new M("`to` is required. Could not infer from `authorizationList`.")})})();if(b?.type==="json-rpc"||b===null){let w;r!==null&&(w=await G(e,Zn,"getChainId")({}),Yf({currentChainId:w,chain:r}));const v=e.chain?.formatters?.transactionRequest?.format,k=(v||Qn)({..._i(g,{format:v}),accessList:a,authorizationList:i,blobs:s,chainId:w,data:o,from:b?.address,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:f,to:h,type:m,value:y}),T=js.get(e.uid),C=T?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:C,params:[k]},{retryCount:0})}catch(A){if(T===!1)throw A;const R=A;if(R.name==="InvalidInputRpcError"||R.name==="InvalidParamsRpcError"||R.name==="MethodNotFoundRpcError"||R.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[k]},{retryCount:0}).then(I=>(js.set(e.uid,!0),I)).catch(I=>{const S=I;throw S.name==="MethodNotFoundRpcError"||S.name==="MethodNotSupportedRpcError"?(js.set(e.uid,!1),R):S});throw R}}if(b?.type==="local"){const w=await G(e,ji,"prepareTransactionRequest")({account:b,accessList:a,authorizationList:i,blobs:s,chain:r,data:o,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:f,nonceManager:b.nonceManager,parameters:[...eh,"sidecars"],type:m,value:y,...g,to:h}),v=r?.serializers?.transaction,x=await b.signTransaction(w,{serializer:v});return await G(e,Ou,"sendRawTransaction")({serializedTransaction:x})}throw b?.type==="smart"?new Da({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Da({docsPath:"/docs/actions/wallet/sendTransaction",type:b?.type})}catch(h){throw h instanceof Da?h:gh(h,{...t,account:b,chain:t.chain||void 0})}}async function wh(e,t){const{abi:n,account:r=e.account,address:a,args:i,dataSuffix:s,functionName:o,...c}=t;if(typeof r>"u")throw new fn({docsPath:"/docs/contract/writeContract"});const u=r?pe(r):null,l=Qe({abi:n,args:i,functionName:o});try{return await G(e,Ki,"sendTransaction")({data:`${l}${s?s.replace("0x",""):""}`,to:a,account:u,...c})}catch(d){throw on(d,{abi:n,address:a,args:i,docsPath:"/docs/contract/writeContract",functionName:o,sender:u?.address})}}function Ct({abi:e,address:t,client:n}){const r=n,[a,i]=r?"public"in r&&"wallet"in r?[r.public,r.wallet]:"public"in r?[r.public,void 0]:"wallet"in r?[void 0,r.wallet]:[r,r]:[void 0,void 0],s=a!=null,o=i!=null,c={};let u=!1,l=!1,d=!1;for(const p of e)if(p.type==="function"?p.stateMutability==="view"||p.stateMutability==="pure"?u=!0:l=!0:p.type==="event"&&(d=!0),u&&l&&d)break;return s&&(u&&(c.read=new Proxy({},{get(p,f){return(...m)=>{const{args:y,options:g}=Sa(m);return G(a,At,"readContract")({abi:e,address:t,functionName:f,args:y,...g})}}})),l&&(c.simulate=new Proxy({},{get(p,f){return(...m)=>{const{args:y,options:g}=Sa(m);return G(a,yh,"simulateContract")({abi:e,address:t,functionName:f,args:y,...g})}}})),d&&(c.createEventFilter=new Proxy({},{get(p,f){return(...m)=>{const y=e.find(h=>h.type==="event"&&h.name===f),{args:g,options:b}=Ds(m,y);return G(a,gu,"createContractEventFilter")({abi:e,address:t,eventName:f,args:g,...b})}}}),c.getEvents=new Proxy({},{get(p,f){return(...m)=>{const y=e.find(h=>h.type==="event"&&h.name===f),{args:g,options:b}=Ds(m,y);return G(a,Iu,"getContractEvents")({abi:e,address:t,eventName:f,args:g,...b})}}}),c.watchEvent=new Proxy({},{get(p,f){return(...m)=>{const y=e.find(h=>h.type==="event"&&h.name===f),{args:g,options:b}=Ds(m,y);return G(a,bh,"watchContractEvent")({abi:e,address:t,eventName:f,args:g,...b})}}}))),o&&l&&(c.write=new Proxy({},{get(p,f){return(...m)=>{const{args:y,options:g}=Sa(m);return G(i,wh,"writeContract")({abi:e,address:t,functionName:f,args:y,...g})}}})),(s||o)&&l&&(c.estimateGas=new Proxy({},{get(p,f){return(...m)=>{const{args:y,options:g}=Sa(m);return G(a??i,nh,"estimateContractGas")({abi:e,address:t,functionName:f,args:y,...g,account:g.account??i.account})}}})),c.address=t,c.abi=e,c}function Sa(e){const t=e.length&&Array.isArray(e[0]),n=t?e[0]:[],r=(t?e[1]:e[0])??{};return{args:n,options:r}}function Ds(e,t){let n=!1;Array.isArray(e[0])?n=!0:e.length===1?n=t.inputs.some(i=>i.indexed):e.length===2&&(n=!0);const r=n?e[0]:void 0,a=(n?e[1]:e[0])??{};return{args:r,options:a}}class Wx extends M{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}function ti(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((a,i)=>{const s=async({count:o=0}={})=>{const c=async({error:u})=>{const l=typeof t=="function"?t({count:o,error:u}):t;l&&await dc(l),s({count:o+1})};try{const u=await e();a(u)}catch(u){if(o<n&&await r({count:o,error:u}))return c({error:u});i(u)}};s()})}const vh="0x5792579257925792579257925792579257925792579257925792579257925792",xh=F(0,{size:32});async function Jx(e,t){const{account:n=e.account,capabilities:r,chain:a=e.chain,experimental_fallback:i,experimental_fallbackDelay:s=32,forceAtomic:o=!1,id:c,version:u="2.0.0"}=t,l=n?pe(n):null,d=t.calls.map(p=>{const f=p,m=f.abi?Qe({abi:f.abi,functionName:f.functionName,args:f.args}):f.data;return{data:f.dataSuffix&&m?et([m,f.dataSuffix]):m,to:f.to,value:f.value?F(f.value):void 0}});try{const p=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:o,calls:d,capabilities:r,chainId:F(a.id),from:l?.address,id:c,version:u}]},{retryCount:0});return typeof p=="string"?{id:p}:p}catch(p){const f=p;if(i&&(f.name==="MethodNotFoundRpcError"||f.name==="MethodNotSupportedRpcError"||f.name==="UnknownRpcError"||f.details.toLowerCase().includes("does not exist / is not available")||f.details.toLowerCase().includes("missing or invalid. request()")||f.details.toLowerCase().includes("did not match any variant of untagged enum")||f.details.toLowerCase().includes("account upgraded to unsupported contract")||f.details.toLowerCase().includes("eip-7702 not supported")||f.details.toLowerCase().includes("unsupported wc_ method"))){if(r&&Object.values(r).some(h=>!h.optional)){const h="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Fn(new M(h,{details:h}))}if(o&&d.length>1){const b="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Ln(new M(b,{details:b}))}const m=[];for(const b of d){const h=Ki(e,{account:l,chain:a,data:b.data,to:b.to,value:b.value?ze(b.value):void 0});m.push(h),s>0&&await new Promise(w=>setTimeout(w,s))}const y=await Promise.allSettled(m);if(y.every(b=>b.status==="rejected"))throw y[0].reason;const g=y.map(b=>b.status==="fulfilled"?b.value:xh);return{id:et([...g,F(a.id,{size:32}),vh])}}throw gh(p,{...t,account:l,chain:t.chain})}}async function Ah(e,t){async function n(l){if(l.endsWith(vh.slice(2))){const p=je(Ja(l,-64,-32)),f=Ja(l,0,-64).slice(2).match(/.{1,64}/g),m=await Promise.all(f.map(g=>xh.slice(2)!==g?e.request({method:"eth_getTransactionReceipt",params:[`0x${g}`]},{dedupe:!0}):void 0)),y=m.some(g=>g===null)?100:m.every(g=>g?.status==="0x1")?200:m.every(g=>g?.status==="0x0")?500:600;return{atomic:!1,chainId:Xe(p),receipts:m.filter(Boolean),status:y,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[l]})}const{atomic:r=!1,chainId:a,receipts:i,version:s="2.0.0",...o}=await n(t.id),[c,u]=(()=>{const l=o.status;return l>=100&&l<200?["pending",l]:l>=200&&l<300?["success",l]:l>=300&&l<700?["failure",l]:l==="CONFIRMED"?["success",200]:l==="PENDING"?["pending",100]:[void 0,l]})();return{...o,atomic:r,chainId:a?Xe(a):void 0,receipts:i?.map(l=>({...l,blockNumber:ze(l.blockNumber),gasUsed:ze(l.gasUsed),status:Ef[l.status]}))??[],statusCode:u,status:c,version:s}}async function Zx(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:a=({statusCode:y})=>y===200||y>=300,retryCount:i=4,retryDelay:s=({count:y})=>~~(1<<y)*200,timeout:o=6e4,throwOnFailure:c=!1}=t,u=me(["waitForCallsStatus",e.uid,n]),{promise:l,resolve:d,reject:p}=Mu();let f;const m=Mt(u,{resolve:d,reject:p},y=>{const g=Xn(async()=>{const b=h=>{clearTimeout(f),g(),h(),m()};try{const h=await ti(async()=>{const w=await Ah(e,{id:n});if(c&&w.status==="failure")throw new Wx(w);return w},{retryCount:i,delay:s});if(!a(h))return;b(()=>y.resolve(h))}catch(h){b(()=>y.reject(h))}},{interval:r,emitOnBegin:!0});return g});return f=o?setTimeout(()=>{m(),clearTimeout(f),p(new Yx({id:n}))},o):void 0,await l}class Yx extends M{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const pc=256;let Ba=pc,Ra;function Eh(e=11){if(!Ra||Ba+e>pc*2){Ra="",Ba=0;for(let t=0;t<pc;t++)Ra+=(256+Math.random()*256|0).toString(16).substring(1)}return Ra.substring(Ba,Ba+++e)}function kh(e){const{batch:t,chain:n,ccipRead:r,key:a="base",name:i="Base Client",type:s="base"}=e,o=e.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),c=n?.blockTime??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),l=e.pollingInterval??u,d=e.cacheTime??l,p=e.account?pe(e.account):void 0,{config:f,request:m,value:y}=e.transport({chain:n,pollingInterval:l}),g={...f,...y},b={account:p,batch:t,cacheTime:d,ccipRead:r,chain:n,key:a,name:i,pollingInterval:l,request:m,transport:g,type:s,uid:Eh(),...o?{experimental_blockTag:o}:{}};function h(w){return v=>{const x=v(w);for(const T in b)delete x[T];const k={...w,...x};return Object.assign(k,{extend:h(k)})}}return Object.assign(b,{extend:h(b)})}const Ma=new ta(8192);function Xx(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(Ma.get(n))return Ma.get(n);const r=e().finally(()=>Ma.delete(n));return Ma.set(n,r),r}function eA(e,t={}){return async(n,r={})=>{const{dedupe:a=!1,methods:i,retryDelay:s=150,retryCount:o=3,uid:c}={...t,...r},{method:u}=n;if(i?.exclude?.includes(u))throw new yr(new Error("method not supported"),{method:u});if(i?.include&&!i.include.includes(u))throw new yr(new Error("method not supported"),{method:u});const l=a?ae(`${c}.${me(n)}`):void 0;return Xx(()=>ti(async()=>{try{return await e(n)}catch(d){const p=d;switch(p.code){case Ko.code:throw new Ko(p);case Qo.code:throw new Qo(p);case Wo.code:throw new Wo(p,{method:n.method});case Jo.code:throw new Jo(p);case Mr.code:throw new Mr(p);case Nr.code:throw new Nr(p);case Zo.code:throw new Zo(p);case Yo.code:throw new Yo(p);case Xo.code:throw new Xo(p);case yr.code:throw new yr(p,{method:n.method});case Xa.code:throw new Xa(p);case ec.code:throw new ec(p);case Ua.code:throw new Ua(p);case tc.code:throw new tc(p);case nc.code:throw new nc(p);case rc.code:throw new rc(p);case ac.code:throw new ac(p);case ic.code:throw new ic(p);case Fn.code:throw new Fn(p);case Or.code:throw new Or(p);case $r.code:throw new $r(p);case _r.code:throw new _r(p);case Fr.code:throw new Fr(p);case Lr.code:throw new Lr(p);case Ln.code:throw new Ln(p);case 5e3:throw new Ua(p);default:throw d instanceof M?d:new _1(p)}}},{delay:({count:d,error:p})=>{if(p&&p instanceof vr){const f=p?.headers?.get("Retry-After");if(f?.match(/\d/))return Number.parseInt(f)*1e3}return~~(1<<d)*s},retryCount:o,shouldRetry:({error:d})=>tA(d)}),{enabled:a,id:l})}}function tA(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Xa.code||e.code===Mr.code:e instanceof vr&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function $u({key:e,methods:t,name:n,request:r,retryCount:a=3,retryDelay:i=150,timeout:s,type:o},c){const u=Eh();return{config:{key:e,methods:t,name:n,request:r,retryCount:a,retryDelay:i,timeout:s,type:o},request:eA(r,{methods:t,retryCount:a,retryDelay:i,uid:u}),value:c}}function nA(e,t={}){const{key:n="custom",methods:r,name:a="Custom Provider",retryDelay:i}=t;return({retryCount:s})=>$u({key:n,methods:r,name:a,request:e.request.bind(e),retryCount:t.retryCount??s,retryDelay:i,type:"custom"})}let Ih=class extends M{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}};function Ch(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((a,i)=>{(async()=>{let s;try{const o=new AbortController;n>0&&(s=setTimeout(()=>{r?o.abort():i(t)},n)),a(await e({signal:o?.signal||null}))}catch(o){o?.name==="AbortError"&&i(t),i(o)}finally{clearTimeout(s)}})()})}function rA(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const fc=rA();function aA(e,t={}){return{async request(n){const{body:r,onRequest:a=t.onRequest,onResponse:i=t.onResponse,timeout:s=t.timeout??1e4}=n,o={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:l}=o;try{const d=await Ch(async({signal:f})=>{const m={...o,body:Array.isArray(r)?me(r.map(h=>({jsonrpc:"2.0",id:h.id??fc.take(),...h}))):me({jsonrpc:"2.0",id:r.id??fc.take(),...r}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:l||(s>0?f:null)},y=new Request(e,m),g=await a?.(y,m)??{...m,url:e};return await fetch(g.url??e,g)},{errorInstance:new Vo({body:r,url:e}),timeout:s,signal:!0});i&&await i(d);let p;if(d.headers.get("Content-Type")?.startsWith("application/json"))p=await d.json();else{p=await d.text();try{p=JSON.parse(p||"{}")}catch(f){if(d.ok)throw f;p={error:p}}}if(!d.ok)throw new vr({body:r,details:me(p.error)||d.statusText,headers:d.headers,status:d.status,url:e});return p}catch(d){throw d instanceof vr||d instanceof Vo?d:new vr({body:r,cause:d,url:e})}}}}function iA(e,t={}){const{batch:n,fetchOptions:r,key:a="http",methods:i,name:s="HTTP JSON-RPC",onFetchRequest:o,onFetchResponse:c,retryDelay:u,raw:l}=t;return({chain:d,retryCount:p,timeout:f})=>{const{batchSize:m=1e3,wait:y=0}=typeof n=="object"?n:{},g=t.retryCount??p,b=f??t.timeout??1e4,h=e||d?.rpcUrls.default.http[0];if(!h)throw new Ih;const w=aA(h,{fetchOptions:r,onRequest:o,onResponse:c,timeout:b});return $u({key:a,methods:i,name:s,async request({method:v,params:x}){const k={method:v,params:x},{schedule:T}=Nu({id:h,wait:y,shouldSplitBatch(I){return I.length>m},fn:I=>w.request({body:I}),sort:(I,S)=>I.id-S.id}),C=async I=>n?T(I):[await w.request({body:I})],[{error:A,result:R}]=await C(k);if(l)return{error:A,result:R};if(A)throw new Oi({body:k,error:A,url:h});return R},retryCount:g,retryDelay:u,timeout:b,type:"http"},{fetchOptions:r,url:h})}}function _u(e,t){if(!(e instanceof M))return!1;const n=e.walk(r=>r instanceof Go);return n instanceof Go?!!(n.data?.errorName==="ResolverNotFound"||n.data?.errorName==="ResolverWildcardNotSupported"||n.data?.errorName==="ResolverNotContract"||n.data?.errorName==="ResolverError"||n.data?.errorName==="HttpError"||n.reason?.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===Xf[50]):!1}function sA(e){const{abi:t,data:n}=e,r=an(n,0,4),a=t.find(i=>i.type==="function"&&r===ia(st(i)));if(!a)throw new pv(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:a.name,args:"inputs"in a&&a.inputs&&a.inputs.length>0?sa(a.inputs,an(n,4)):void 0}}const Us="/docs/contract/encodeErrorResult";function Ed(e){const{abi:t,errorName:n,args:r}=e;let a=t[0];if(n){const c=mn({abi:t,args:r,name:n});if(!c)throw new Hl(n,{docsPath:Us});a=c}if(a.type!=="error")throw new Hl(void 0,{docsPath:Us});const i=st(a),s=ia(i);let o="0x";if(r&&r.length>0){if(!a.inputs)throw new lv(a.name,{docsPath:Us});o=qe(a.inputs,r)}return rt([s,o])}const zs="/docs/contract/encodeFunctionResult";function oA(e){const{abi:t,functionName:n,result:r}=e;let a=t[0];if(n){const s=mn({abi:t,name:n});if(!s)throw new _n(n,{docsPath:zs});a=s}if(a.type!=="function")throw new _n(void 0,{docsPath:zs});if(!a.outputs)throw new im(a.name,{docsPath:zs});const i=(()=>{if(a.outputs.length===0)return[];if(a.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new om(r)})();return qe(a.outputs,i)}const Fu="x-batch-gateway:true";async function cA(e){const{data:t,ccipRequest:n}=e,{args:[r]}=sA({abi:lc,data:t}),a=[],i=[];return await Promise.all(r.map(async(s,o)=>{try{i[o]=s.urls.includes(Fu)?await cA({data:s.data,ccipRequest:n}):await n(s),a[o]=!1}catch(c){a[o]=!0,i[o]=uA(c)}})),oA({abi:lc,functionName:"query",result:[a,i]})}function uA(e){return e.name==="HttpRequestError"&&e.status?Ed({abi:lc,errorName:"HttpError",args:[e.status,e.shortMessage]}):Ed({abi:[em],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function Ph(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return vt(t)?t:null}function za(e){let t=new Uint8Array(32).fill(0);if(!e)return he(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const a=Ph(n[r]),i=a?Kn(a):ie(Xt(n[r]),"bytes");t=ie(et([t,i]),"bytes")}return he(t)}function lA(e){return`[${e.slice(2)}]`}function dA(e){const t=new Uint8Array(32).fill(0);return e?Ph(e)||ie(Xt(e)):he(t)}function Qi(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Xt(t).byteLength+2);let r=0;const a=t.split(".");for(let i=0;i<a.length;i++){let s=Xt(a[i]);s.byteLength>255&&(s=Xt(lA(dA(a[i])))),n[r]=s.length,n.set(s,r+1),r+=s.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function pA(e,t){const{blockNumber:n,blockTag:r,coinType:a,name:i,gatewayUrls:s,strict:o}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Wn({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),l=c?.ensTlds;if(l&&!l.some(d=>i.endsWith(d)))return null;try{const d=Qe({abi:vd,functionName:"addr",...a!=null?{args:[za(i),BigInt(a)]}:{args:[za(i)]}}),p={address:u,abi:mh,functionName:"resolve",args:[Ue(Qi(i)),d,s??[Fu]],blockNumber:n,blockTag:r},m=await G(e,At,"readContract")(p);if(m[0]==="0x")return null;const y=yn({abi:vd,args:a!=null?[za(i),BigInt(a)]:void 0,functionName:"addr",data:m[0]});return y==="0x"||je(y)==="0x00"?null:y}catch(d){if(o)throw d;if(_u(d,"resolve"))return null;throw d}}let fA=class extends M{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}},pr=class extends M{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}},Lu=class extends M{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}},mA=class extends M{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}};const hA=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,yA=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,bA=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,gA=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function wA(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function kd(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Th({uri:e,gatewayUrls:t}){const n=bA.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=kd(t?.ipfs,"https://ipfs.io"),a=kd(t?.arweave,"https://arweave.net"),i=e.match(hA),{protocol:s,subpath:o,target:c,subtarget:u=""}=i?.groups||{},l=s==="ipns:/"||o==="ipns/",d=s==="ipfs:/"||o==="ipfs/"||yA.test(e);if(e.startsWith("http")&&!l&&!d){let f=e;return t?.arweave&&(f=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:f,isOnChain:!1,isEncoded:!1}}if((l||d)&&c)return{uri:`${r}/${l?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(s==="ar:/"&&c)return{uri:`${a}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let p=e.replace(gA,"");if(p.startsWith("<svg")&&(p=`data:image/svg+xml;base64,${btoa(p)}`),p.startsWith("data:")||p.startsWith("{"))return{uri:p,isOnChain:!0,isEncoded:!1};throw new Lu({uri:e})}function Sh(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new fA({data:e});return e.image||e.image_url||e.image_data}async function vA({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(a=>a.json());return await ju({gatewayUrls:e,uri:Sh(n)})}catch{throw new Lu({uri:t})}}async function ju({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Th({uri:t,gatewayUrls:e});if(r||await wA(n))return n;throw new Lu({uri:t})}function xA(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,a]=t.split("/"),[i,s]=n.split(":"),[o,c]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new pr({reason:"Only EIP-155 supported"});if(!s)throw new pr({reason:"Chain ID not found"});if(!c)throw new pr({reason:"Contract address not found"});if(!a)throw new pr({reason:"Token ID not found"});if(!o)throw new pr({reason:"ERC namespace not found"});return{chainID:Number.parseInt(s),namespace:o.toLowerCase(),contractAddress:c,tokenID:a}}async function AA(e,{nft:t}){if(t.namespace==="erc721")return At(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return At(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new mA({namespace:t.namespace})}async function EA(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?kA(e,{gatewayUrls:t,record:n}):ju({uri:n,gatewayUrls:t})}async function kA(e,{gatewayUrls:t,record:n}){const r=xA(n),a=await AA(e,{nft:r}),{uri:i,isOnChain:s,isEncoded:o}=Th({uri:a,gatewayUrls:t});if(s&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const u=o?atob(i.replace("data:application/json;base64,","")):i,l=JSON.parse(u);return ju({uri:Sh(l),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),vA({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,c)})}async function Bh(e,t){const{blockNumber:n,blockTag:r,key:a,name:i,gatewayUrls:s,strict:o}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Wn({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),l=c?.ensTlds;if(l&&!l.some(d=>i.endsWith(d)))return null;try{const d={address:u,abi:mh,functionName:"resolve",args:[Ue(Qi(i)),Qe({abi:wd,functionName:"text",args:[za(i),a]}),s??[Fu]],blockNumber:n,blockTag:r},f=await G(e,At,"readContract")(d);if(f[0]==="0x")return null;const m=yn({abi:wd,functionName:"text",data:f[0]});return m===""?null:m}catch(d){if(o)throw d;if(_u(d,"resolve"))return null;throw d}}async function IA(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:a,gatewayUrls:i,strict:s,universalResolverAddress:o}){const c=await G(e,Bh,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:a,universalResolverAddress:o,gatewayUrls:i,strict:s});if(!c)return null;try{return await EA(e,{record:c,gatewayUrls:r})}catch{return null}}async function CA(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:a,strict:i,universalResolverAddress:s}){let o=s;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=Wn({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:o,abi:Nx,functionName:"reverse",args:[Ue(Qi(c))],blockNumber:n,blockTag:r},l=G(e,At,"readContract"),[d,p]=a?await l({...u,args:[...u.args,a]}):await l(u);return t.toLowerCase()!==p.toLowerCase()?null:d}catch(u){if(i)throw u;if(_u(u,"reverse"))return null;throw u}}async function PA(e,t){const{blockNumber:n,blockTag:r,name:a}=t,{chain:i}=e,s=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return Wn({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),o=i?.ensTlds;if(o&&!o.some(u=>a.endsWith(u)))throw new Error(`${a} is not a valid ENS TLD (${o?.join(", ")}) for chain "${i.name}" (id: ${i.id}).`);const[c]=await G(e,At,"readContract")({address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Ue(Qi(a))],blockNumber:n,blockTag:r});return c}async function Rh(e,t){const{account:n=e.account,blockNumber:r,blockTag:a="latest",blobs:i,data:s,gas:o,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,to:p,value:f,...m}=t,y=n?pe(n):void 0;try{hn(t);const b=(typeof r=="bigint"?F(r):void 0)||a,h=e.chain?.formatters?.transactionRequest?.format,v=(h||Qn)({..._i(m,{format:h}),from:y?.address,blobs:i,data:s,gas:o,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,to:p,value:f}),x=await e.request({method:"eth_createAccessList",params:[v,b]});return{accessList:x.accessList,gasUsed:BigInt(x.gasUsed)}}catch(g){throw Hm(g,{...t,account:y,chain:e.chain})}}async function TA(e){const t=Fi(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Mh(e,{address:t,args:n,event:r,events:a,fromBlock:i,strict:s,toBlock:o}={}){const c=a??(r?[r]:void 0),u=Fi(e,{method:"eth_newFilter"});let l=[];c&&(l=[c.flatMap(f=>ca({abi:[f],eventName:f.name,args:n}))],r&&(l=l[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof i=="bigint"?F(i):i,toBlock:typeof o=="bigint"?F(o):o,...l.length?{topics:l}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:i,id:d,request:u(d),strict:!!s,toBlock:o,type:"event"}}async function Nh(e){const t=Fi(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function SA(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function BA(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const a=n!==void 0?F(n):void 0;let i;return t?i=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):i=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[a||r]},{dedupe:!!a}),Xe(i)}async function Id(e,{address:t,blockNumber:n,blockTag:r="latest"}){const a=n!==void 0?F(n):void 0,i=await e.request({method:"eth_getCode",params:[t,a||r]},{dedupe:!!a});if(i!=="0x")return i}class RA extends M{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function MA(e,t){const{address:n,factory:r,factoryData:a}=t;try{const[i,s,o,c,u,l,d]=await G(e,At,"readContract")({abi:NA,address:n,functionName:"eip712Domain",factory:r,factoryData:a});return{domain:{name:s,version:o,chainId:Number(c),verifyingContract:u,salt:l},extensions:d,fields:i}}catch(i){const s=i;throw s.name==="ContractFunctionExecutionError"&&s.cause.name==="ContractFunctionZeroDataError"?new RA({address:n}):s}}const NA=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function OA(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function $A(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:a}){const i=typeof n=="bigint"?F(n):void 0,s=await e.request({method:"eth_feeHistory",params:[F(t),i||r,a]},{dedupe:!!i});return OA(s)}async function _A(e,{filter:t}){const n=t.strict??!1,a=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(i=>Rt(i));return t.abi?Eu({abi:t.abi,logs:a,strict:n}):a}const qs=new Map;async function FA(e){const{getSocket:t,keepAlive:n=!0,key:r="socket",reconnect:a=!0,url:i}=e,{interval:s=3e4}=typeof n=="object"?n:{},{attempts:o=5,delay:c=2e3}=typeof a=="object"?a:{},u=JSON.stringify({keepAlive:n,key:r,url:i,reconnect:a});let l=qs.get(u);if(l)return l;let d=0;const{schedule:p}=Nu({id:u,fn:async()=>{const y=new Map,g=new Map;let b,h,w,v=!1;function x(){if(a&&d<o){if(v)return;v=!0,d++,h?.close(),setTimeout(async()=>{await k().catch(console.error),v=!1},c)}else y.clear(),g.clear()}async function k(){const T=await t({onClose(){for(const C of y.values())C.onError?.(new Ya({url:i}));for(const C of g.values())C.onError?.(new Ya({url:i}));x()},onError(C){b=C;for(const A of y.values())A.onError?.(b);for(const A of g.values())A.onError?.(b);x()},onOpen(){b=void 0,d=0},onResponse(C){const A=C.method==="eth_subscription",R=A?C.params.subscription:C.id,I=A?g:y,S=I.get(R);S&&S.onResponse(C),A||I.delete(R)}});if(h=T,n&&(w&&clearInterval(w),w=setInterval(()=>h.ping?.(),s)),a&&g.size>0){const C=g.entries();for(const[A,{onResponse:R,body:I,onError:S}]of C)I&&(g.delete(A),l?.request({body:I,onResponse:R,onError:S}))}return T}return await k(),b=void 0,l={close(){w&&clearInterval(w),h.close(),qs.delete(u)},get socket(){return h},request({body:T,onError:C,onResponse:A}){b&&C&&C(b);const R=T.id??fc.take(),I=S=>{typeof S.id=="number"&&R!==S.id||(T.method==="eth_subscribe"&&typeof S.result=="string"&&g.set(S.result,{onResponse:I,onError:C,body:T}),T.method==="eth_unsubscribe"&&g.delete(T.params?.[0]),A(S))};y.set(R,{onResponse:I,onError:C});try{h.request({body:{jsonrpc:"2.0",id:R,...T}})}catch(S){C?.(S)}},requestAsync({body:T,timeout:C=1e4}){return Ch(()=>new Promise((A,R)=>this.request({body:T,onError:R,onResponse:A})),{errorInstance:new Vo({body:T,url:i}),timeout:C})},requests:y,subscriptions:g,url:i},qs.set(u,l),[l]}}),[f,[m]]=await p();return m}async function qa(e,t={}){const{keepAlive:n,reconnect:r}=t;return FA({async getSocket({onClose:a,onError:i,onOpen:s,onResponse:o}){const c=await Ii(()=>import("./native-CJ5et6AR.js"),[]).then(f=>f.WebSocket),u=new c(e);function l(){u.removeEventListener("close",l),u.removeEventListener("message",d),u.removeEventListener("error",i),u.removeEventListener("open",s),a()}function d({data:f}){try{const m=JSON.parse(f);o(m)}catch(m){i(m)}}u.addEventListener("close",l),u.addEventListener("message",d),u.addEventListener("error",i),u.addEventListener("open",s),u.readyState===c.CONNECTING&&await new Promise((f,m)=>{u&&(u.onopen=f,u.onerror=m)});const{close:p}=u;return Object.assign(u,{close(){p.bind(u)(),l()},ping(){try{if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new Jl({url:u.url,cause:new Ya({url:u.url})});const f={jsonrpc:"2.0",method:"net_version",params:[]};u.send(JSON.stringify(f))}catch(f){i(f)}},request({body:f}){if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new Jl({body:f,url:u.url,cause:new Ya({url:u.url})});return u.send(JSON.stringify(f))}})},keepAlive:n,reconnect:r,url:e})}async function LA(e){const t=await qa(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}class jA extends M{constructor({domain:t}){super(`Invalid domain "${me(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class DA extends M{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class UA extends M{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Oh(e){const{domain:t={},message:n,primaryType:r}=e,a={EIP712Domain:Dh({domain:t}),...e.types};jh({domain:t,message:n,primaryType:r,types:a});const i=["0x1901"];return t&&i.push(zA({domain:t,types:a})),r!=="EIP712Domain"&&i.push($h({data:n,primaryType:r,types:a})),ie(et(i))}function zA({domain:e,types:t}){return $h({data:e,primaryType:"EIP712Domain",types:t})}function $h({data:e,primaryType:t,types:n}){const r=_h({data:e,primaryType:t,types:n});return ie(r)}function _h({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],a=[qA({primaryType:t,types:n})];for(const i of n[t]){const[s,o]=Lh({types:n,name:i.name,type:i.type,value:e[i.name]});r.push(s),a.push(o)}return qe(r,a)}function qA({primaryType:e,types:t}){const n=Ue(HA({primaryType:e,types:t}));return ie(n)}function HA({primaryType:e,types:t}){let n="";const r=Fh({primaryType:e,types:t});r.delete(e);const a=[e,...Array.from(r).sort()];for(const i of a)n+=`${i}(${t[i].map(({name:s,type:o})=>`${o} ${s}`).join(",")})`;return n}function Fh({primaryType:e,types:t},n=new Set){const a=e.match(/^\w*/u)?.[0];if(n.has(a)||t[a]===void 0)return n;n.add(a);for(const i of t[a])Fh({primaryType:i.type,types:t},n);return n}function Lh({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},ie(_h({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},ie(r)];if(n==="string")return[{type:"bytes32"},ie(Ue(r))];if(n.lastIndexOf("]")===n.length-1){const a=n.slice(0,n.lastIndexOf("[")),i=r.map(s=>Lh({name:t,type:a,types:e,value:s}));return[{type:"bytes32"},ie(qe(i.map(([s])=>s),i.map(([,s])=>s)))]}return[{type:n},r]}function GA(e){const{domain:t,message:n,primaryType:r,types:a}=e,i=(c,u)=>{const l={...u};for(const d of c){const{name:p,type:f}=d;f==="address"&&(l[p]=l[p].toLowerCase())}return l},s=a.EIP712Domain?t?i(a.EIP712Domain,t):{}:{},o=(()=>{if(r!=="EIP712Domain")return i(a[r],n)})();return me({domain:s,message:o,primaryType:r,types:a})}function jh(e){const{domain:t,message:n,primaryType:r,types:a}=e,i=(s,o)=>{for(const c of s){const{name:u,type:l}=c,d=o[u],p=l.match(mu);if(p&&(typeof d=="number"||typeof d=="bigint")){const[y,g,b]=p;F(d,{signed:g==="int",size:Number.parseInt(b)/8})}if(l==="address"&&typeof d=="string"&&!ye(d))throw new Ae({address:d});const f=l.match(Am);if(f){const[y,g]=f;if(g&&se(d)!==Number.parseInt(g))throw new sm({expectedSize:Number.parseInt(g),givenSize:se(d)})}const m=a[l];m&&(VA(l),i(m,d))}};if(a.EIP712Domain&&t){if(typeof t!="object")throw new jA({domain:t});i(a.EIP712Domain,t)}if(r!=="EIP712Domain")if(a[r])i(a[r],n);else throw new DA({primaryType:r,types:a})}function Dh({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function VA(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new UA({type:e})}function En(e,t){if(e.length!==t.length)throw new nm({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const a=e[r],i=t[r];n.push(Uh(a,i))}return rt(n)}function Uh(e,t,n=!1){if(e==="address"){const s=t;if(!ye(s))throw new Ae({address:s});return St(s.toLowerCase(),{size:n?32:null})}if(e==="string")return ae(t);if(e==="bytes")return t;if(e==="bool")return St(ru(t),{size:n?32:1});const r=e.match(mu);if(r){const[s,o,c="256"]=r,u=Number.parseInt(c)/8;return F(t,{size:n?32:u,signed:o==="int"})}const a=e.match(Am);if(a){const[s,o]=a;if(Number.parseInt(o)!==(t.length-2)/2)throw new sm({expectedSize:Number.parseInt(o),givenSize:(t.length-2)/2});return St(t,{dir:"right",size:n?32:null})}const i=e.match(d1);if(i&&Array.isArray(t)){const[s,o]=i,c=[];for(let u=0;u<t.length;u++)c.push(Uh(o,t[u],!0));return c.length===0?"0x":rt(c)}throw new bv(e)}const KA=`Ethereum Signed Message:
`;function QA(e){const t=typeof e=="string"?ae(e):typeof e.raw=="string"?e.raw:he(e.raw),n=ae(`${KA}${se(t)}`);return et([n,t])}function Du(e,t){return ie(QA(e),t)}const zh="0x6492649264926492649264926492649264926492649264926492649264926492";function WA(e){return Ja(e,-32)===zh}function JA(e){const{address:t,data:n,signature:r,to:a="hex"}=e,i=rt([qe([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),zh]);return a==="hex"?i:Ye(i)}function ZA(e){const{source:t}=e,n=new Map,r=new ta(8192),a=new Map,i=({address:s,chainId:o})=>`${s}.${o}`;return{async consume({address:s,chainId:o,client:c}){const u=i({address:s,chainId:o}),l=this.get({address:s,chainId:o,client:c});this.increment({address:s,chainId:o});const d=await l;return await t.set({address:s,chainId:o},d),r.set(u,d),d},async increment({address:s,chainId:o}){const c=i({address:s,chainId:o}),u=n.get(c)??0;n.set(c,u+1)},async get({address:s,chainId:o,client:c}){const u=i({address:s,chainId:o});let l=a.get(u);return l||(l=(async()=>{try{const p=await t.get({address:s,chainId:o,client:c}),f=r.get(u)??0;return f>0&&p<=f?f+1:(r.delete(u),p)}finally{this.reset({address:s,chainId:o})}})(),a.set(u,l)),(n.get(u)??0)+await l},reset({address:s,chainId:o}){const c=i({address:s,chainId:o});n.delete(c),a.delete(c)}}}function YA(){return{async get(e){const{address:t,client:n}=e;return Li(n,{address:t,blockTag:"pending"})},set(){}}}function XA(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function e2(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Xe(e.nonce):void 0,storageProof:e.storageProof?XA(e.storageProof):void 0}}async function t2(e,{address:t,blockNumber:n,blockTag:r,storageKeys:a}){const i=r??"latest",s=n!==void 0?F(n):void 0,o=await e.request({method:"eth_getProof",params:[t,a,s||i]});return e2(o)}async function n2(e,{address:t,blockNumber:n,blockTag:r="latest",slot:a}){const i=n!==void 0?F(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,a,i||r]})}async function Uu(e,{blockHash:t,blockNumber:n,blockTag:r,hash:a,index:i}){const s=r||"latest",o=n!==void 0?F(n):void 0;let c=null;if(a?c=await e.request({method:"eth_getTransactionByHash",params:[a]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,F(i)]},{dedupe:!0}):c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[o||s,F(i)]},{dedupe:!!o}),!c)throw new Tf({blockHash:t,blockNumber:n,blockTag:s,hash:a,index:i});return(e.chain?.formatters?.transaction?.format||xf)(c)}async function r2(e,{hash:t,transactionReceipt:n}){const[r,a]=await Promise.all([G(e,ua,"getBlockNumber")({}),t?G(e,Uu,"getTransaction")({hash:t}):void 0]),i=n?.blockNumber||a?.blockNumber;return i?r-i+1n:0n}async function Ha(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new Sf({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||V0)(n)}async function a2(e,t){const{account:n,allowFailure:r=!0,batchSize:a,blockNumber:i,blockTag:s,multicallAddress:o,stateOverride:c}=t,u=t.contracts,l=a??(typeof e.batch?.multicall=="object"&&e.batch.multicall.batchSize||1024);let d=o;if(!d){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");d=Wn({blockNumber:i,chain:e.chain,contract:"multicall3"})}const p=[[]];let f=0,m=0;for(let b=0;b<u.length;b++){const{abi:h,address:w,args:v,functionName:x}=u[b];try{const k=Qe({abi:h,args:v,functionName:x});m+=(k.length-2)/2,l>0&&m>l&&p[f].length>0&&(f++,m=(k.length-2)/2,p[f]=[]),p[f]=[...p[f],{allowFailure:!0,callData:k,target:w}]}catch(k){const T=on(k,{abi:h,address:w,args:v,docsPath:"/docs/contract/multicall",functionName:x,sender:n});if(!r)throw T;p[f]=[...p[f],{allowFailure:!0,callData:"0x",target:w}]}}const y=await Promise.allSettled(p.map(b=>G(e,At,"readContract")({abi:uc,account:n,address:d,args:[b],blockNumber:i,blockTag:s,functionName:"aggregate3",stateOverride:c}))),g=[];for(let b=0;b<y.length;b++){const h=y[b];if(h.status==="rejected"){if(!r)throw h.reason;for(let v=0;v<p[b].length;v++)g.push({status:"failure",error:h.reason,result:void 0});continue}const w=h.value;for(let v=0;v<w.length;v++){const{returnData:x,success:k}=w[v],{callData:T}=p[b][v],{abi:C,address:A,functionName:R,args:I}=u[g.length];try{if(T==="0x")throw new aa;if(!k)throw new Ni({data:x});const S=yn({abi:C,args:I,data:x,functionName:R});g.push(r?{result:S,status:"success"}:S)}catch(S){const L=on(S,{abi:C,address:A,args:I,docsPath:"/docs/contract/multicall",functionName:R});if(!r)throw L;g.push({error:L,result:void 0,status:"failure"})}}}if(g.length!==u.length)throw new M("multicall results mismatch");return g}async function mc(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:a,returnFullTransactions:i,traceTransfers:s,validation:o}=t;try{const c=[];for(const p of a){const f=p.blockOverrides?ph(p.blockOverrides):void 0,m=p.calls.map(g=>{const b=g,h=b.account?pe(b.account):void 0,w=b.abi?Qe(b):b.data,v={...b,data:b.dataSuffix?et([w||"0x",b.dataSuffix]):w,from:b.from??h?.address};return hn(v),Qn(v)}),y=p.stateOverrides?wu(p.stateOverrides):void 0;c.push({blockOverrides:f,calls:m,stateOverrides:y})}const l=(typeof n=="bigint"?F(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:i,traceTransfers:s,validation:o},l]})).map((p,f)=>({...Af(p),calls:p.calls.map((m,y)=>{const{abi:g,args:b,functionName:h,to:w}=a[f].calls[y],v=m.error?.data??m.returnData,x=BigInt(m.gasUsed),k=m.logs?.map(R=>Rt(R)),T=m.status==="0x1"?"success":"failure",C=g&&T==="success"&&v!=="0x"?yn({abi:g,data:v,functionName:h}):null,A=(()=>{if(T==="success")return;let R;if(m.error?.data==="0x"?R=new aa:m.error&&(R=new Ni(m.error)),!!R)return on(R,{abi:g??[],address:w??"0x",args:b,functionName:h??"<unknown>"})})();return{data:v,gasUsed:x,logs:k,status:T,...T==="success"?{result:C}:{error:A}}})}))}catch(c){const u=c,l=$i(u,{});throw l instanceof ea?u:l}}function qh(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=Vf(wx(e));return n==="Bytes"?r:uh(r)}class i2 extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const s2={checksum:new i2(8192)},Hs=s2.checksum,o2=/^0x[a-fA-F0-9]{40}$/;function Wi(e,t={}){const{strict:n=!0}=t;if(!o2.test(e))throw new Cd({address:e,cause:new u2});if(n){if(e.toLowerCase()===e)return;if(c2(e)!==e)throw new Cd({address:e,cause:new l2})}}function c2(e){if(Hs.has(e))return Hs.get(e);Wi(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=qh(Ax(t),{as:"Bytes"}),r=t.split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(n[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const a=`0x${r.join("")}`;return Hs.set(e,a),a}function hc(e,t={}){const{strict:n=!0}=t??{};try{return Wi(e,{strict:n}),!0}catch{return!1}}let Cd=class extends fe{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}};class u2 extends fe{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class l2 extends fe{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function yc(e){let t=!0,n="",r=0,a="",i=!1;for(let s=0;s<e.length;s++){const o=e[s];if(["(",")",","].includes(o)&&(t=!0),o==="("&&r++,o===")"&&r--,!!t){if(r===0){if(o===" "&&["event","function","error",""].includes(a))a="";else if(a+=o,o===")"){i=!0;break}continue}if(o===" "){e[s-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}a+=o,n+=o}}if(!i)throw new fe("Unable to normalize signature.");return a}function bc(e,t){const n=typeof e,r=t.type;switch(r){case"address":return hc(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((a,i)=>bc(Object.values(e)[i],a)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(a=>bc(a,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Hh(e,t,n){for(const r in e){const a=e[r],i=t[r];if(a.type==="tuple"&&i.type==="tuple"&&"components"in a&&"components"in i)return Hh(a.components,i.components,n[r]);const s=[a.type,i.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?hc(n[r],{strict:!1}):s.includes("address")&&s.includes("bytes")?hc(n[r],{strict:!1}):!1)return s}}function Gh(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?Kl(e):e;return{...r,...n?{hash:Sn(r)}:{}}}function d2(e,t,n){const{args:r=[],prepare:a=!0}=n??{},i=Sx(t,{strict:!1}),s=e.filter(u=>i?u.type==="function"||u.type==="error"?Vh(u)===Ru(t,0,4):u.type==="event"?Sn(u)===t:!1:"name"in u&&u.name===t);if(s.length===0)throw new gc({name:t});if(s.length===1)return{...s[0],...a?{hash:Sn(s[0])}:{}};let o;for(const u of s){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...a?{hash:Sn(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,p)=>{const f="inputs"in u&&u.inputs[p];return f?bc(d,f):!1})){if(o&&"inputs"in o&&o.inputs){const d=Hh(u.inputs,o.inputs,r);if(d)throw new f2({abiItem:u,type:d[0]},{abiItem:o,type:d[1]})}o=u}}const c=(()=>{if(o)return o;const[u,...l]=s;return{...u,overloads:l}})();if(!c)throw new gc({name:t});return{...c,...a?{hash:Sn(c)}:{}}}function Vh(e){return Ru(Sn(e),0,4)}function p2(e){const t=typeof e=="string"?e:Za(e);return yc(t)}function Sn(e){return typeof e!="string"&&"hash"in e&&e.hash?e.hash:qh(Bu(p2(e)))}class f2 extends fe{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${yc(Za(t.abiItem))}\`, and`,`\`${n.type}\` in \`${yc(Za(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class gc extends fe{constructor({name:t,data:n,type:r="item"}){const a=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${a} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}const m2=/^(.*)\[([0-9]*)\]$/,h2=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Kh=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function y2({checksumAddress:e,parameters:t,values:n}){const r=[];for(let a=0;a<t.length;a++)r.push(zu({checksumAddress:e,parameter:t[a],value:n[a]}));return r}function zu({checksumAddress:e=!1,parameter:t,value:n}){const r=t,a=k2(r.type);if(a){const[i,s]=a;return g2(n,{checksumAddress:e,length:i,parameter:{...r,type:s}})}if(r.type==="tuple")return E2(n,{checksumAddress:e,parameter:r});if(r.type==="address")return b2(n,{checksum:e});if(r.type==="bool")return v2(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const i=r.type.startsWith("int"),[,,s="256"]=Kh.exec(r.type)??[];return x2(n,{signed:i,size:Number(s)})}if(r.type.startsWith("bytes"))return w2(n,{type:r.type});if(r.type==="string")return A2(n);throw new Zh(r.type)}function qu(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:s,encoded:o}=e[i];s?t+=32:t+=tt(o)}const n=[],r=[];let a=0;for(let i=0;i<e.length;i++){const{dynamic:s,encoded:o}=e[i];s?(n.push(ke(t+a,{size:32})),r.push(o),a+=tt(o)):n.push(o)}return xt(...n,...r)}function b2(e,t){const{checksum:n=!1}=t;return Wi(e,{strict:n}),{dynamic:!1,encoded:cn(e.toLowerCase())}}function g2(e,t){const{checksumAddress:n,length:r,parameter:a}=t,i=r===null;if(!Array.isArray(e))throw new C2(e);if(!i&&e.length!==r)throw new I2({expectedLength:r,givenLength:e.length,type:`${a.type}[${r}]`});let s=!1;const o=[];for(let c=0;c<e.length;c++){const u=zu({checksumAddress:n,parameter:a,value:e[c]});u.dynamic&&(s=!0),o.push(u)}if(i||s){const c=qu(o);if(i){const u=ke(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?xt(u,c):u}}if(s)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:xt(...o.map(({encoded:c})=>c))}}function w2(e,{type:t}){const[,n]=t.split("bytes"),r=tt(e);if(!n){let a=e;return r%32!==0&&(a=un(a,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:xt(cn(ke(r,{size:32})),a)}}if(r!==Number.parseInt(n))throw new Wh({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:un(e)}}function v2(e){if(typeof e!="boolean")throw new fe(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:cn(ch(e))}}function x2(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,a=t?-r-1n:0n;if(e>r||e<a)throw new lh({max:r.toString(),min:a.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:ke(e,{size:32,signed:t})}}function A2(e){const t=Bu(e),n=Math.ceil(tt(t)/32),r=[];for(let a=0;a<n;a++)r.push(un(Ru(t,a*32,(a+1)*32)));return{dynamic:!0,encoded:xt(un(ke(tt(t),{size:32})),...r)}}function E2(e,t){const{checksumAddress:n,parameter:r}=t;let a=!1;const i=[];for(let s=0;s<r.components.length;s++){const o=r.components[s],c=Array.isArray(e)?s:o.name,u=zu({checksumAddress:n,parameter:o,value:e[c]});i.push(u),u.dynamic&&(a=!0)}return{dynamic:a,encoded:a?qu(i):xt(...i.map(({encoded:s})=>s))}}function k2(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Qh(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new Jh({expectedLength:e.length,givenLength:t.length});const a=y2({checksumAddress:r,parameters:e,values:t}),i=qu(a);return i.length===0?"0x":i}function wc(e,t){if(e.length!==t.length)throw new Jh({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const a=e[r],i=t[r];n.push(wc.encode(a,i))}return xt(...n)}(function(e){function t(n,r,a=!1){if(n==="address"){const c=r;return Wi(c),cn(c.toLowerCase(),a?32:0)}if(n==="string")return Bu(r);if(n==="bytes")return r;if(n==="bool")return cn(ch(r),a?32:1);const i=n.match(Kh);if(i){const[c,u,l="256"]=i,d=Number.parseInt(l)/8;return ke(r,{size:a?32:d,signed:u==="int"})}const s=n.match(h2);if(s){const[c,u]=s;if(Number.parseInt(u)!==(r.length-2)/2)throw new Wh({expectedSize:Number.parseInt(u),value:r});return un(r,a?32:0)}const o=n.match(m2);if(o&&Array.isArray(r)){const[c,u]=o,l=[];for(let d=0;d<r.length;d++)l.push(t(u,r[d],!0));return l.length===0?"0x":xt(...l)}throw new Zh(n)}e.encode=t})(wc||(wc={}));class I2 extends fe{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}let Wh=class extends fe{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${tt(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}};class Jh extends fe{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}let C2=class extends fe{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}};class Zh extends fe{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function P2(e,t){const{bytecode:n,args:r}=t;return xt(n,e.inputs?.length&&r?.length?Qh(e.inputs,r):"0x")}function T2(e){return Gh(e)}function S2(e,...t){const{overloads:n}=e,r=n?B2([e,...n],e.name,{args:t[0]}):e,a=R2(r),i=t.length>0?Qh(r.inputs,t[0]):void 0;return i?xt(a,i):a}function kn(e,t={}){return Gh(e,t)}function B2(e,t,n){const r=d2(e,t,n);if(r.type!=="function")throw new gc({name:t,type:"function"});return r}function R2(e){return Vh(e)}const M2="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",mt="0x0000000000000000000000000000000000000000",N2="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function O2(e,t){const{blockNumber:n,blockTag:r,calls:a,stateOverrides:i,traceAssetChanges:s,traceTransfers:o,validation:c}=t,u=t.account?pe(t.account):void 0;if(s&&!u)throw new M("`account` is required when `traceAssetChanges` is true");const l=u?P2(T2("constructor(bytes, bytes)"),{bytecode:hh,args:[N2,S2(kn("function getBalance(address)"),[u.address])]}):void 0,d=s?await Promise.all(t.calls.map(async B=>{if(!B.data&&!B.abi)return;const{accessList:D}=await Rh(e,{account:u.address,...B,data:B.abi?Qe(B):B.data});return D.map(({address:z,storageKeys:$})=>$.length>0?z:null)})).then(B=>B.flat().filter(Boolean)):[],p=await mc(e,{blockNumber:n,blockTag:r,blocks:[...s?[{calls:[{data:l}],stateOverrides:i},{calls:d.map((B,D)=>({abi:[kn("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:B,from:mt,nonce:D})),stateOverrides:[{address:mt,nonce:0}]}]:[],{calls:[...a,{}].map(B=>({...B,from:u?.address})),stateOverrides:i},...s?[{calls:[{data:l}]},{calls:d.map((B,D)=>({abi:[kn("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:B,from:mt,nonce:D})),stateOverrides:[{address:mt,nonce:0}]},{calls:d.map((B,D)=>({to:B,abi:[kn("function decimals() returns (uint256)")],functionName:"decimals",from:mt,nonce:D})),stateOverrides:[{address:mt,nonce:0}]},{calls:d.map((B,D)=>({to:B,abi:[kn("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:mt,nonce:D})),stateOverrides:[{address:mt,nonce:0}]},{calls:d.map((B,D)=>({to:B,abi:[kn("function symbol() returns (string)")],functionName:"symbol",from:mt,nonce:D})),stateOverrides:[{address:mt,nonce:0}]}]:[]],traceTransfers:o,validation:c}),f=s?p[2]:p[0],[m,y,,g,b,h,w,v]=s?p:[],{calls:x,...k}=f,T=x.slice(0,-1)??[],C=m?.calls??[],A=y?.calls??[],R=[...C,...A].map(B=>B.status==="success"?ze(B.data):null),I=g?.calls??[],S=b?.calls??[],L=[...I,...S].map(B=>B.status==="success"?ze(B.data):null),j=(h?.calls??[]).map(B=>B.status==="success"?B.result:null),O=(v?.calls??[]).map(B=>B.status==="success"?B.result:null),E=(w?.calls??[]).map(B=>B.status==="success"?B.result:null),N=[];for(const[B,D]of L.entries()){const z=R[B];if(typeof D!="bigint"||typeof z!="bigint")continue;const $=j[B-1],q=O[B-1],Y=E[B-1],X=B===0?{address:M2,decimals:18,symbol:"ETH"}:{address:d[B-1],decimals:Y||$?Number($??1):void 0,symbol:q??void 0};N.some(V=>V.token.address===X.address)||N.push({token:X,value:{pre:z,post:D,diff:D-z}})}return{assetChanges:N,block:k,results:T}}class Yh extends lu{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,uw(t);const r=Pi(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,i=new Uint8Array(a);i.set(r.length>a?t.create().update(r).digest():r);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=t.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),$n(i)}update(t){return On(this),this.iHash.update(t),this}digestInto(t){On(this),it(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:a,destroyed:i,blockLen:s,outputLen:o}=this;return t=t,t.finished=a,t.destroyed=i,t.blockLen=s,t.outputLen=o,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Xh=(e,t,n)=>new Yh(e,t).update(n).digest();Xh.create=(e,t)=>new Yh(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Re=BigInt(0),Ce=BigInt(1),Jt=BigInt(2),$2=BigInt(3),ey=BigInt(4),ty=BigInt(5),ny=BigInt(8);function Ze(e,t){const n=e%t;return n>=Re?n:t+n}function We(e,t,n){let r=e;for(;t-- >Re;)r*=r,r%=n;return r}function Pd(e,t){if(e===Re)throw new Error("invert: expected non-zero number");if(t<=Re)throw new Error("invert: expected positive modulus, got "+t);let n=Ze(e,t),r=t,a=Re,i=Ce;for(;n!==Re;){const o=r/n,c=r%n,u=a-i*o;r=n,n=c,a=i,i=u}if(r!==Ce)throw new Error("invert: does not exist");return Ze(a,t)}function ry(e,t){const n=(e.ORDER+Ce)/ey,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function _2(e,t){const n=(e.ORDER-ty)/ny,r=e.mul(t,Jt),a=e.pow(r,n),i=e.mul(t,a),s=e.mul(e.mul(i,Jt),a),o=e.mul(i,e.sub(s,e.ONE));if(!e.eql(e.sqr(o),t))throw new Error("Cannot find square root");return o}function F2(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-Ce,n=0;for(;t%Jt===Re;)t/=Jt,n++;let r=Jt;const a=Ji(e);for(;Td(a,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return ry;let i=a.pow(r,t);const s=(t+Ce)/Jt;return function(c,u){if(c.is0(u))return u;if(Td(c,u)!==1)throw new Error("Cannot find square root");let l=n,d=c.mul(c.ONE,i),p=c.pow(u,t),f=c.pow(u,s);for(;!c.eql(p,c.ONE);){if(c.is0(p))return c.ZERO;let m=1,y=c.sqr(p);for(;!c.eql(y,c.ONE);)if(m++,y=c.sqr(y),m===l)throw new Error("Cannot find square root");const g=Ce<<BigInt(l-m-1),b=c.pow(d,g);l=m,d=c.sqr(b),p=c.mul(p,d),f=c.mul(f,b)}return f}}function L2(e){return e%ey===$2?ry:e%ny===ty?_2:F2(e)}const j2=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function D2(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=j2.reduce((r,a)=>(r[a]="function",r),t);return Tu(e,n),e}function U2(e,t,n){if(n<Re)throw new Error("invalid exponent, negatives unsupported");if(n===Re)return e.ONE;if(n===Ce)return t;let r=e.ONE,a=t;for(;n>Re;)n&Ce&&(r=e.mul(r,a)),a=e.sqr(a),n>>=Ce;return r}function ay(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),a=t.reduce((s,o,c)=>e.is0(o)?s:(r[c]=s,e.mul(s,o)),e.ONE),i=e.inv(a);return t.reduceRight((s,o,c)=>e.is0(o)?s:(r[c]=e.mul(s,r[c]),e.mul(s,o)),i),r}function Td(e,t){const n=(e.ORDER-Ce)/Jt,r=e.pow(t,n),a=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),s=e.eql(r,e.neg(e.ONE));if(!a&&!i&&!s)throw new Error("invalid Legendre symbol result");return a?1:i?0:-1}function z2(e,t){t!==void 0&&Pr(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ji(e,t,n=!1,r={}){if(e<=Re)throw new Error("invalid field: expected ORDER > 0, got "+e);let a,i;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const l=t;l.BITS&&(a=l.BITS),l.sqrt&&(i=l.sqrt),typeof l.isLE=="boolean"&&(n=l.isLE)}else typeof t=="number"&&(a=t),r.sqrt&&(i=r.sqrt);const{nBitLength:s,nByteLength:o}=z2(e,a);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const u=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:o,MASK:zi(s),ZERO:Re,ONE:Ce,create:l=>Ze(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Re<=l&&l<e},is0:l=>l===Re,isValidNot0:l=>!u.is0(l)&&u.isValid(l),isOdd:l=>(l&Ce)===Ce,neg:l=>Ze(-l,e),eql:(l,d)=>l===d,sqr:l=>Ze(l*l,e),add:(l,d)=>Ze(l+d,e),sub:(l,d)=>Ze(l-d,e),mul:(l,d)=>Ze(l*d,e),pow:(l,d)=>U2(u,l,d),div:(l,d)=>Ze(l*Pd(d,e),e),sqrN:l=>l*l,addN:(l,d)=>l+d,subN:(l,d)=>l-d,mulN:(l,d)=>l*d,inv:l=>Pd(l,e),sqrt:i||(l=>(c||(c=L2(e)),c(u,l))),toBytes:l=>n?ih(l,o):Pu(l,o),fromBytes:l=>{if(l.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+l.length);return n?ah(l):Ui(l)},invertBatch:l=>ay(u,l),cmov:(l,d,p)=>p?d:l});return Object.freeze(u)}function iy(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function sy(e){const t=iy(e);return t+Math.ceil(t/2)}function q2(e,t,n=!1){const r=e.length,a=iy(t),i=sy(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const s=n?ah(e):Ui(e),o=Ze(s,t-Ce)+Ce;return n?ih(o,a):Pu(o,a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jn=BigInt(0),Zt=BigInt(1);function xr(e,t){const n=t.negate();return e?n:t}function H2(e,t,n){const r=s=>s.pz,a=ay(e.Fp,n.map(r));return n.map((s,o)=>s.toAffine(a[o])).map(e.fromAffine)}function oy(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Gs(e,t){oy(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),a=2**e,i=zi(e),s=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:a,shiftBy:s}}function Sd(e,t,n){const{windowSize:r,mask:a,maxNumber:i,shiftBy:s}=n;let o=Number(e&a),c=e>>s;o>r&&(o-=i,c+=Zt);const u=t*r,l=u+Math.abs(o)-1,d=o===0,p=o<0,f=t%2!==0;return{nextN:c,offset:l,isZero:d,isNeg:p,isNegF:f,offsetF:u}}function G2(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function V2(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Vs=new WeakMap,cy=new WeakMap;function Ks(e){return cy.get(e)||1}function Bd(e){if(e!==jn)throw new Error("invalid wNAF")}function K2(e,t){return{constTimeNegate:xr,hasPrecomputes(n){return Ks(n)!==1},unsafeLadder(n,r,a=e.ZERO){let i=n;for(;r>jn;)r&Zt&&(a=a.add(i)),i=i.double(),r>>=Zt;return a},precomputeWindow(n,r){const{windows:a,windowSize:i}=Gs(r,t),s=[];let o=n,c=o;for(let u=0;u<a;u++){c=o,s.push(c);for(let l=1;l<i;l++)c=c.add(o),s.push(c);o=c.double()}return s},wNAF(n,r,a){let i=e.ZERO,s=e.BASE;const o=Gs(n,t);for(let c=0;c<o.windows;c++){const{nextN:u,offset:l,isZero:d,isNeg:p,isNegF:f,offsetF:m}=Sd(a,c,o);a=u,d?s=s.add(xr(f,r[m])):i=i.add(xr(p,r[l]))}return Bd(a),{p:i,f:s}},wNAFUnsafe(n,r,a,i=e.ZERO){const s=Gs(n,t);for(let o=0;o<s.windows&&a!==jn;o++){const{nextN:c,offset:u,isZero:l,isNeg:d}=Sd(a,o,s);if(a=c,!l){const p=r[u];i=i.add(d?p.negate():p)}}return Bd(a),i},getPrecomputes(n,r,a){let i=Vs.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&(typeof a=="function"&&(i=a(i)),Vs.set(r,i))),i},wNAFCached(n,r,a){const i=Ks(n);return this.wNAF(i,this.getPrecomputes(i,n,a),r)},wNAFCachedUnsafe(n,r,a,i){const s=Ks(n);return s===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(s,this.getPrecomputes(s,n,a),r,i)},setWindowSize(n,r){oy(r,t),cy.set(n,r),Vs.delete(n)}}}function Q2(e,t,n,r){let a=t,i=e.ZERO,s=e.ZERO;for(;n>jn||r>jn;)n&Zt&&(i=i.add(a)),r&Zt&&(s=s.add(a)),a=a.double(),n>>=Zt,r>>=Zt;return{p1:i,p2:s}}function W2(e,t,n,r){G2(n,e),V2(r,t);const a=n.length,i=r.length;if(a!==i)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,o=cx(BigInt(a));let c=1;o>12?c=o-3:o>4?c=o-2:o>0&&(c=2);const u=zi(c),l=new Array(Number(u)+1).fill(s),d=Math.floor((t.BITS-1)/c)*c;let p=s;for(let f=d;f>=0;f-=c){l.fill(s);for(let y=0;y<i;y++){const g=r[y],b=Number(g>>BigInt(f)&u);l[b]=l[b].add(n[y])}let m=s;for(let y=l.length-1,g=s;y>0;y--)g=g.add(l[y]),m=m.add(g);if(p=p.add(m),f!==0)for(let y=0;y<c;y++)p=p.double()}return p}function Rd(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return D2(t),t}else return Ji(e)}function J2(e,t,n={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const o of["p","n","h"]){const c=t[o];if(!(typeof c=="bigint"&&c>jn))throw new Error(`CURVE.${o} must be positive bigint`)}const r=Rd(t.p,n.Fp),a=Rd(t.n,n.Fn),s=["Gx","Gy","a","b"];for(const o of s)if(!r.isValid(t[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:a}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Md(e){e.lowS!==void 0&&ei("lowS",e.lowS),e.prehash!==void 0&&ei("prehash",e.prehash)}class Z2 extends Error{constructor(t=""){super(t)}}const Tt={Err:Z2,_tlv:{encode:(e,t)=>{const{Err:n}=Tt;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,a=Ta(r);if(a.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Ta(a.length/2|128):"";return Ta(e)+i+a+t},decode(e,t){const{Err:n}=Tt;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const a=t[r++],i=!!(a&128);let s=0;if(!i)s=a;else{const c=a&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const l of u)s=s<<8|l;if(r+=c,s<128)throw new n("tlv.decode(long): not minimal encoding")}const o=t.subarray(r,r+s);if(o.length!==s)throw new n("tlv.decode: wrong value length");return{v:o,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=Tt;if(e<Ar)throw new t("integer: negative integers are not allowed");let n=Ta(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Tt;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Ui(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Tt,a=Je("signature",e),{v:i,l:s}=r.decode(48,a);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:o,l:c}=r.decode(2,i),{v:u,l}=r.decode(2,c);if(l.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Tt,r=t.encode(2,n.encode(e.r)),a=t.encode(2,n.encode(e.s)),i=r+a;return t.encode(48,i)}},Ar=BigInt(0),Er=BigInt(1),Y2=BigInt(2),Na=BigInt(3),X2=BigInt(4);function e6(e,t,n){function r(a){const i=e.sqr(a),s=e.mul(i,a);return e.add(e.add(s,e.mul(a,t)),n)}return r}function uy(e,t,n){const{BYTES:r}=e;function a(i){let s;if(typeof i=="bigint")s=i;else{let o=Je("private key",i);if(t){if(!t.includes(o.length*2))throw new Error("invalid private key");const c=new Uint8Array(r);c.set(o,c.length-o.length),o=c}try{s=e.fromBytes(o)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof i}`)}}if(n&&(s=e.create(s)),!e.isValidNot0(s))throw new Error("invalid private key: out of range [1..N-1]");return s}return a}function t6(e,t={}){const{Fp:n,Fn:r}=J2("weierstrass",e,t),{h:a,n:i}=e;Tu(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:s}=t;if(s&&(!n.is0(e.a)||typeof s.beta!="bigint"||typeof s.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function o(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(C,A,R){const{x:I,y:S}=A.toAffine(),L=n.toBytes(I);if(ei("isCompressed",R),R){o();const j=!n.isOdd(S);return Wt(ly(j),L)}else return Wt(Uint8Array.of(4),L,n.toBytes(S))}function u(C){it(C);const A=n.BYTES,R=A+1,I=2*A+1,S=C.length,L=C[0],j=C.subarray(1);if(S===R&&(L===2||L===3)){const O=n.fromBytes(j);if(!n.isValid(O))throw new Error("bad point: is not on curve, wrong x");const E=p(O);let N;try{N=n.sqrt(E)}catch(z){const $=z instanceof Error?": "+z.message:"";throw new Error("bad point: is not on curve, sqrt error"+$)}o();const B=n.isOdd(N);return(L&1)===1!==B&&(N=n.neg(N)),{x:O,y:N}}else if(S===I&&L===4){const O=n.fromBytes(j.subarray(A*0,A*1)),E=n.fromBytes(j.subarray(A*1,A*2));if(!f(O,E))throw new Error("bad point: is not on curve");return{x:O,y:E}}else throw new Error(`bad point: got length ${S}, expected compressed=${R} or uncompressed=${I}`)}const l=t.toBytes||c,d=t.fromBytes||u,p=e6(n,e.a,e.b);function f(C,A){const R=n.sqr(A),I=p(C);return n.eql(R,I)}if(!f(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const m=n.mul(n.pow(e.a,Na),X2),y=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(m,y)))throw new Error("bad curve params: a or b");function g(C,A,R=!1){if(!n.isValid(A)||R&&n.is0(A))throw new Error(`bad point coordinate ${C}`);return A}function b(C){if(!(C instanceof x))throw new Error("ProjectivePoint expected")}const h=md((C,A)=>{const{px:R,py:I,pz:S}=C;if(n.eql(S,n.ONE))return{x:R,y:I};const L=C.is0();A==null&&(A=L?n.ONE:n.inv(S));const j=n.mul(R,A),O=n.mul(I,A),E=n.mul(S,A);if(L)return{x:n.ZERO,y:n.ZERO};if(!n.eql(E,n.ONE))throw new Error("invZ was invalid");return{x:j,y:O}}),w=md(C=>{if(C.is0()){if(t.allowInfinityPoint&&!n.is0(C.py))return;throw new Error("bad point: ZERO")}const{x:A,y:R}=C.toAffine();if(!n.isValid(A)||!n.isValid(R))throw new Error("bad point: x or y not field elements");if(!f(A,R))throw new Error("bad point: equation left != right");if(!C.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function v(C,A,R,I,S){return R=new x(n.mul(R.px,C),R.py,R.pz),A=xr(I,A),R=xr(S,R),A.add(R)}class x{constructor(A,R,I){this.px=g("x",A),this.py=g("y",R,!0),this.pz=g("z",I),Object.freeze(this)}static fromAffine(A){const{x:R,y:I}=A||{};if(!A||!n.isValid(R)||!n.isValid(I))throw new Error("invalid affine point");if(A instanceof x)throw new Error("projective point not allowed");return n.is0(R)&&n.is0(I)?x.ZERO:new x(R,I,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){return H2(x,"pz",A)}static fromBytes(A){return it(A),x.fromHex(A)}static fromHex(A){const R=x.fromAffine(d(Je("pointHex",A)));return R.assertValidity(),R}static fromPrivateKey(A){const R=uy(r,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return x.BASE.multiply(R(A))}static msm(A,R){return W2(x,r,A,R)}precompute(A=8,R=!0){return T.setWindowSize(this,A),R||this.multiply(Na),this}_setWindowSize(A){this.precompute(A)}assertValidity(){w(this)}hasEvenY(){const{y:A}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(A)}equals(A){b(A);const{px:R,py:I,pz:S}=this,{px:L,py:j,pz:O}=A,E=n.eql(n.mul(R,O),n.mul(L,S)),N=n.eql(n.mul(I,O),n.mul(j,S));return E&&N}negate(){return new x(this.px,n.neg(this.py),this.pz)}double(){const{a:A,b:R}=e,I=n.mul(R,Na),{px:S,py:L,pz:j}=this;let O=n.ZERO,E=n.ZERO,N=n.ZERO,B=n.mul(S,S),D=n.mul(L,L),z=n.mul(j,j),$=n.mul(S,L);return $=n.add($,$),N=n.mul(S,j),N=n.add(N,N),O=n.mul(A,N),E=n.mul(I,z),E=n.add(O,E),O=n.sub(D,E),E=n.add(D,E),E=n.mul(O,E),O=n.mul($,O),N=n.mul(I,N),z=n.mul(A,z),$=n.sub(B,z),$=n.mul(A,$),$=n.add($,N),N=n.add(B,B),B=n.add(N,B),B=n.add(B,z),B=n.mul(B,$),E=n.add(E,B),z=n.mul(L,j),z=n.add(z,z),B=n.mul(z,$),O=n.sub(O,B),N=n.mul(z,D),N=n.add(N,N),N=n.add(N,N),new x(O,E,N)}add(A){b(A);const{px:R,py:I,pz:S}=this,{px:L,py:j,pz:O}=A;let E=n.ZERO,N=n.ZERO,B=n.ZERO;const D=e.a,z=n.mul(e.b,Na);let $=n.mul(R,L),q=n.mul(I,j),Y=n.mul(S,O),X=n.add(R,I),V=n.add(L,j);X=n.mul(X,V),V=n.add($,q),X=n.sub(X,V),V=n.add(R,S);let te=n.add(L,O);return V=n.mul(V,te),te=n.add($,Y),V=n.sub(V,te),te=n.add(I,S),E=n.add(j,O),te=n.mul(te,E),E=n.add(q,Y),te=n.sub(te,E),B=n.mul(D,V),E=n.mul(z,Y),B=n.add(E,B),E=n.sub(q,B),B=n.add(q,B),N=n.mul(E,B),q=n.add($,$),q=n.add(q,$),Y=n.mul(D,Y),V=n.mul(z,V),q=n.add(q,Y),Y=n.sub($,Y),Y=n.mul(D,Y),V=n.add(V,Y),$=n.mul(q,V),N=n.add(N,$),$=n.mul(te,V),E=n.mul(X,E),E=n.sub(E,$),$=n.mul(X,q),B=n.mul(te,B),B=n.add(B,$),new x(E,N,B)}subtract(A){return this.add(A.negate())}is0(){return this.equals(x.ZERO)}multiply(A){const{endo:R}=t;if(!r.isValidNot0(A))throw new Error("invalid scalar: out of range");let I,S;const L=j=>T.wNAFCached(this,j,x.normalizeZ);if(R){const{k1neg:j,k1:O,k2neg:E,k2:N}=R.splitScalar(A),{p:B,f:D}=L(O),{p:z,f:$}=L(N);S=D.add($),I=v(R.beta,B,z,j,E)}else{const{p:j,f:O}=L(A);I=j,S=O}return x.normalizeZ([I,S])[0]}multiplyUnsafe(A){const{endo:R}=t,I=this;if(!r.isValid(A))throw new Error("invalid scalar: out of range");if(A===Ar||I.is0())return x.ZERO;if(A===Er)return I;if(T.hasPrecomputes(this))return this.multiply(A);if(R){const{k1neg:S,k1:L,k2neg:j,k2:O}=R.splitScalar(A),{p1:E,p2:N}=Q2(x,I,L,O);return v(R.beta,E,N,S,j)}else return T.wNAFCachedUnsafe(I,A)}multiplyAndAddUnsafe(A,R,I){const S=this.multiplyUnsafe(R).add(A.multiplyUnsafe(I));return S.is0()?void 0:S}toAffine(A){return h(this,A)}isTorsionFree(){const{isTorsionFree:A}=t;return a===Er?!0:A?A(x,this):T.wNAFCachedUnsafe(this,i).is0()}clearCofactor(){const{clearCofactor:A}=t;return a===Er?this:A?A(x,this):this.multiplyUnsafe(a)}toBytes(A=!0){return ei("isCompressed",A),this.assertValidity(),l(x,this,A)}toRawBytes(A=!0){return this.toBytes(A)}toHex(A=!0){return Tr(this.toBytes(A))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}x.BASE=new x(e.Gx,e.Gy,n.ONE),x.ZERO=new x(n.ZERO,n.ONE,n.ZERO),x.Fp=n,x.Fn=r;const k=r.BITS,T=K2(x,t.endo?Math.ceil(k/2):k);return x}function ly(e){return Uint8Array.of(e?2:3)}function n6(e,t,n={}){Tu(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=t.randomBytes||yw,a=t.hmac||((I,...S)=>Xh(t.hash,I,Wt(...S))),{Fp:i,Fn:s}=e,{ORDER:o,BITS:c}=s;function u(I){const S=o>>Er;return I>S}function l(I){return u(I)?s.neg(I):I}function d(I,S){if(!s.isValidNot0(S))throw new Error(`invalid signature ${I}: out of range 1..CURVE.n`)}class p{constructor(S,L,j){d("r",S),d("s",L),this.r=S,this.s=L,j!=null&&(this.recovery=j),Object.freeze(this)}static fromCompact(S){const L=s.BYTES,j=Je("compactSignature",S,L*2);return new p(s.fromBytes(j.subarray(0,L)),s.fromBytes(j.subarray(L,L*2)))}static fromDER(S){const{r:L,s:j}=Tt.toSig(Je("DER",S));return new p(L,j)}assertValidity(){}addRecoveryBit(S){return new p(this.r,this.s,S)}recoverPublicKey(S){const L=i.ORDER,{r:j,s:O,recovery:E}=this;if(E==null||![0,1,2,3].includes(E))throw new Error("recovery id invalid");if(o*Y2<L&&E>1)throw new Error("recovery id is ambiguous for h>1 curve");const B=E===2||E===3?j+o:j;if(!i.isValid(B))throw new Error("recovery id 2 or 3 invalid");const D=i.toBytes(B),z=e.fromHex(Wt(ly((E&1)===0),D)),$=s.inv(B),q=w(Je("msgHash",S)),Y=s.create(-q*$),X=s.create(O*$),V=e.BASE.multiplyUnsafe(Y).add(z.multiplyUnsafe(X));if(V.is0())throw new Error("point at infinify");return V.assertValidity(),V}hasHighS(){return u(this.s)}normalizeS(){return this.hasHighS()?new p(this.r,s.neg(this.s),this.recovery):this}toBytes(S){if(S==="compact")return Wt(s.toBytes(this.r),s.toBytes(this.s));if(S==="der")return uu(Tt.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Tr(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Tr(this.toBytes("compact"))}}const f=uy(s,n.allowedPrivateKeyLengths,n.wrapPrivateKey),m={isValidPrivateKey(I){try{return f(I),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const I=o;return q2(r(sy(I)),I)},precompute(I=8,S=e.BASE){return S.precompute(I,!1)}};function y(I,S=!0){return e.fromPrivateKey(I).toBytes(S)}function g(I){if(typeof I=="bigint")return!1;if(I instanceof e)return!0;const L=Je("key",I).length,j=i.BYTES,O=j+1,E=2*j+1;if(!(n.allowedPrivateKeyLengths||s.BYTES===O))return L===O||L===E}function b(I,S,L=!0){if(g(I)===!0)throw new Error("first arg must be private key");if(g(S)===!1)throw new Error("second arg must be public key");return e.fromHex(S).multiply(f(I)).toBytes(L)}const h=t.bits2int||function(I){if(I.length>8192)throw new Error("input is too large");const S=Ui(I),L=I.length*8-c;return L>0?S>>BigInt(L):S},w=t.bits2int_modN||function(I){return s.create(h(I))},v=zi(c);function x(I){return ox("num < 2^"+c,I,Ar,v),s.toBytes(I)}function k(I,S,L=T){if(["recovered","canonical"].some(X=>X in L))throw new Error("sign() legacy options not supported");const{hash:j}=t;let{lowS:O,prehash:E,extraEntropy:N}=L;O==null&&(O=!0),I=Je("msgHash",I),Md(L),E&&(I=Je("prehashed msgHash",j(I)));const B=w(I),D=f(S),z=[x(D),x(B)];if(N!=null&&N!==!1){const X=N===!0?r(i.BYTES):N;z.push(Je("extraEntropy",X))}const $=Wt(...z),q=B;function Y(X){const V=h(X);if(!s.isValidNot0(V))return;const te=s.inv(V),ee=e.BASE.multiply(V).toAffine(),oe=s.create(ee.x);if(oe===Ar)return;const be=s.create(te*s.create(q+oe*D));if(be===Ar)return;let ge=(ee.x===oe?0:2)|Number(ee.y&Er),we=be;return O&&u(be)&&(we=l(be),ge^=1),new p(oe,we,ge)}return{seed:$,k2sig:Y}}const T={lowS:t.lowS,prehash:!1},C={lowS:t.lowS,prehash:!1};function A(I,S,L=T){const{seed:j,k2sig:O}=k(I,S,L);return ux(t.hash.outputLen,s.BYTES,a)(j,O)}e.BASE.precompute(8);function R(I,S,L,j=C){const O=I;S=Je("msgHash",S),L=Je("publicKey",L),Md(j);const{lowS:E,prehash:N,format:B}=j;if("strict"in j)throw new Error("options.strict was renamed to lowS");if(B!==void 0&&!["compact","der","js"].includes(B))throw new Error('format must be "compact", "der" or "js"');const D=typeof O=="string"||cu(O),z=!D&&!B&&typeof O=="object"&&O!==null&&typeof O.r=="bigint"&&typeof O.s=="bigint";if(!D&&!z)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let $,q;try{if(z)if(B===void 0||B==="js")$=new p(O.r,O.s);else throw new Error("invalid format");if(D){try{B!=="compact"&&($=p.fromDER(O))}catch(we){if(!(we instanceof Tt.Err))throw we}!$&&B!=="der"&&($=p.fromCompact(O))}q=e.fromHex(L)}catch{return!1}if(!$||E&&$.hasHighS())return!1;N&&(S=t.hash(S));const{r:Y,s:X}=$,V=w(S),te=s.inv(X),ee=s.create(V*te),oe=s.create(Y*te),be=e.BASE.multiplyUnsafe(ee).add(q.multiplyUnsafe(oe));return be.is0()?!1:s.create(be.x)===Y}return Object.freeze({getPublicKey:y,getSharedSecret:b,sign:A,verify:R,utils:m,Point:e,Signature:p})}function r6(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=Ji(t.n,e.nBitLength),a={Fp:n,Fn:r,allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:a}}function a6(e){const{CURVE:t,curveOpts:n}=r6(e),r={hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,ecdsaOpts:r}}function i6(e,t){return Object.assign({},t,{ProjectivePoint:t.Point,CURVE:e})}function s6(e){const{CURVE:t,curveOpts:n,ecdsaOpts:r}=a6(e),a=t6(t,n),i=n6(a,r,n);return i6(e,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function o6(e,t){const n=r=>s6({...e,hash:r});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ni={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")};BigInt(0);const c6=BigInt(1),vc=BigInt(2),Nd=(e,t)=>(e+t/vc)/t;function u6(e){const t=ni.p,n=BigInt(3),r=BigInt(6),a=BigInt(11),i=BigInt(22),s=BigInt(23),o=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,d=We(l,n,t)*l%t,p=We(d,n,t)*l%t,f=We(p,vc,t)*u%t,m=We(f,a,t)*f%t,y=We(m,i,t)*m%t,g=We(y,o,t)*y%t,b=We(g,c,t)*g%t,h=We(b,o,t)*y%t,w=We(h,n,t)*l%t,v=We(w,s,t)*m%t,x=We(v,r,t)*u%t,k=We(x,vc,t);if(!xc.eql(xc.sqr(k),e))throw new Error("Cannot find square root");return k}const xc=Ji(ni.p,void 0,void 0,{sqrt:u6}),Zi=o6({...ni,Fp:xc,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=ni.n,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-c6*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,s=BigInt("0x100000000000000000000000000000000"),o=Nd(i*e,t),c=Nd(-r*e,t);let u=Ze(e-o*n-c*a,t),l=Ze(-o*r-c*i,t);const d=u>s,p=l>s;if(d&&(u=t-u),p&&(l=t-l),u>s||l>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:p,k2:l}}}},Nf),l6=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Zi},Symbol.toStringTag,{value:"Module"}));function dy({r:e,s:t,to:n="hex",v:r,yParity:a}){const i=(()=>{if(a===0||a===1)return a;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),s=`0x${new Zi.Signature(ze(e),ze(t)).toCompactHex()}${i===0?"1b":"1c"}`;return n==="hex"?s:Ye(s)}async function Hu(e,t){const{address:n,factory:r,factoryData:a,hash:i,signature:s,universalSignatureVerifierAddress:o=e.chain?.contracts?.universalSignatureVerifier?.address,...c}=t,u=vt(s)?s:typeof s=="object"&&"r"in s&&"s"in s?dy(s):he(s),l=await(async()=>!r&&!a||WA(u)?u:JA({address:r,data:a,signature:u}))();try{const d=o?{to:o,data:Qe({abi:xd,functionName:"isValidSig",args:[n,i,l]}),...c}:{data:qi({abi:xd,args:[n,i,l],bytecode:Fx}),...c},{data:p}=await G(e,Hi,"call")(d);return q0(p??"0x0")}catch(d){try{if(Yn(Kf(n),await Wm({hash:i,signature:s})))return!0}catch{}if(d instanceof Im)return!1;throw d}}async function d6(e,{address:t,message:n,factory:r,factoryData:a,signature:i,...s}){const o=Du(n);return Hu(e,{address:t,factory:r,factoryData:a,hash:o,signature:i,...s})}async function p6(e,t){const{address:n,factory:r,factoryData:a,signature:i,message:s,primaryType:o,types:c,domain:u,...l}=t,d=Oh({message:s,primaryType:o,types:c,domain:u});return Hu(e,{address:n,factory:r,factoryData:a,hash:d,signature:i,...l})}function py(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:a,poll:i,pollingInterval:s=e.pollingInterval}){const o=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return o?(()=>{const d=me(["watchBlockNumber",e.uid,t,n,s]);return Mt(d,{onBlockNumber:r,onError:a},p=>Xn(async()=>{try{const f=await G(e,ua,"getBlockNumber")({cacheTime:0});if(c){if(f===c)return;if(f-c>1&&n)for(let m=c+1n;m<f;m++)p.onBlockNumber(m,c),c=m}(!c||f>c)&&(p.onBlockNumber(f,c),c=f)}catch(f){p.onError?.(f)}},{emitOnBegin:t,interval:s}))})():(()=>{const d=me(["watchBlockNumber",e.uid,t,n]);return Mt(d,{onBlockNumber:r,onError:a},p=>{let f=!0,m=()=>f=!1;return(async()=>{try{const y=(()=>{if(e.transport.type==="fallback"){const b=e.transport.transports.find(h=>h.config.type==="webSocket"||h.config.type==="ipc");return b?b.value:e.transport}return e.transport})(),{unsubscribe:g}=await y.subscribe({params:["newHeads"],onData(b){if(!f)return;const h=ze(b.result?.number);p.onBlockNumber(h,c),c=h},onError(b){p.onError?.(b)}});m=g,f||m()}catch(y){a?.(y)}})(),()=>m()})})()}async function f6(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:a,onReplaced:i,retryCount:s=6,retryDelay:o=({count:x})=>~~(1<<x)*200,timeout:c=18e4}=t,u=me(["waitForTransactionReceipt",e.uid,a]),l=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let d,p,f,m=!1,y,g;const{promise:b,resolve:h,reject:w}=Mu(),v=c?setTimeout(()=>{g(),y(),w(new ow({hash:a}))},c):void 0;return y=Mt(u,{onReplaced:i,resolve:h,reject:w},async x=>{if(f=await G(e,Ha,"getTransactionReceipt")({hash:a}).catch(()=>{}),f&&r<=1){clearTimeout(v),x.resolve(f),y();return}g=G(e,py,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:l,async onBlockNumber(k){const T=A=>{clearTimeout(v),g(),A(),y()};let C=k;if(!m)try{if(f){if(r>1&&(!f.blockNumber||C-f.blockNumber+1n<r))return;T(()=>x.resolve(f));return}if(n&&!d&&(m=!0,await ti(async()=>{d=await G(e,Uu,"getTransaction")({hash:a}),d.blockNumber&&(C=d.blockNumber)},{delay:o,retryCount:s}),m=!1),f=await G(e,Ha,"getTransactionReceipt")({hash:a}),r>1&&(!f.blockNumber||C-f.blockNumber+1n<r))return;T(()=>x.resolve(f))}catch(A){if(A instanceof Tf||A instanceof Sf){if(!d){m=!1;return}try{p=d,m=!0;const R=await ti(()=>G(e,gt,"getBlock")({blockNumber:C,includeTransactions:!0}),{delay:o,retryCount:s,shouldRetry:({error:L})=>L instanceof Ym});m=!1;const I=R.transactions.find(({from:L,nonce:j})=>L===p.from&&j===p.nonce);if(!I||(f=await G(e,Ha,"getTransactionReceipt")({hash:I.hash}),r>1&&(!f.blockNumber||C-f.blockNumber+1n<r)))return;let S="replaced";I.to===p.to&&I.value===p.value&&I.input===p.input?S="repriced":I.from===I.to&&I.value===0n&&(S="cancelled"),T(()=>{x.onReplaced?.({reason:S,replacedTransaction:p,transaction:I,transactionReceipt:f}),x.resolve(f)})}catch(R){T(()=>x.reject(R))}}else T(()=>x.reject(A))}}})}),b}function m6(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:a,onError:i,includeTransactions:s,poll:o,pollingInterval:c=e.pollingInterval}){const u=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),l=s??!1;let d;return u?(()=>{const m=me(["watchBlocks",e.uid,t,n,r,l,c]);return Mt(m,{onBlock:a,onError:i},y=>Xn(async()=>{try{const g=await G(e,gt,"getBlock")({blockTag:t,includeTransactions:l});if(g.number!==null&&d?.number!=null){if(g.number===d.number)return;if(g.number-d.number>1&&n)for(let b=d?.number+1n;b<g.number;b++){const h=await G(e,gt,"getBlock")({blockNumber:b,includeTransactions:l});y.onBlock(h,d),d=h}}(d?.number==null||t==="pending"&&g?.number==null||g.number!==null&&g.number>d.number)&&(y.onBlock(g,d),d=g)}catch(g){y.onError?.(g)}},{emitOnBegin:r,interval:c}))})():(()=>{let m=!0,y=!0,g=()=>m=!1;return(async()=>{try{r&&G(e,gt,"getBlock")({blockTag:t,includeTransactions:l}).then(w=>{m&&y&&(a(w,void 0),y=!1)}).catch(i);const b=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(v=>v.config.type==="webSocket"||v.config.type==="ipc");return w?w.value:e.transport}return e.transport})(),{unsubscribe:h}=await b.subscribe({params:["newHeads"],async onData(w){if(!m)return;const v=await G(e,gt,"getBlock")({blockNumber:w.result?.number,includeTransactions:l}).catch(()=>{});m&&(a(v,d),y=!1,d=v)},onError(w){i?.(w)}});g=h,m||g()}catch(b){i?.(b)}})(),()=>g()})()}function h6(e,{address:t,args:n,batch:r=!0,event:a,events:i,fromBlock:s,onError:o,onLogs:c,poll:u,pollingInterval:l=e.pollingInterval,strict:d}){const p=typeof u<"u"?u:typeof s=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=d??!1;return p?(()=>{const g=me(["watchEvent",t,n,r,e.uid,a,l,s]);return Mt(g,{onLogs:c,onError:o},b=>{let h;s!==void 0&&(h=s-1n);let w,v=!1;const x=Xn(async()=>{if(!v){try{w=await G(e,Mh,"createEventFilter")({address:t,args:n,event:a,events:i,strict:f,fromBlock:s})}catch{}v=!0;return}try{let k;if(w)k=await G(e,Gi,"getFilterChanges")({filter:w});else{const T=await G(e,ua,"getBlockNumber")({});h&&h!==T?k=await G(e,ku,"getLogs")({address:t,args:n,event:a,events:i,fromBlock:h+1n,toBlock:T}):k=[],h=T}if(k.length===0)return;if(r)b.onLogs(k);else for(const T of k)b.onLogs([T])}catch(k){w&&k instanceof Nr&&(v=!1),b.onError?.(k)}},{emitOnBegin:!0,interval:l});return async()=>{w&&await G(e,Vi,"uninstallFilter")({filter:w}),x()}})})():(()=>{let g=!0,b=()=>g=!1;return(async()=>{try{const h=(()=>{if(e.transport.type==="fallback"){const k=e.transport.transports.find(T=>T.config.type==="webSocket"||T.config.type==="ipc");return k?k.value:e.transport}return e.transport})(),w=i??(a?[a]:void 0);let v=[];w&&(v=[w.flatMap(T=>ca({abi:[T],eventName:T.name,args:n}))],a&&(v=v[0]));const{unsubscribe:x}=await h.subscribe({params:["logs",{address:t,topics:v}],onData(k){if(!g)return;const T=k.result;try{const{eventName:C,args:A}=Di({abi:w??[],data:T.data,topics:T.topics,strict:f}),R=Rt(T,{args:A,eventName:C});c([R])}catch(C){let A,R;if(C instanceof Br||C instanceof Ri){if(d)return;A=C.abiItem.name,R=C.abiItem.inputs?.some(S=>!("name"in S&&S.name))}const I=Rt(T,{args:R?[]:{},eventName:A});c([I])}},onError(k){o?.(k)}});b=x,g||b()}catch(h){o?.(h)}})(),()=>b()})()}function y6(e,{batch:t=!0,onError:n,onTransactions:r,poll:a,pollingInterval:i=e.pollingInterval}){return(typeof a<"u"?a:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=me(["watchPendingTransactions",e.uid,t,i]);return Mt(u,{onTransactions:r,onError:n},l=>{let d;const p=Xn(async()=>{try{if(!d)try{d=await G(e,Nh,"createPendingTransactionFilter")({});return}catch(m){throw p(),m}const f=await G(e,Gi,"getFilterChanges")({filter:d});if(f.length===0)return;if(t)l.onTransactions(f);else for(const m of f)l.onTransactions([m])}catch(f){l.onError?.(f)}},{emitOnBegin:!0,interval:i});return async()=>{d&&await G(e,Vi,"uninstallFilter")({filter:d}),p()}})})():(()=>{let u=!0,l=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(p){if(!u)return;const f=p.result;r([f])},onError(p){n?.(p)}});l=d,u||l()}catch(d){n?.(d)}})(),()=>l()})()}function b6(e){const{scheme:t,statement:n,...r}=e.match(g6)?.groups??{},{chainId:a,expirationTime:i,issuedAt:s,notBefore:o,requestId:c,...u}=e.match(w6)?.groups??{},l=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...u,...a?{chainId:Number(a)}:{},...i?{expirationTime:new Date(i)}:{},...s?{issuedAt:new Date(s)}:{},...o?{notBefore:new Date(o)}:{},...c?{requestId:c}:{},...l?{resources:l}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const g6=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,w6=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function v6(e){const{address:t,domain:n,message:r,nonce:a,scheme:i,time:s=new Date}=e;if(n&&r.domain!==n||a&&r.nonce!==a||i&&r.scheme!==i||r.expirationTime&&s>=r.expirationTime||r.notBefore&&s<r.notBefore)return!1;try{if(!r.address||!ye(r.address,{strict:!1})||t&&!Yn(r.address,t))return!1}catch{return!1}return!0}async function x6(e,t){const{address:n,domain:r,message:a,nonce:i,scheme:s,signature:o,time:c=new Date,...u}=t,l=b6(a);if(!l.address||!v6({address:n,domain:r,message:l,nonce:i,scheme:s,time:c}))return!1;const p=Du(a);return Hu(e,{address:l.address,hash:p,signature:o,...u})}function A6(e){return{call:t=>Hi(e,t),createAccessList:t=>Rh(e,t),createBlockFilter:()=>TA(e),createContractEventFilter:t=>gu(e,t),createEventFilter:t=>Mh(e,t),createPendingTransactionFilter:()=>Nh(e),estimateContractGas:t=>nh(e,t),estimateGas:t=>Au(e,t),getBalance:t=>th(e,t),getBlobBaseFee:()=>SA(e),getBlock:t=>gt(e,t),getBlockNumber:t=>ua(e,t),getBlockTransactionCount:t=>BA(e,t),getBytecode:t=>Id(e,t),getChainId:()=>Zn(e),getCode:t=>Id(e,t),getContractEvents:t=>Iu(e,t),getEip712Domain:t=>MA(e,t),getEnsAddress:t=>pA(e,t),getEnsAvatar:t=>IA(e,t),getEnsName:t=>CA(e,t),getEnsResolver:t=>PA(e,t),getEnsText:t=>Bh(e,t),getFeeHistory:t=>$A(e,t),estimateFeesPerGas:t=>rx(e,t),getFilterChanges:t=>Gi(e,t),getFilterLogs:t=>_A(e,t),getGasPrice:()=>xu(e),getLogs:t=>ku(e,t),getProof:t=>t2(e,t),estimateMaxPriorityFeePerGas:t=>nx(e,t),getStorageAt:t=>n2(e,t),getTransaction:t=>Uu(e,t),getTransactionConfirmations:t=>r2(e,t),getTransactionCount:t=>Li(e,t),getTransactionReceipt:t=>Ha(e,t),multicall:t=>a2(e,t),prepareTransactionRequest:t=>ji(e,t),readContract:t=>At(e,t),sendRawTransaction:t=>Ou(e,t),simulate:t=>mc(e,t),simulateBlocks:t=>mc(e,t),simulateCalls:t=>O2(e,t),simulateContract:t=>yh(e,t),verifyMessage:t=>d6(e,t),verifySiweMessage:t=>x6(e,t),verifyTypedData:t=>p6(e,t),uninstallFilter:t=>Vi(e,t),waitForTransactionReceipt:t=>f6(e,t),watchBlocks:t=>m6(e,t),watchBlockNumber:t=>py(e,t),watchContractEvent:t=>bh(e,t),watchEvent:t=>h6(e,t),watchPendingTransactions:t=>y6(e,t)}}function E6(e){const{key:t="public",name:n="Public Client"}=e;return kh({...e,key:t,name:n,type:"publicClient"}).extend(A6)}async function k6(e,{chain:t}){const{id:n,name:r,nativeCurrency:a,rpcUrls:i,blockExplorers:s}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:F(n),chainName:r,nativeCurrency:a,rpcUrls:i.default.http,blockExplorerUrls:s?Object.values(s).map(({url:o})=>o):void 0}]},{dedupe:!0,retryCount:0})}function I6(e,t){const{abi:n,args:r,bytecode:a,...i}=t,s=qi({abi:n,args:r,bytecode:a});return Ki(e,{...i,...i.authorizationList?{to:null}:{},data:s})}async function C6(e){return e.account?.type==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(n=>na(n))}async function P6(e,t={}){const{account:n=e.account,chainId:r}=t,a=n?pe(n):void 0,i=r?[a?.address,[F(r)]]:[a?.address],s=await e.request({method:"wallet_getCapabilities",params:i}),o={};for(const[c,u]of Object.entries(s)){o[Number(c)]={};for(let[l,d]of Object.entries(u))l==="addSubAccount"&&(l="unstable_addSubAccount"),o[Number(c)][l]=d}return typeof r=="number"?o[r]:o}async function T6(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function fy(e,t){const{account:n=e.account,chainId:r,nonce:a}=t;if(!n)throw new fn({docsPath:"/docs/eip7702/prepareAuthorization"});const i=pe(n),s=(()=>{if(t.executor)return t.executor==="self"?t.executor:pe(t.executor)})(),o={address:t.contractAddress??t.address,chainId:r,nonce:a};return typeof o.chainId>"u"&&(o.chainId=e.chain?.id??await G(e,Zn,"getChainId")({})),typeof o.nonce>"u"&&(o.nonce=await G(e,Li,"getTransactionCount")({address:i.address,blockTag:"pending"}),(s==="self"||s?.address&&Yn(s.address,i.address))&&(o.nonce+=1)),o}async function S6(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Kf(n))}async function B6(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function R6(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function M6(e,t){const{account:n=e.account}=t;if(!n)throw new fn({docsPath:"/docs/eip7702/signAuthorization"});const r=pe(n);if(!r.signAuthorization)throw new Da({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const a=await fy(e,t);return r.signAuthorization(a)}async function N6(e,{account:t=e.account,message:n}){if(!t)throw new fn({docsPath:"/docs/actions/wallet/signMessage"});const r=pe(t);if(r.signMessage)return r.signMessage({message:n});const a=typeof n=="string"?ae(n):n.raw instanceof Uint8Array?Ue(n.raw):n.raw;return e.request({method:"personal_sign",params:[a,r.address]},{retryCount:0})}async function O6(e,t){const{account:n=e.account,chain:r=e.chain,...a}=t;if(!n)throw new fn({docsPath:"/docs/actions/wallet/signTransaction"});const i=pe(n);hn({account:i,...t});const s=await G(e,Zn,"getChainId")({});r!==null&&Yf({currentChainId:s,chain:r});const c=(r?.formatters||e.chain?.formatters)?.transactionRequest?.format||Qn;return i.signTransaction?i.signTransaction({...a,chainId:s},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(a),chainId:F(s),from:i.address}]},{retryCount:0})}async function $6(e,t){const{account:n=e.account,domain:r,message:a,primaryType:i}=t;if(!n)throw new fn({docsPath:"/docs/actions/wallet/signTypedData"});const s=pe(n),o={EIP712Domain:Dh({domain:r}),...t.types};if(jh({domain:r,message:a,primaryType:i,types:o}),s.signTypedData)return s.signTypedData({domain:r,message:a,primaryType:i,types:o});const c=GA({domain:r,message:a,primaryType:i,types:o});return e.request({method:"eth_signTypedData_v4",params:[s.address,c]},{retryCount:0})}async function _6(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:F(t)}]},{retryCount:0})}async function F6(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}function L6(e){return{addChain:t=>k6(e,t),deployContract:t=>I6(e,t),getAddresses:()=>C6(e),getCallsStatus:t=>Ah(e,t),getCapabilities:t=>P6(e,t),getChainId:()=>Zn(e),getPermissions:()=>T6(e),prepareAuthorization:t=>fy(e,t),prepareTransactionRequest:t=>ji(e,t),requestAddresses:()=>S6(e),requestPermissions:t=>B6(e,t),sendCalls:t=>Jx(e,t),sendRawTransaction:t=>Ou(e,t),sendTransaction:t=>Ki(e,t),showCallsStatus:t=>R6(e,t),signAuthorization:t=>M6(e,t),signMessage:t=>N6(e,t),signTransaction:t=>O6(e,t),signTypedData:t=>$6(e,t),switchChain:t=>_6(e,t),waitForCallsStatus:t=>Zx(e,t),watchAsset:t=>F6(e,t),writeContract:t=>wh(e,t)}}function my(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return kh({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(L6)}function j6(e,t={}){const{keepAlive:n,key:r="webSocket",methods:a,name:i="WebSocket JSON-RPC",reconnect:s,retryDelay:o}=t;return({chain:c,retryCount:u,timeout:l})=>{const d=t.retryCount??u,p=l??t.timeout??1e4,f=e||c?.rpcUrls.default.webSocket?.[0],m={keepAlive:n,reconnect:s};if(!f)throw new Ih;return $u({key:r,methods:a,name:i,async request({method:y,params:g}){const b={method:y,params:g},h=await qa(f,m),{error:w,result:v}=await h.requestAsync({body:b,timeout:p});if(w)throw new Oi({body:b,error:w,url:f});return v},retryCount:d,retryDelay:o,timeout:p,type:"webSocket"},{getSocket(){return LA(f)},getRpcClient(){return qa(f,m)},async subscribe({params:y,onData:g,onError:b}){const h=await qa(f,m),{result:w}=await new Promise((v,x)=>h.request({body:{method:"eth_subscribe",params:y},onError(k){x(k),b?.(k)},onResponse(k){if(k.error){x(k.error),b?.(k.error);return}if(typeof k.id=="number"){v(k);return}k.method==="eth_subscription"&&g(k.params)}}));return{subscriptionId:w,async unsubscribe(){return new Promise(v=>h.request({body:{method:"eth_unsubscribe",params:[w]},onResponse:v}))}}}})}}var D6={};Vm(D6,{cbt:()=>yy,entry:()=>Yi,linklist:()=>Gu,mira:()=>xy,newbieVilla:()=>by,periphery:()=>hy,tips:()=>gy,tipsWithConfig:()=>vy,tipsWithFee:()=>wy});var Yi=[{inputs:[{name:"characterId",type:"uint256"}],name:"ErrCharacterNotExists",type:"error"},{inputs:[],name:"ErrHandleContainsInvalidCharacters",type:"error"},{inputs:[],name:"ErrHandleExists",type:"error"},{inputs:[],name:"ErrHandleLengthInvalid",type:"error"},{inputs:[],name:"ErrNotCharacterOwner",type:"error"},{inputs:[],name:"ErrNotEnoughPermission",type:"error"},{inputs:[],name:"ErrNotEnoughPermissionForThisNote",type:"error"},{inputs:[],name:"ErrNoteIsDeleted",type:"error"},{inputs:[],name:"ErrNoteLocked",type:"error"},{inputs:[],name:"ErrNoteNotExists",type:"error"},{inputs:[],name:"ErrSignatureExpired",type:"error"},{inputs:[],name:"ErrSignatureInvalid",type:"error"},{inputs:[],name:"ErrSocialTokenExists",type:"error"},{inputs:[],name:"ErrTokenNotExists",type:"error"},{inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"approved",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{inputs:[{indexed:!1,name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"linklistId",type:"uint256"}],name:"burnLinklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"to",type:"address"},{name:"handle",type:"string"},{name:"uri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"}],name:"vars",type:"tuple"}],name:"createCharacter",outputs:[{name:"characterId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"to",type:"address"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"createThenLinkCharacter",outputs:[{name:"characterId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"deleteNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"getCharacter",outputs:[{components:[{name:"characterId",type:"uint256"},{name:"handle",type:"string"},{name:"uri",type:"string"},{name:"noteCount",type:"uint256"},{name:"socialToken",type:"address"},{name:"linkModule",type:"address"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"handle",type:"string"}],name:"getCharacterByHandle",outputs:[{components:[{name:"characterId",type:"uint256"},{name:"handle",type:"string"},{name:"uri",type:"string"},{name:"noteCount",type:"uint256"},{name:"socialToken",type:"address"},{name:"linkModule",type:"address"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"getCharacterUri",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeparator",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"getHandle",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLinklistContract",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinklistId",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkListId",type:"uint256"}],name:"getLinklistType",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinklistUri",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"getNote",outputs:[{components:[{name:"linkItemType",type:"bytes32"},{name:"linkKey",type:"bytes32"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"mintModule",type:"address"},{name:"mintNFT",type:"address"},{name:"deleted",type:"bool"},{name:"locked",type:"bool"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"operator",type:"address"}],name:"getOperatorPermissions",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"getOperators",outputs:[{name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"getOperators4Note",outputs:[{name:"blocklist",type:"address[]"},{name:"allowlist",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getPrimaryCharacterId",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRevision",outputs:[{name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"operator",type:"address"},{name:"permissionBitMap",type:"uint256"}],name:"grantOperatorPermissions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"operator",type:"address"},{name:"permissionBitMap",type:"uint256"},{components:[{name:"v",type:"uint8"},{name:"r",type:"bytes32"},{name:"s",type:"bytes32"},{name:"deadline",type:"uint256"}],name:"sig",type:"tuple"}],name:"grantOperatorPermissionsWithSig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"blocklist",type:"address[]"},{name:"allowlist",type:"address[]"}],name:"grantOperators4Note",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"name_",type:"string"},{name:"symbol_",type:"string"},{name:"linklist_",type:"address"},{name:"mintNFTImpl_",type:"address"},{name:"periphery_",type:"address"},{name:"newbieVilla_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"operator",type:"address"}],name:"isOperatorAllowedForNote",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"isPrimaryCharacter",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"ethAddress",type:"address"},{name:"linkType",type:"bytes32"},{name:"data",type:"bytes"}],name:"vars",type:"tuple"}],name:"linkAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toUri",type:"string"},{name:"linkType",type:"bytes32"},{name:"data",type:"bytes"}],name:"vars",type:"tuple"}],name:"linkAnyUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"},{name:"data",type:"bytes"}],name:"vars",type:"tuple"}],name:"linkCharacter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"tokenAddress",type:"address"},{name:"tokenId",type:"uint256"},{name:"linkType",type:"bytes32"},{name:"data",type:"bytes"}],name:"vars",type:"tuple"}],name:"linkERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toLinkListId",type:"uint256"},{name:"linkType",type:"bytes32"},{name:"data",type:"bytes"}],name:"vars",type:"tuple"}],name:"linkLinklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"toNoteId",type:"uint256"},{name:"linkType",type:"bytes32"},{name:"data",type:"bytes"}],name:"vars",type:"tuple"}],name:"linkNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"lockNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"to",type:"address"},{name:"mintModuleData",type:"bytes"}],name:"vars",type:"tuple"}],name:"mintNote",outputs:[{name:"tokenId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"data",type:"bytes[]"}],name:"multicall",outputs:[{name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"nonces",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"}],name:"postNote",outputs:[{name:"noteId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"},{name:"ethAddress",type:"address"}],name:"postNote4Address",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"},{name:"uri",type:"string"}],name:"postNote4AnyUri",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"},{name:"toCharacterId",type:"uint256"}],name:"postNote4Character",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"},{components:[{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"erc721",type:"tuple"}],name:"postNote4ERC721",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"},{name:"toLinklistId",type:"uint256"}],name:"postNote4Linklist",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"},{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"note",type:"tuple"}],name:"postNote4Note",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"resolver",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"newUri",type:"string"}],name:"setCharacterUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"newHandle",type:"string"}],name:"setHandle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"}],name:"vars",type:"tuple"}],name:"setLinkModule4Character",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"}],name:"vars",type:"tuple"}],name:"setLinkModule4Note",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"linklistId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"setLinklistType",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"linklistId",type:"uint256"},{name:"uri",type:"string"}],name:"setLinklistUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"}],name:"vars",type:"tuple"}],name:"setMintModule4Note",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"newUri",type:"string"}],name:"setNoteUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"setPrimaryCharacterId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"tokenAddress",type:"address"}],name:"setSocialToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"tokenURI",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"ethAddress",type:"address"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"unlinkAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toUri",type:"string"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"unlinkAnyUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"unlinkCharacter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"tokenAddress",type:"address"},{name:"tokenId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"unlinkERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toLinkListId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"unlinkLinklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"toNoteId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"unlinkNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{indexed:!0,name:"linklistId",type:"uint256"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"linkType",type:"bytes32"}],name:"AttachLinklist",type:"event"},{inputs:[{indexed:!1,name:"name",type:"string"},{indexed:!1,name:"symbol",type:"string"},{indexed:!1,name:"timestamp",type:"uint256"}],name:"BaseInitialized",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"creator",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"handle",type:"string"},{indexed:!1,name:"timestamp",type:"uint256"}],name:"CharacterCreated",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!1,name:"noteId",type:"uint256"}],name:"DeleteNote",type:"event"},{inputs:[{indexed:!0,name:"linklistId",type:"uint256"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"linkType",type:"bytes32"}],name:"DetachLinklist",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"permissionBitMap",type:"uint256"}],name:"GrantOperatorPermissions",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"noteId",type:"uint256"},{indexed:!1,name:"blocklist",type:"address[]"},{indexed:!1,name:"allowlist",type:"address[]"}],name:"GrantOperators4Note",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"ethAddress",type:"address"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"LinkAddress",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!1,name:"toUri",type:"string"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"LinkAnyUri",type:"event"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"LinkCharacter",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"linkType",type:"bytes32"},{indexed:!1,name:"clFromCharacterId",type:"uint256"},{indexed:!1,name:"clToCharacterId",type:"uint256"},{indexed:!1,name:"clLinkType",type:"bytes32"}],name:"LinkCharacterLink",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"tokenAddress",type:"address"},{indexed:!0,name:"toNoteId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"LinkERC721",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toLinklistId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!0,name:"linklistId",type:"uint256"}],name:"LinkLinklist",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!0,name:"toNoteId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"LinkNote",type:"event"},{inputs:[{indexed:!1,name:"timestamp",type:"uint256"}],name:"LinklistNFTInitialized",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!1,name:"noteId",type:"uint256"}],name:"LockNote",type:"event"},{inputs:[{indexed:!1,name:"characterId",type:"uint256"},{indexed:!1,name:"noteId",type:"uint256"},{indexed:!1,name:"timestamp",type:"uint256"}],name:"MintNFTInitialized",type:"event"},{inputs:[{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"noteId",type:"uint256"},{indexed:!1,name:"tokenAddress",type:"address"},{indexed:!1,name:"tokenId",type:"uint256"}],name:"MintNote",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"noteId",type:"uint256"},{indexed:!0,name:"linkKey",type:"bytes32"},{indexed:!1,name:"linkItemType",type:"bytes32"},{indexed:!1,name:"data",type:"bytes"}],name:"PostNote",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"noteId",type:"uint256"},{indexed:!0,name:"amount",type:"uint256"},{indexed:!1,name:"approvedAddresses",type:"address[]"}],name:"SetApprovedMintAmount4Addresses",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!1,name:"newUri",type:"string"}],name:"SetCharacterUri",type:"event"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!1,name:"newHandle",type:"string"}],name:"SetHandle",type:"event"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"linkModule",type:"address"},{indexed:!1,name:"linkModuleInitData",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"SetLinkModule4Address",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"linkModule",type:"address"},{indexed:!1,name:"linkModuleInitData",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"SetLinkModule4Character",type:"event"},{inputs:[{indexed:!0,name:"tokenAddress",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"},{indexed:!0,name:"linkModule",type:"address"},{indexed:!1,name:"linkModuleInitData",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"SetLinkModule4ERC721",type:"event"},{inputs:[{indexed:!0,name:"linklistId",type:"uint256"},{indexed:!0,name:"linkModule",type:"address"},{indexed:!1,name:"linkModuleInitData",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"SetLinkModule4Linklist",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"noteId",type:"uint256"},{indexed:!0,name:"linkModule",type:"address"},{indexed:!1,name:"linkModuleInitData",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"SetLinkModule4Note",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"noteId",type:"uint256"},{indexed:!0,name:"mintModule",type:"address"},{indexed:!1,name:"mintModuleInitData",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"SetMintModule4Note",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!1,name:"noteId",type:"uint256"},{indexed:!1,name:"newUri",type:"string"}],name:"SetNoteUri",type:"event"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"oldCharacterId",type:"uint256"}],name:"SetPrimaryCharacterId",type:"event"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"tokenAddress",type:"address"}],name:"SetSocialToken",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"ethAddress",type:"address"},{indexed:!1,name:"linkType",type:"bytes32"}],name:"UnlinkAddress",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!1,name:"toUri",type:"string"},{indexed:!1,name:"linkType",type:"bytes32"}],name:"UnlinkAnyUri",type:"event"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"}],name:"UnlinkCharacter",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"linkType",type:"bytes32"},{indexed:!1,name:"clFromCharactereId",type:"uint256"},{indexed:!1,name:"clToCharacterId",type:"uint256"},{indexed:!1,name:"clLinkType",type:"bytes32"}],name:"UnlinkCharacterLink",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"tokenAddress",type:"address"},{indexed:!0,name:"toNoteId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"UnlinkERC721",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toLinklistId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!0,name:"linklistId",type:"uint256"}],name:"UnlinkLinklist",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!0,name:"toNoteId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"UnlinkNote",type:"event"},{inputs:[{indexed:!1,name:"timestamp",type:"uint256"}],name:"Web3EntryInitialized",type:"event"}],hy=[{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingAddress",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinkingAddresses",outputs:[{name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingAnyUri",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinkingAnyUris",outputs:[{name:"results",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingCharacterId",outputs:[{name:"characterId",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinkingCharacterIds",outputs:[{name:"results",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingERC721",outputs:[{components:[{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinkingERC721s",outputs:[{components:[{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingLinklistId",outputs:[{name:"linklistId",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinkingLinklistIds",outputs:[{name:"linklistIds",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingNote",outputs:[{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinkingNotes",outputs:[{components:[{name:"linkItemType",type:"bytes32"},{name:"linkKey",type:"bytes32"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"mintModule",type:"address"},{name:"mintNFT",type:"address"},{name:"deleted",type:"bool"},{name:"locked",type:"bool"}],name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"offset",type:"uint256"},{name:"limit",type:"uint256"}],name:"getNotesByCharacterId",outputs:[{components:[{name:"linkItemType",type:"bytes32"},{name:"linkKey",type:"bytes32"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"mintModule",type:"address"},{name:"mintNFT",type:"address"},{name:"deleted",type:"bool"},{name:"locked",type:"bool"}],name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"_web3Entry",type:"address"},{name:"_linklist",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterIds",type:"uint256[]"},{name:"data",type:"bytes[]"},{name:"toAddresses",type:"address[]"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"linkCharactersInBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"linklist",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{name:"account",type:"address"},{name:"handle",type:"string"},{name:"uri",type:"string"},{name:"toAddresses",type:"address[]"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"migrate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"web3Entry",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"}],yy=[{inputs:[{name:"web3Entry",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{inputs:[{indexed:!0,name:"from",type:"uint256"},{indexed:!0,name:"tokenId",type:"uint256"},{indexed:!0,name:"amount",type:"uint256"}],name:"Burn",type:"event"},{inputs:[{indexed:!0,name:"to",type:"uint256"},{indexed:!0,name:"tokenId",type:"uint256"},{indexed:!0,name:"tokenNumber",type:"uint256"}],name:"Mint",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"previousAdminRole",type:"bytes32"},{indexed:!0,name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"ids",type:"uint256[]"},{indexed:!1,name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"id",type:"uint256"},{indexed:!1,name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{inputs:[{indexed:!1,name:"value",type:"string"},{indexed:!0,name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MINTER_ROLE",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"_web3Entry",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"},{name:"tokenId",type:"uint256"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"tokenId",type:"uint256"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"accounts",type:"address[]"},{name:"tokenIds",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"tokenId",type:"uint256"},{name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"hasRole",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"},{name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"tokenId",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"address"},{name:"",type:"uint256[]"},{name:"",type:"uint256[]"},{name:"",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"address"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"tokenURI",type:"string"}],name:"setTokenURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"uri",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"}],by=[{inputs:[{indexed:!1,name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"previousAdminRole",type:"bytes32"},{indexed:!0,name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[{indexed:!1,name:"to",type:"address"},{indexed:!1,name:"characterId",type:"uint256"},{indexed:!1,name:"token",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[],name:"ADMIN_ROLE",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ERC1820_REGISTRY",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"TOKENS_RECIPIENT_INTERFACE_HASH",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getToken",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"hasRole",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"web3Entry_",type:"address"},{name:"xsyncOperator_",type:"address"},{name:"token_",type:"address"},{name:"admin_",type:"address"},{name:"tips_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"operator",type:"address"},{name:"",type:"address"},{name:"tokenId",type:"uint256"},{name:"data",type:"bytes"}],name:"onERC721Received",outputs:[{name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"amount",type:"uint256"}],name:"tipCharacter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"toNoteId",type:"uint256"},{name:"amount",type:"uint256"}],name:"tipCharacterForNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"},{name:"userData",type:"bytes"},{name:"operatorData",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"web3Entry",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"characterId",type:"uint256"},{name:"nonce",type:"uint256"},{name:"expires",type:"uint256"},{name:"proof",type:"bytes"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"xsyncOperator",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"}],gy=[{inputs:[],name:"ErrCallerNotCharacterOwner",type:"error"},{inputs:[{indexed:!1,name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!1,name:"token",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"TipCharacter",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!0,name:"toNoteId",type:"uint256"},{indexed:!1,name:"token",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"TipCharacterForNote",type:"event"},{inputs:[],name:"ERC1820_REGISTRY",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"TOKENS_RECIPIENT_INTERFACE_HASH",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getToken",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWeb3Entry",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"web3Entry_",type:"address"},{name:"token_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"},{name:"userData",type:"bytes"},{name:"operatorData",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"nonpayable",type:"function"}],wy=[{inputs:[{indexed:!1,name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!1,name:"token",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"fee",type:"uint256"},{indexed:!1,name:"feeReceiver",type:"address"}],name:"TipCharacter",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!0,name:"toNoteId",type:"uint256"},{indexed:!1,name:"token",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"fee",type:"uint256"},{indexed:!1,name:"feeReceiver",type:"address"}],name:"TipCharacterForNote",type:"event"},{inputs:[],name:"ERC1820_REGISTRY",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"TOKENS_RECIPIENT_INTERFACE_HASH",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"feeReceiver",type:"address"},{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"tipAmount",type:"uint256"}],name:"getFeeAmount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"feeReceiver",type:"address"},{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"getFeeFraction",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getToken",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWeb3Entry",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"web3Entry_",type:"address"},{name:"token_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"feeReceiver",type:"address"},{name:"fraction",type:"uint256"}],name:"setDefaultFeeFraction",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"feeReceiver",type:"address"},{name:"characterId",type:"uint256"},{name:"fraction",type:"uint256"}],name:"setFeeFraction4Character",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"feeReceiver",type:"address"},{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"fraction",type:"uint256"}],name:"setFeeFraction4Note",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"},{name:"userData",type:"bytes"},{name:"operatorData",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"nonpayable",type:"function"}],vy=[{inputs:[{indexed:!0,name:"tipConfigId",type:"uint256"}],name:"CancelTips4Character",type:"event"},{inputs:[{indexed:!0,name:"tipConfigId",type:"uint256"},{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!1,name:"token",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"fee",type:"uint256"},{indexed:!1,name:"feeReceiver",type:"address"},{indexed:!1,name:"currentRound",type:"uint256"}],name:"CollectTips4Character",type:"event"},{inputs:[{indexed:!1,name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{indexed:!0,name:"tipConfigId",type:"uint256"},{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!1,name:"token",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"startTime",type:"uint256"},{indexed:!1,name:"endTime",type:"uint256"},{indexed:!1,name:"interval",type:"uint256"},{indexed:!1,name:"feeReceiver",type:"address"},{indexed:!1,name:"totalRound",type:"uint256"}],name:"SetTipsConfig4Character",type:"event"},{inputs:[{name:"tipConfigId",type:"uint256"}],name:"cancelTips4Character",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tipConfigId",type:"uint256"}],name:"collectTips4Character",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"feeReceiver",type:"address"},{name:"characterId",type:"uint256"},{name:"tipAmount",type:"uint256"}],name:"getFeeAmount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"feeReceiver",type:"address"},{name:"characterId",type:"uint256"}],name:"getFeeFraction",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tipConfigId",type:"uint256"}],name:"getTipsConfig",outputs:[{components:[{name:"id",type:"uint256"},{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"token",type:"address"},{name:"amount",type:"uint256"},{name:"startTime",type:"uint256"},{name:"endTime",type:"uint256"},{name:"interval",type:"uint256"},{name:"feeReceiver",type:"address"},{name:"totalRound",type:"uint256"},{name:"currentRound",type:"uint256"}],name:"config",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"}],name:"getTipsConfigId",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWeb3Entry",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"web3Entry_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"feeReceiver",type:"address"},{name:"fraction",type:"uint256"}],name:"setDefaultFeeFraction",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"feeReceiver",type:"address"},{name:"characterId",type:"uint256"},{name:"fraction",type:"uint256"}],name:"setFeeFraction4Character",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"token",type:"address"},{name:"amount",type:"uint256"},{name:"startTime",type:"uint256"},{name:"endTime",type:"uint256"},{name:"interval",type:"uint256"},{name:"feeReceiver",type:"address"}],name:"setTipsConfig4Character",outputs:[],stateMutability:"nonpayable",type:"function"}],xy=[{inputs:[{name:"name_",type:"string"},{name:"symbol_",type:"string"},{name:"admin",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"tokenHolder",type:"address"}],name:"AuthorizedOperator",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"from",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"operatorData",type:"bytes"}],name:"Burned",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"operatorData",type:"bytes"}],name:"Minted",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"tokenHolder",type:"address"}],name:"RevokedOperator",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"previousAdminRole",type:"bytes32"},{indexed:!0,name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"operatorData",type:"bytes"}],name:"Sent",type:"event"},{inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"BLOCK_ROLE",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"holder",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"operator",type:"address"}],name:"authorizeOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenHolder",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"amount",type:"uint256"},{name:"data",type:"bytes"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[],name:"defaultOperators",outputs:[{name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"granularity",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"hasRole",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"operator",type:"address"},{name:"tokenHolder",type:"address"}],name:"isOperatorFor",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"},{name:"amount",type:"uint256"},{name:"data",type:"bytes"},{name:"operatorData",type:"bytes"}],name:"operatorBurn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"},{name:"data",type:"bytes"},{name:"operatorData",type:"bytes"}],name:"operatorSend",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"operator",type:"address"}],name:"revokeOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"},{name:"data",type:"bytes"}],name:"send",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"holder",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],Gu=[{inputs:[],name:"ErrCallerNotWeb3Entry",type:"error"},{inputs:[],name:"ErrCallerNotWeb3EntryOrNotOwner",type:"error"},{inputs:[],name:"ErrTokenNotExists",type:"error"},{inputs:[{indexed:!0,name:"from",type:"uint256"},{indexed:!0,name:"tokenId",type:"uint256"}],name:"Burn",type:"event"},{inputs:[{indexed:!1,name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{indexed:!0,name:"tokenId",type:"uint256"},{indexed:!0,name:"newlinkType",type:"bytes32"}],name:"LinkTypeSet",type:"event"},{inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{indexed:!0,name:"tokenId",type:"uint256"},{indexed:!1,name:"uri",type:"string"}],name:"UriSet",type:"event"},{inputs:[{name:"tokenId",type:"uint256"}],name:"Uri",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"Web3Entry",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"ethAddress",type:"address"}],name:"addLinkingAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"toUri",type:"string"}],name:"addLinkingAnyUri",outputs:[{name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"toCharacterId",type:"uint256"}],name:"addLinkingCharacterId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"addLinkingERC721",outputs:[{name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"linklistId",type:"uint256"}],name:"addLinkingLinklistId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"toNoteId",type:"uint256"}],name:"addLinkingNote",outputs:[{name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"characterOwnerOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getCurrentTakeOver",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkType",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingAddressListLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingAddresses",outputs:[{name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingAnyListLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingAnyUri",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingAnyUriKeys",outputs:[{name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingAnyUris",outputs:[{name:"results",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingCharacterIds",outputs:[{name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingCharacterListLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingERC721",outputs:[{components:[{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingERC721ListLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingERC721s",outputs:[{components:[{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingLinklistIds",outputs:[{name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingLinklistLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingNote",outputs:[{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingNoteListLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingNotes",outputs:[{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getOwnerCharacterId",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"name_",type:"string"},{name:"symbol_",type:"string"},{name:"web3Entry_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"mint",outputs:[{name:"tokenId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"ethAddress",type:"address"}],name:"removeLinkingAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"toUri",type:"string"}],name:"removeLinkingAnyUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"toCharacterId",type:"uint256"}],name:"removeLinkingCharacterId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"removeLinkingERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"linklistId",type:"uint256"}],name:"removeLinkingLinklistId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"toNoteId",type:"uint256"}],name:"removeLinkingNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"setLinkType",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"uri",type:"string"}],name:"setUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Ay="[crossbell]",U6=globalThis?.process?.env?.NODE_ENV==="production";function z6(...e){U6||console.log(Ay,...e)}function Ey(...e){console.warn(Ay,...e)}function ky(e){const t=e;return t.startsWith("ws")?j6(t,{timeout:3e4,key:"crossbell",name:"crossbell",retryCount:5,retryDelay:5e3}):iA(t,{timeout:3e4,key:"crossbell",name:"crossbell"})}function q6(e,t){const n=ky(t??e.rpcUrls.default.http[0]);return E6({transport:n,chain:e,pollingInterval:100})}function H6(e,t,n){const r=ky(n??t.rpcUrls.default.http[0]);return my({transport:r,chain:t,account:e,pollingInterval:100})}function G6(e){if("selectedAddress"in e&&e.selectedAddress)return ri(e.selectedAddress);if("send"in e&&typeof e.send=="function"){const t=e.send({method:"eth_accounts"});if(t?.result?.[0])return ri(t.result[0])}}function V6(e,t,n){return my({transport:nA(e),chain:n,account:t,pollingInterval:100})}function ue(e,t,{throwOnMultipleLogsFound:n,returnMultipleLogs:r}={}){const a=e.map(i=>{try{return Di({abi:[...Yi,...Gu],...i})}catch{return}}).filter(i=>i?.eventName===t);if(a.length===0)throw new Error(`Log with topic ${t} not found`);if(n&&a.length>1)throw new Error(`More than one log with topic ${a} found`);return r?a:a[0]}function ri(e){return typeof e=="string"?{type:"json-rpc",address:e}:e}async function K(e,t){return V1.backOff(()=>e.waitForTransactionReceipt({hash:t}),{retry:(n,r)=>(z6("retrying waitForTransactionReceipt",{hash:t,i:r,e:n}),!0),numOfAttempts:6,timeMultiple:2,startingDelay:100})}var K6=new Set(["0x8589427373d6d84e98730d7795d8f6f8731fda16","0x722122df12d4e14e13ac3b6895a86e84145b6967","0xdd4c48c0b24039969fc16d1cdf626eab821d3384","0xd90e2f925da726b50c4ed8d0fb90ad053324f31b","0xd96f2b1c14db8458374d9aca76e26c3d18364307","0x4736dcf1b7a3d580672cce6e7c65cd5cc9cfba9d","0xd4b88df4d29f5cedd6857912842cff3b20c8cfa3","0x910cbd523d972eb0a6f4cae4618ad62622b39dbf","0xa160cdab225685da1d56aa342ad8841c3b53f291","0xfd8610d20aa15b7b2e3be39b396a1bc3516c7144","0xf60dd140cff0706bae9cd734ac3ae76ad9ebc32a","0x22aaa7720ddd5388a3c0a3333430953c68f1849b","0xba214c1c1928a32bffe790263e38b4af9bfcd659","0xb1c8094b234dce6e03f10a5b673c1d8c69739a00","0x527653ea119f3e6a1f5bd18fbf4714081d7b31ce","0x58e8dcc13be9780fc42e8723d8ead4cf46943df2","0xd691f27f38b395864ea86cfc7253969b409c362d","0xaeaac358560e11f52454d997aaff2c5731b6f8a6","0x1356c899d8c9467c7f71c195612f8a395abf2f0a","0xa60c772958a3ed56c1f15dd055ba37ac8e523a0d","0x169ad27a470d064dede56a2d3ff727986b15d52b","0x0836222f2b2b24a3f36f98668ed8f0b38d1a872f","0xf67721a2d8f736e75a49fdd7fad2e31d8676542a","0x9ad122c22b14202b4490edaf288fdb3c7cb3ff5e","0x905b63fff465b9ffbf41dea908ceb12478ec7601","0x07687e702b410fa43f4cb4af7fa097918ffd2730","0x94a1b5cdb22c43faab4abeb5c74999895464ddaf","0xb541fc07bc7619fd4062a54d96268525cbc6ffef","0x12d66f87a04a9e220743712ce6d9bb1b5616b8fc","0x47ce0c6ed5b0ce3d3a51fdb1c52dc66a7c3c2936","0x23773e65ed146a459791799d01336db287f25334","0xd21be7248e0197ee08e0c20d4a96debdac3d20af","0x610b717796ad172b316836ac95a2ffad065ceab4","0x178169b423a011fff22b9e3f3abea13414ddd0f1","0xbb93e510bbcd0b7beb5a853875f9ec60275cf498","0x2717c5e28cf931547b621a5dddb772ab6a35b701","0x03893a7c7463ae47d46bc7f091665f1893656003","0xca0840578f57fe71599d29375e16783424023357","0x58e8dcc13be9780fc42e8723d8ead4cf46943df2","0x8589427373d6d84e98730d7795d8f6f8731fda16","0x722122df12d4e14e13ac3b6895a86e84145b6967","0xdd4c48c0b24039969fc16d1cdf626eab821d3384","0xd90e2f925da726b50c4ed8d0fb90ad053324f31b","0xd96f2b1c14db8458374d9aca76e26c3d18364307","0x4736dcf1b7a3d580672cce6e7c65cd5cc9cfba9d"]),Q6=e=>K6.has(e.toLowerCase()),W6=e=>{if(Q6(e))throw new Error(`This address ${e} is in the U.S. SDN list. All transactions from this address will be rejected. Info: https://home.treasury.gov/policy-issues/financial-sanctions/recent-actions/20220808`)},bt="0x0000000000000000000000000000000000000000";function ve(e){if(Array.isArray(e))for(const t of e)ve(t);else W6(e)}var Qs=void 0,Od=0;async function J6({type:e}={}){const t=Date.now(),n=t-Od>60*1e3;let r=[];return!Qs||n?(r=await fetch("https://raw.githubusercontent.com/Crossbell-Box/Crossbell-Contracts/main/deployments/modules.json").then(a=>a.json()),Qs=r,Od=t):r=Qs,e?r.filter(a=>a.type===e):r}async function Z6(e){return(await J6()).find(n=>Yn(n.address,e))}async function Dn(e){if(!e)return{address:bt,initData:bt};const t=await Z6(e.address);if(!t)throw new Error(`Invalid module address ${e.address}`);const n=qe(t.initDataStructure.map(r=>({type:r.type})),e.data);return{address:e.address,initData:n}}function Ws(e,{disallowAddress:t=!1}={}){return typeof e!="string"?{valid:!1,code:"notAString",message:"Handle must be a string."}:e.length===42&&e.startsWith("0x")?t?{valid:!1,code:"shouldNotBeAddress",message:"Handle must not be an Ethereum address."}:{valid:!0,code:"valid",message:null}:e.length<3||e.length>31?{valid:!1,code:"invalidLength",message:"Handle must be between 3 and 31 characters."}:/^[\d_a-z-]+$/i.test(e)?{valid:!0,code:"valid",message:null}:{valid:!1,code:"invalidChars",message:"Handle must only contain [a-z0-9-_]."}}function Y6(e){if(typeof e=="string"){if(!ye(e,{strict:!1}))throw new Ae({address:e});return{address:e,type:"json-rpc"}}if(!ye(e.address,{strict:!1}))throw new Ae({address:e.address});return{address:e.address,nonceManager:e.nonceManager,sign:e.sign,signAuthorization:e.signAuthorization,signMessage:e.signMessage,signTransaction:e.signTransaction,signTypedData:e.signTypedData,source:"custom",type:"local"}}let X6=!1;async function la({hash:e,privateKey:t,to:n="object"}){const{r,s:a,recovery:i}=Zi.sign(e.slice(2),t.slice(2),{lowS:!0,extraEntropy:X6}),s={r:F(r,{size:32}),s:F(a,{size:32}),v:i?28n:27n,yParity:i};return n==="bytes"||n==="hex"?dy({...s,to:n}):s}async function eE(e){const{chainId:t,nonce:n,privateKey:r,to:a="object"}=e,i=e.contractAddress??e.address,s=await la({hash:Jm({address:i,chainId:t,nonce:n}),privateKey:r,to:a});return a==="object"?{address:i,chainId:t,nonce:n,...s}:s}async function tE({message:e,privateKey:t}){return await la({hash:Du(e),privateKey:t,to:"hex"})}async function nE(e){const{privateKey:t,transaction:n,serializer:r=Xw}=e,a=n.type==="eip4844"?{...n,sidecars:!1}:n,i=await la({hash:ie(r(a)),privateKey:t});return r(n,i)}async function rE(e){const{privateKey:t,...n}=e;return await la({hash:Oh(n),privateKey:t,to:"hex"})}function aE(e,t={}){const{nonceManager:n}=t,r=Ue(Zi.getPublicKey(e.slice(2),!1)),a=Qm(r);return{...Y6({address:a,nonceManager:n,async sign({hash:s}){return la({hash:s,privateKey:e,to:"hex"})},async signAuthorization(s){return eE({...s,privateKey:e})},async signMessage({message:s}){return tE({message:s,privateKey:e})},async signTransaction(s,{serializer:o}={}){return nE({privateKey:e,transaction:s,serializer:o})},async signTypedData(s){return rE({...s,privateKey:e})}}),publicKey:r,source:"privateKey"}}var Js,$d;function iE(){if($d)return Js;$d=1;class e{constructor(r){this.value=r,this.next=void 0}}class t{constructor(){this.clear()}enqueue(r){const a=new e(r);this._head?(this._tail.next=a,this._tail=a):(this._head=a,this._tail=a),this._size++}dequeue(){const r=this._head;if(r)return this._head=this._head.next,this._size--,r.value}clear(){this._head=void 0,this._tail=void 0,this._size=0}get size(){return this._size}*[Symbol.iterator](){let r=this._head;for(;r;)yield r.value,r=r.next}}return Js=t,Js}var Zs,_d;function sE(){if(_d)return Zs;_d=1;const e=iE();return Zs=n=>{if(!((Number.isInteger(n)||n===1/0)&&n>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");const r=new e;let a=0;const i=()=>{a--,r.size>0&&r.dequeue()()},s=async(u,l,...d)=>{a++;const p=(async()=>u(...d))();l(p);try{await p}catch{}i()},o=(u,l,...d)=>{r.enqueue(s.bind(null,u,l,...d)),(async()=>(await Promise.resolve(),a<n&&r.size>0&&r.dequeue()()))()},c=(u,...l)=>new Promise(d=>{o(u,d,...l)});return Object.defineProperties(c,{activeCount:{get:()=>a},pendingCount:{get:()=>r.size},clearQueue:{value:()=>{r.clear()}}}),c},Zs}var oE=sE();const cE=ki(oE);var uE={};Vm(uE,{BaseContract:()=>Iy,CbtContract:()=>es,CharacterContract:()=>ot,CsbContract:()=>Vu,LinkContract:()=>Ee,LinkModuleContract:()=>ts,MintModuleContract:()=>Ku,NoteContract:()=>Te,OperatorContract:()=>Xi,RevisionContract:()=>Cy,TipsContract:()=>er});var lE=ZA({source:YA()}),Iy=class{publicClient;walletClient;#e;get account(){return this.#e}set account(e){this.#e=typeof e=="string"?ri(e):e,this.walletClient&&(this.walletClient.account=this.#e)}options;contract;linklistContract;newbieVillaContract;peripheryContract;cbtContract;miraContract;tipsContract;tipsWithConfigContract;tipsWithFeeContract;constructor(e,t){this.options=this.#n(t),this.#r(),this.#a(e),this.#i()}#n(e){const t=e?.chain==="mainnet"?zl:e?.chain==="testnet"?Zl:e?.chain??zl;return{account:this.account,gasPrice:e?.gasPrice??10n**9n,gCsbAsGas:e?.gCsbAsGas??"asDefault",contractAddresses:{entry:pt.ENTRY,periphery:pt.PERIPHERY,cbt:pt.CBT,tips:pt.TIPS,tipsWithConfig:pt.TIPS_WITH_CONFIG,tipsWithFee:pt.TIPS_WITH_FEE,mira:pt.MIRA,newbieVilla:pt.NEWBIE_VILLA,linklist:pt.LINKLIST,gcsb:pt.GCSB,...e?.contractAddresses},chain:t,rpcUrl:e?.rpcUrl??t.rpcUrls.default.http[0]}}#r(){this.publicClient=q6(this.options.chain,this.options.rpcUrl)}#a(e){if(typeof e=="string"){const t=aE(e,{nonceManager:lE});this.#e=t,this.walletClient=H6(t,this.options.chain,this.options.rpcUrl)}else if(e&&typeof e=="object"){const t=e;this.#e=this.options.account?ri(this.options.account):G6(t),this.options?.account||t.on("accountsChanged",n=>{this.account=n[0]}),this.walletClient=V6(t,this.account,this.options.chain)}}#i(){this.contract=this.#t(Ct({address:this.options.contractAddresses.entry,abi:Yi,client:{public:this.publicClient,wallet:this.walletClient}})),this.linklistContract=this.#t(Ct({address:this.options.contractAddresses.linklist,abi:Gu,client:{public:this.publicClient,wallet:this.walletClient}})),this.newbieVillaContract=this.#t(Ct({address:this.options.contractAddresses.newbieVilla,abi:by,client:{public:this.publicClient,wallet:this.walletClient}})),this.peripheryContract=this.#t(Ct({address:this.options.contractAddresses.periphery,abi:hy,client:{public:this.publicClient,wallet:this.walletClient}})),this.cbtContract=this.#t(Ct({address:this.options.contractAddresses.cbt,abi:yy,client:{public:this.publicClient,wallet:this.walletClient}})),this.miraContract=this.#t(Ct({address:this.options.contractAddresses.mira,abi:xy,client:{public:this.publicClient,wallet:this.walletClient}})),this.tipsContract=this.#t(Ct({address:this.options.contractAddresses.tips,abi:gy,client:{public:this.publicClient,wallet:this.walletClient}})),this.tipsWithConfigContract=this.#t(Ct({address:this.options.contractAddresses.tipsWithConfig,abi:vy,client:{public:this.publicClient,wallet:this.walletClient}})),this.tipsWithFeeContract=this.#t(Ct({address:this.options.contractAddresses.tipsWithFee,abi:wy,client:{public:this.publicClient,wallet:this.walletClient}}))}async#s(){return await this.publicClient.readContract({abi:Ox,functionName:"balanceOf",args:[this.account.address],address:this.options.contractAddresses.gcsb})>=10n**18n}#t(e){return e.write&&(e.write=new Proxy(e.write,{get:(...t)=>new Proxy(Reflect.get(...t),{apply:async(n,r,a)=>{const i=a.length>0&&Array.isArray(a[0]),s={...(i?a[1]:a[0])??{}};return this.options.chain.id===Zl.id?s.gasPrice||(typeof this.options.gasPrice=="bigint"&&(s.gasPrice=this.options.gasPrice),this.options.gCsbAsGas===!0?s.gasPrice=0n:this.options.gCsbAsGas===!1||this.options.gCsbAsGas==="asDefault"&&await this.#s()&&(s.gasPrice=0n)):typeof this.options.gasPrice=="bigint"&&(s.gasPrice=this.options.gasPrice),a[i?1:0]=s,Reflect.apply(n,r,a)}})})),e}};function W(){return(e,t,n)=>{const r=n.value;return n.value=async function(...a){const i=async()=>{const s=this.base.walletClient;if(!s)return;const o=await s.getChainId(),c=this.base.walletClient.chain.id;o===c||(Ey("You're not on the crossbell chain. Switching to crossbell chain."),await s.switchChain({id:c}))};try{await i()}catch{await i()}return r?.apply(this,a)},n}}var Vu=class{constructor(e){this.base=e}async getBalance({owner:e}){return ve(e),{data:await this.base.publicClient.getBalance({address:e})}}async transfer({toAddress:e,amount:t}){if(ve(e),!this.base.walletClient)throw new Error("No walletClient found. You must be connected to a wallet to transfer $CSB. Currently You might be using a read-only provider.");const n=await this.base.walletClient.sendTransaction({account:this.base.account,to:e,value:BigInt(t)}),r=await K(this.base.publicClient,n);return{data:{},transactionHash:r.transactionHash}}};Q([W()],Vu.prototype,"transfer");var Ee=class{constructor(e){this.base=e}async linkCharacter({fromCharacterId:e,toCharacterId:t,linkType:n,data:r},a={}){const i=await this.base.contract.write.linkCharacter([{fromCharacterId:BigInt(e),toCharacterId:BigInt(t),linkType:ae(n,{size:32}),data:r??bt}],a),s=await K(this.base.publicClient,i);return{data:ue(s.logs,"LinkCharacter").args.linklistId,transactionHash:s.transactionHash}}async linkCharactersInBatch({fromCharacterId:e,toCharacterIds:t,toAddresses:n,linkType:r,data:a},i={}){ve(n);const s=await this.base.peripheryContract.write.linkCharactersInBatch([{fromCharacterId:BigInt(e),toCharacterIds:t.map(u=>BigInt(u)),toAddresses:n,linkType:ae(r,{size:32}),data:a??t.map(()=>bt)}],i),o=await K(this.base.publicClient,s);return{data:ue(o.logs,"LinkCharacter",{throwOnMultipleLogsFound:!1}).args.linklistId,transactionHash:o.transactionHash}}async getLinklistIdByTransaction({hash:e}){const t=await this.base.publicClient.getTransactionReceipt({hash:e});return{data:ue(t.logs,"LinkCharacter").args.linklistId}}async createThenLinkCharacter({fromCharacterId:e,toAddress:t,linkType:n},r={}){ve(t);const a=await this.base.contract.write.createThenLinkCharacter([{fromCharacterId:BigInt(e),to:t,linkType:ae(n,{size:32})}],r),i=await K(this.base.publicClient,a),s=ue(i.logs,"CharacterCreated"),o=ue(i.logs,"LinkCharacter");return{data:{toCharacterId:s.args.characterId,linklistId:o.args.linklistId},transactionHash:i.transactionHash}}async unlinkCharacter({fromCharacterId:e,toCharacterId:t,linkType:n},r={}){const a=await this.base.contract.write.unlinkCharacter([{fromCharacterId:BigInt(e),toCharacterId:BigInt(t),linkType:ae(n,{size:32})}],r);return{data:void 0,transactionHash:(await K(this.base.publicClient,a)).transactionHash}}async getLinkingCharacterIds({linklistId:e,fromCharacterId:t,linkType:n},r={}){return e?{data:(await this.base.linklistContract.read.getLinkingCharacterIds([BigInt(e)],r)).map(s=>s)}:{data:(await this.base.peripheryContract.read.getLinkingCharacterIds([BigInt(t),ae(n,{size:32})],r)).map(i=>i)}}async getLinkingCharacters({fromCharacterId:e,linkType:t},n={}){const r=await this.base.peripheryContract.read.getLinkingCharacterIds([BigInt(e),ae(t,{size:32})],n);return{data:(await Promise.all(r.map(i=>this.base.character.get({characterId:i})))).map(i=>i.data)}}async linkAddress({fromCharacterId:e,toAddress:t,linkType:n,data:r=bt},a={}){const i=await this.base.contract.write.linkAddress([{fromCharacterId:BigInt(e),ethAddress:t,linkType:ae(n,{size:32}),data:r}],a),s=await K(this.base.publicClient,i);return{data:ue(s.logs,"LinkAddress").args.linklistId,transactionHash:s.transactionHash}}async unlinkAddress({fromCharacterId:e,toAddress:t,linkType:n},r={}){const a=await this.base.contract.write.unlinkAddress([{fromCharacterId:BigInt(e),ethAddress:t,linkType:ae(n,{size:32})}],r);return{data:void 0,transactionHash:(await K(this.base.publicClient,a)).transactionHash}}async linkAnyUri({fromCharacterId:e,toUri:t,linkType:n,data:r=bt},a={}){const i=await this.base.contract.write.linkAnyUri([{fromCharacterId:BigInt(e),toUri:t,linkType:ae(n,{size:32}),data:r}],a),s=await K(this.base.publicClient,i);return{data:ue(s.logs,"LinkAnyUri").args.linklistId,transactionHash:s.transactionHash}}async unlinkAnyUri({fromCharacterId:e,toUri:t,linkType:n},r={}){const a=await this.base.contract.write.unlinkAnyUri([{fromCharacterId:BigInt(e),toUri:t,linkType:ae(n,{size:32})}],r);return{data:void 0,transactionHash:(await K(this.base.publicClient,a)).transactionHash}}async linkErc721({fromCharacterId:e,toContractAddress:t,toTokenId:n,linkType:r,data:a=bt},i={}){const s=await this.base.contract.write.linkERC721([{fromCharacterId:BigInt(e),tokenAddress:t,tokenId:BigInt(n),linkType:ae(r,{size:32}),data:a}],i),o=await K(this.base.publicClient,s);return{data:ue(o.logs,"LinkAnyUri").args.linklistId,transactionHash:o.transactionHash}}async unlinkErc721({fromCharacterId:e,toContractAddress:t,toTokenId:n,linkType:r},a={}){const i=await this.base.contract.write.unlinkERC721([{fromCharacterId:BigInt(e),tokenAddress:t,tokenId:BigInt(n),linkType:ae(r,{size:32})}],a);return{data:void 0,transactionHash:(await K(this.base.publicClient,i)).transactionHash}}async linkNote({fromCharacterId:e,toCharacterId:t,toNoteId:n,linkType:r,data:a},i={}){const s=await this.base.contract.write.linkNote([{fromCharacterId:BigInt(e),toCharacterId:BigInt(t),toNoteId:BigInt(n),linkType:ae(r,{size:32}),data:a??bt}],i),o=await K(this.base.publicClient,s);return{data:ue(o.logs,"LinkNote").args.linklistId,transactionHash:o.transactionHash}}async unlinkNote({fromCharacterId:e,toCharacterId:t,toNoteId:n,linkType:r},a={}){const i=await this.base.contract.write.unlinkNote([{fromCharacterId:BigInt(e),toCharacterId:BigInt(t),toNoteId:BigInt(n),linkType:ae(r,{size:32})}],a);return{data:void 0,transactionHash:(await K(this.base.publicClient,i)).transactionHash}}async linkLinklist({fromCharacterId:e,toLinkListId:t,linkType:n,data:r=bt},a={}){const i=await this.base.contract.write.linkLinklist([{fromCharacterId:BigInt(e),toLinkListId:BigInt(t),linkType:ae(n,{size:32}),data:r}],a),s=await K(this.base.publicClient,i);return{data:ue(s.logs,"LinkNote").args.linklistId,transactionHash:s.transactionHash}}async unlinkLinklist({fromCharacterId:e,toLinklistId:t,linkType:n},r={}){const a=await this.base.contract.write.unlinkLinklist([{fromCharacterId:BigInt(e),toLinkListId:BigInt(t),linkType:ae(n,{size:32})}],r);return{data:void 0,transactionHash:(await K(this.base.publicClient,a)).transactionHash}}async setLinklistUri({linklistId:e,uri:t},n={}){const r=await this.base.contract.write.setLinklistUri([BigInt(e),t],n);return{data:void 0,transactionHash:(await K(this.base.publicClient,r)).transactionHash}}async getLinklistUri({linklistId:e},t={}){return{data:await this.base.contract.read.getLinklistUri([BigInt(e)],t)}}async setLinklistType({linklistId:e,linkType:t},n={}){const r=await this.base.contract.write.setLinklistType([BigInt(e),ae(t,{size:32})],n);return{data:void 0,transactionHash:(await K(this.base.publicClient,r)).transactionHash}}async burnLinklist({linklistId:e},t={}){const n=await this.base.contract.write.burnLinklist([BigInt(e)],t);return{data:void 0,transactionHash:(await K(this.base.publicClient,n)).transactionHash}}};Q([W()],Ee.prototype,"linkCharacter");Q([W()],Ee.prototype,"linkCharactersInBatch");Q([W()],Ee.prototype,"createThenLinkCharacter");Q([W()],Ee.prototype,"unlinkCharacter");Q([W()],Ee.prototype,"linkAddress");Q([W()],Ee.prototype,"unlinkAddress");Q([W()],Ee.prototype,"linkAnyUri");Q([W()],Ee.prototype,"unlinkAnyUri");Q([W()],Ee.prototype,"linkErc721");Q([W()],Ee.prototype,"unlinkErc721");Q([W()],Ee.prototype,"linkNote");Q([W()],Ee.prototype,"unlinkNote");Q([W()],Ee.prototype,"linkLinklist");Q([W()],Ee.prototype,"unlinkLinklist");async function jt({linkModule:e,mintModule:t,characterId:n,metadataOrUri:r,locked:a=!1}){const{uri:i}=await wr("note",r),s=await Dn(e),o=await Dn(t);return{characterId:BigInt(n),contentUri:i,linkModule:s.address,linkModuleInitData:s.initData,mintModule:o.address,mintModuleInitData:o.initData,locked:a}}var Te=class{constructor(e){this.base=e}async post(e,t={}){const n=await jt(e),r=await this.base.contract.write.postNote([n],t),a=await K(this.base.publicClient,r);return{data:{noteId:ue(a.logs,"PostNote").args.noteId},transactionHash:a.transactionHash}}async postMany({notes:e},t={}){const n=cE(10),r=await Promise.all(e.map(({options:c,characterId:u,metadataOrUri:l})=>n(async()=>{const d=await jt({...c,characterId:u,metadataOrUri:l});return Qe({abi:Yi,functionName:"postNote",args:[d]})}))),a=await this.base.contract.write.multicall([r],t),i=await K(this.base.publicClient,a);return{data:{noteIds:ue(i.logs,"PostNote",{throwOnMultipleLogsFound:!1,returnMultipleLogs:!0}).map(c=>c.args.noteId)},transactionHash:i.transactionHash}}async postForAnyUri({targetUri:e,...t},n={}){const r=await jt(t),a=await this.base.contract.write.postNote4AnyUri([r,e],n),i=await K(this.base.publicClient,a);return{data:{noteId:ue(i.logs,"PostNote").args.noteId},transactionHash:i.transactionHash}}async postForNote({targetCharacterId:e,targetNoteId:t,...n},r={}){const a=await jt(n),i=await this.base.contract.write.postNote4Note([a,{characterId:BigInt(e),noteId:BigInt(t)}],r),s=await K(this.base.publicClient,i);return{data:{noteId:ue(s.logs,"PostNote").args.noteId},transactionHash:s.transactionHash}}async postForCharacter({toCharacterId:e,...t},n={}){const r=await jt(t),a=await this.base.contract.write.postNote4Character([r,BigInt(e)],n),i=await K(this.base.publicClient,a);return{data:{noteId:ue(i.logs,"PostNote").args.noteId},transactionHash:i.transactionHash}}async postForLinklist({toLinklistId:e,...t},n={}){const r=await jt(t),a=await this.base.contract.write.postNote4Linklist([r,BigInt(e)],n),i=await K(this.base.publicClient,a);return{data:{noteId:ue(i.logs,"PostNote").args.noteId},transactionHash:i.transactionHash}}async postForAddress({toAddress:e,...t},n={}){const r=await jt(t),a=await this.base.contract.write.postNote4Address([r,e],n),i=await K(this.base.publicClient,a);return{data:{noteId:ue(i.logs,"PostNote").args.noteId},transactionHash:i.transactionHash}}async postForERC721({tokenAddress:e,tokenId:t,...n},r={}){const a=await jt(n),i=await this.base.contract.write.postNote4ERC721([a,{tokenAddress:e,erc721TokenId:BigInt(t)}],r),s=await K(this.base.publicClient,i);return{data:{noteId:ue(s.logs,"PostNote").args.noteId},transactionHash:s.transactionHash}}async setUri({characterId:e,noteId:t,metadataOrUri:n},r={}){const{uri:a,metadata:i}=await wr("note",n,!0),s=await this.base.contract.write.setNoteUri([BigInt(e),BigInt(t),a],r),o=await K(this.base.publicClient,s);return{data:{uri:a,metadata:i},transactionHash:o.transactionHash}}async changeMetadata({characterId:e,noteId:t,modifier:n},r={}){const a=await this.get({characterId:e,noteId:t}),i=n(a.data.metadata);if(typeof i>"u")throw new TypeError("The modified metadata is undefined. Did you return it?");return i.type||(i.type="note"),this.setMetadata({characterId:e,noteId:t,metadata:i},r)}setMetadata({characterId:e,noteId:t,metadata:n},r={}){return this.setUri({characterId:e,noteId:t,metadataOrUri:n},r)}async get({characterId:e,noteId:t,linkItemType:n},r={}){const a=await this.base.contract.read.getNote([BigInt(e),BigInt(t)],r),i=H0(a.linkItemType,{size:32})||void 0,s=a.contentUri?await nu(a.contentUri):void 0;let o;const c=this.base.peripheryContract.read;if(n==="AnyUri")o={uri:await c.getLinkingAnyUri([a.linkKey])};else if(n==="ERC721"){const u=await c.getLinkingERC721([a.linkKey]);o={contractAddress:u.tokenAddress,tokenId:u.erc721TokenId.toString()}}else if(n==="Address")o={address:await c.getLinkingAddress([a.linkKey])};else if(n==="Character")o={characterId:await c.getLinkingCharacterId([a.linkKey])};else if(n==="Note"){const u=await c.getLinkingNote([a.linkKey]);o={characterId:u.characterId,noteId:u.noteId}}else n==="Linklist"?o={linklistId:await c.getLinkingLinklistId([a.linkKey])}:o=void 0;return{data:{characterId:BigInt(e),noteId:BigInt(t),contentUri:a.contentUri,metadata:s,linkItemType:a.linkItemType,linkItemTypeString:i,linkItem:o,linkKey:a.linkKey,linkModule:a.linkModule,contractAddress:a.mintNFT,mintModule:a.mintModule,deleted:a.deleted,locked:a.locked}}}async delete({characterId:e,noteId:t},n={}){const r=await this.base.contract.write.deleteNote([BigInt(e),BigInt(t)],n);return{data:void 0,transactionHash:(await K(this.base.publicClient,r)).transactionHash}}async lock({characterId:e,noteId:t},n={}){const r=await this.base.contract.write.lockNote([BigInt(e),BigInt(t)],n);return{data:void 0,transactionHash:(await K(this.base.publicClient,r)).transactionHash}}async mint({characterId:e,noteId:t,toAddress:n},r={}){ve(n);const a=await this.base.contract.write.mintNote([{characterId:BigInt(e),noteId:BigInt(t),to:n,mintModuleData:bt}],r),i=await K(this.base.publicClient,a),s=ue(i.logs,"MintNote");return{data:{contractAddress:s.args.tokenAddress,tokenId:s.args.tokenId},transactionHash:i.transactionHash}}getLinkKeyForCharacter({toCharacterId:e}){return ie(En(["string","uint"],["Character",BigInt(e)]))}getLinkKeyForAddress({toAddress:e}){return ve(e),ie(En(["string","address"],["Address",e]))}getLinkKeyForNote({toCharacterId:e,toNoteId:t}){return ie(En(["string","uint","uint"],["Note",BigInt(e),BigInt(t)]))}getLinkKeyForERC721({toContractAddress:e,toTokenId:t}){return ie(En(["string","address","uint"],["ERC721",e,BigInt(t)]))}getLinkKeyForLinklist({toLinkListId:e}){return ie(En(["string","uint"],["Linklist",BigInt(e)]))}getLinkKeyForAnyUri({toUri:e}){return ie(En(["string","string"],["AnyUri",e]))}};Q([W()],Te.prototype,"post");Q([W()],Te.prototype,"postMany");Q([W()],Te.prototype,"postForAnyUri");Q([W()],Te.prototype,"postForNote");Q([W()],Te.prototype,"postForCharacter");Q([W()],Te.prototype,"postForLinklist");Q([W()],Te.prototype,"postForAddress");Q([W()],Te.prototype,"postForERC721");Q([W()],Te.prototype,"setUri");Q([W()],Te.prototype,"changeMetadata");Q([W()],Te.prototype,"delete");Q([W()],Te.prototype,"lock");Q([W()],Te.prototype,"mint");var ot=class{constructor(e){this.base=e}async create({owner:e,handle:t,metadataOrUri:n,linkModule:r},a={}){ve(e);const{valid:i,message:s}=Ws(t,{disallowAddress:!0});if(!i)throw new TypeError(s);const{uri:o}=await wr("character",n),c=await Dn(r),u=await this.base.contract.write.createCharacter([{to:e,handle:t,uri:o,linkModule:c.address,linkModuleInitData:c.initData}],a),l=await K(this.base.publicClient,u);return{data:ue(l.logs,"CharacterCreated").args.characterId,transactionHash:l.transactionHash}}async setHandle({characterId:e,handle:t},n={}){const{valid:r,message:a}=Ws(t,{disallowAddress:!0});if(!r)throw new TypeError(a);const i=await this.base.contract.write.setHandle([BigInt(e),t],n);return{data:void 0,transactionHash:(await K(this.base.publicClient,i)).transactionHash}}async setUri({characterId:e,metadataOrUri:t},n={}){const{uri:r,metadata:a}=await wr("character",t,!0),i=await this.base.contract.write.setCharacterUri([BigInt(e),r],n),s=await K(this.base.publicClient,i);return{data:{uri:r,metadata:a},transactionHash:s.transactionHash}}setMetadata({characterId:e,metadata:t},n={}){return this.setUri({characterId:e,metadataOrUri:t},n)}async changeMetadata({characterId:e,modifier:t},n={}){const r=await this.get({characterId:e}),a=t(r.data.metadata);if(typeof a>"u")throw new TypeError("The modified metadata is undefined. Did you return it?");return a.type||(a.type="character"),this.setMetadata({characterId:e,metadata:a},n)}async setSocialToken({characterId:e,socialToken:t},n={}){const r=await this.base.contract.write.setSocialToken([BigInt(e),t],n);return{data:void 0,transactionHash:(await K(this.base.publicClient,r)).transactionHash}}async setPrimaryId({characterId:e},t={}){const n=await this.base.contract.write.setPrimaryCharacterId([BigInt(e)],t);return{data:void 0,transactionHash:(await K(this.base.publicClient,n)).transactionHash}}async burn({characterId:e},t={}){const n=await this.base.contract.write.burn([BigInt(e)],t);return{data:void 0,transactionHash:(await K(this.base.publicClient,n)).transactionHash}}async transfer({fromAddress:e,toAddress:t,characterId:n},r={}){ve(t);const a=e??this.base.walletClient.account.address;ve(a);const i=await this.base.contract.write.safeTransferFrom([a,t,BigInt(n)],r);return{data:void 0,transactionHash:(await K(this.base.publicClient,i)).transactionHash}}async getPrimaryId({address:e},t={}){return ve(e),{data:await this.base.contract.read.getPrimaryCharacterId([e],t)}}async isPrimaryId({characterId:e},t={}){return{data:await this.base.contract.read.isPrimaryCharacter([BigInt(e)],t)}}async getByHandle({handle:e},t={}){const n=Ws(e);if(!n.valid)throw new TypeError(n.message);e=e.toLowerCase();const r=await this.base.contract.read.getCharacterByHandle([e],t),a=ff(r.uri?await nu(r.uri):void 0);return{data:{characterId:r.characterId,handle:r.handle,uri:r.uri,metadata:a,socialToken:r.socialToken,noteCount:r.noteCount}}}async get({characterId:e},t={}){const n=await this.base.contract.read.getCharacter([BigInt(e)],t),{metadata:r}=await wr("character",n.uri,!0);return{data:{characterId:n.characterId,handle:n.handle,uri:n.uri,socialToken:n.socialToken,noteCount:n.noteCount,metadata:r}}}async getHandle({characterId:e},t={}){return{data:await this.base.contract.read.getHandle([BigInt(e)],t)}}async getUri({characterId:e},t={}){return{data:await this.base.contract.read.getCharacterUri([BigInt(e)],t)}}async getByTransaction({txHash:e},t={}){const n=await K(this.base.publicClient,e),r=ue(n.logs,"CharacterCreated");return await this.get({characterId:r.args.characterId},t)}async existsForAddress({address:e},t={}){return ve(e),{data:await this.base.contract.read.getPrimaryCharacterId([e],t)!==0n}}async existsForHandle({handle:e},t={}){return{data:(await this.base.contract.read.getCharacterByHandle([e],t)).handle!==""}}async withdrawFromNewbieVilla({toAddress:e,characterId:t,nonce:n,expires:r,proof:a},i={}){ve(e);const s=await this.base.newbieVillaContract.write.withdraw([e,BigInt(t),BigInt(n),BigInt(r),a],i);return{data:void 0,transactionHash:(await K(this.base.publicClient,s)).transactionHash}}balanceOfNewbie({characterId:e},t={}){return this.base.newbieVillaContract.read.balanceOf([BigInt(e)],t)}};Q([W()],ot.prototype,"create");Q([W()],ot.prototype,"setHandle");Q([W()],ot.prototype,"setUri");Q([W()],ot.prototype,"changeMetadata");Q([W()],ot.prototype,"setSocialToken");Q([W()],ot.prototype,"setPrimaryId");Q([W()],ot.prototype,"burn");Q([W()],ot.prototype,"transfer");Q([W()],ot.prototype,"withdrawFromNewbieVilla");var Xi=class{constructor(e){this.base=e}async grantForCharacter({characterId:e,operator:t,permissions:n},r={}){ve(t);const a=this.convertPermissionsToUint256ForCharacter(n),i=await this.base.contract.write.grantOperatorPermissions([BigInt(e),t,a],r),s=await K(this.base.publicClient,i);return{data:{bitmapUint256:ue(s.logs,"GrantOperatorPermissions").args.permissionBitMap},transactionHash:s.transactionHash}}async grantForNote({characterId:e,noteId:t,allowlist:n,blocklist:r=[]},a={}){ve(n),ve(r);const i=await this.base.contract.write.grantOperators4Note([BigInt(e),BigInt(t),r,n],a),s=await K(this.base.publicClient,i);return{data:{},transactionHash:s.transactionHash}}async getForCharacter({characterId:e},t={}){return{data:await this.base.contract.read.getOperators([BigInt(e)],t)}}async getForNote({characterId:e,noteId:t},n={}){const[r,a]=await this.base.contract.read.getOperators4Note([BigInt(e),BigInt(t)],n);return{data:{allowlist:r,blocklist:a}}}async isAllowedForNote({characterId:e,noteId:t,operator:n},r={}){return{data:await this.base.contract.read.isOperatorAllowedForNote([BigInt(e),BigInt(t),n],r)}}async getPermissionsForCharacter({characterId:e,operator:t},n={}){const r=await this.base.contract.read.getOperatorPermissions([BigInt(e),t],n);return{data:this.convertUint256ToPermissionsForCharacter(r)}}convertPermissionsToUint256ForCharacter(e){const t=e.map(a=>{const i=Object.entries(Ys).find(([,s])=>s===a)?.[0];if(!i)throw new Error(`Found invalid permission: ${a}.`);return Number.parseInt(i)}),n=Array.from({length:256}).fill(0);for(const a of t)n[a]=1;return n.reverse(),this.#e(n)}convertUint256ToPermissionsForCharacter(e){return this.#n(e).reverse().map((r,a)=>{if(r===1){if(this.#r(a))return Ys[a];Ey("Found invalid permission bit.",a)}}).filter(Boolean)}#e(e){return e.join("").replace(/^0+/,"").split("").reverse().reduce((n,r,a)=>r==="1"?n+2n**BigInt(a):n,0n)}#n(e){return e.toString(2).padStart(256,"0").split("").map(t=>Number.parseInt(t))}#r(e){return Object.keys(Ys).includes(e.toString())}};Q([W()],Xi.prototype,"grantForCharacter");Q([W()],Xi.prototype,"grantForNote");var Ys={0:"SET_HANDLE",1:"SET_SOCIAL_TOKEN",2:"GRANT_OPERATOR_PERMISSIONS",3:"GRANT_OPERATORS_FOR_NOTE",176:"SET_CHARACTER_URI",177:"SET_LINKLIST_URI",178:"LINK_CHARACTER",179:"UNLINK_CHARACTER",180:"CREATE_THEN_LINK_CHARACTER",181:"LINK_NOTE",182:"UNLINK_NOTE",183:"LINK_ERC721",184:"UNLINK_ERC721",185:"LINK_ADDRESS",186:"UNLINK_ADDRESS",187:"LINK_ANY_URI",188:"UNLINK_ANY_URI",189:"LINK_LINKLIST",190:"UNLINK_LINKLIST",191:"SET_LINK_MODULE_FOR_CHARACTER",192:"SET_LINK_MODULE_FOR_NOTE",193:"SET_LINK_MODULE_FOR_LINKLIST",194:"SET_MINT_MODULE_FOR_NOTE",195:"SET_NOTE_URI",196:"LOCK_NOTE",197:"DELETE_NOTE",198:"POST_NOTE_FOR_CHARACTER",199:"POST_NOTE_FOR_ADDRESS",200:"POST_NOTE_FOR_LINKLIST",201:"POST_NOTE_FOR_NOTE",202:"POST_NOTE_FOR_ERC721",203:"POST_NOTE_FOR_ANY_URI",236:"POST_NOTE"},es=class{constructor(e){this.base=e}async mint({characterId:e,tokenId:t},n={}){const r=await this.base.cbtContract.write.mint([BigInt(e),BigInt(t)],n);return{data:void 0,transactionHash:(await K(this.base.publicClient,r)).transactionHash}}async setTokenUri({tokenId:e,uri:t},n={}){const r=await this.base.cbtContract.write.setTokenURI([BigInt(e),t],n);return{data:void 0,transactionHash:(await K(this.base.publicClient,r)).transactionHash}}async getTokenUri({tokenId:e},t={}){return{data:await this.base.cbtContract.read.uri([BigInt(e)],t)}}};Q([W()],es.prototype,"mint");Q([W()],es.prototype,"setTokenUri");var er=class{constructor(e){this.base=e}async tipCharacter({fromCharacterId:e,toCharacterId:t,amount:n},r={}){const a=qe([{type:"uint256"},{type:"uint256"}],[BigInt(e),BigInt(t)]),i=await this.base.miraContract.write.send([this.base.options.contractAddresses.tips,BigInt(n),a],r);return{data:void 0,transactionHash:(await K(this.base.publicClient,i)).transactionHash}}async tipCharacterFromNewbieVilla({fromCharacterId:e,toCharacterId:t,amount:n},r={}){const a=await this.base.newbieVillaContract.write.tipCharacter([BigInt(e),BigInt(t),BigInt(n)],r);return{data:void 0,transactionHash:(await K(this.base.publicClient,a)).transactionHash}}async tipCharacterForNoteFromNewbieVilla(e,t,n,r,a={}){const i=await this.base.newbieVillaContract.write.tipCharacterForNote([BigInt(e),BigInt(t),BigInt(n),BigInt(r)],a);return{data:void 0,transactionHash:(await K(this.base.publicClient,i)).transactionHash}}async tipCharacterForNote({fromCharacterId:e,toCharacterId:t,toNoteId:n,amount:r},a={}){const i=qe([{type:"uint256"},{type:"uint256"},{type:"uint256"}],[BigInt(e),BigInt(t),BigInt(n)]),s=await this.base.miraContract.write.send([this.base.options.contractAddresses.tips,BigInt(r),i],a);return{data:void 0,transactionHash:(await K(this.base.publicClient,s)).transactionHash}}async getBalanceOfCharacter({characterId:e},t={}){const n=await this.base.contract.read.ownerOf([BigInt(e)],t);return{data:Yn(n,this.base.options.contractAddresses.newbieVilla)?await this.base.newbieVillaContract.read.balanceOf([BigInt(e)],t):await this.base.miraContract.read.balanceOf([n],t)}}async getBalance({address:e},t={}){return{data:await this.base.miraContract.read.balanceOf([e],t)}}async getTokenAddress(e={}){return{data:await this.base.tipsContract.read.getToken(e)}}async getTokenDecimals(e={}){return{data:await this.base.miraContract.read.decimals(e)}}};Q([W()],er.prototype,"tipCharacter");Q([W()],er.prototype,"tipCharacterFromNewbieVilla");Q([W()],er.prototype,"tipCharacterForNoteFromNewbieVilla");Q([W()],er.prototype,"tipCharacterForNote");var Fd=4n,Cy=class{constructor(e){this.base=e}async getLatest(e={}){return{data:await this.base.contract.read.getRevision(e)}}getCurrent(){return{data:Fd}}async check(){const{data:e}=await this.getLatest(),t=Fd;return{data:{isUpToDate:e===t,currentRevision:t,latestRevision:e}}}},ts=class{constructor(e){this.base=e}async setForCharacter({characterId:e,linkModule:t},n={}){const r=await Dn(t),a=await this.base.contract.write.setLinkModule4Character([{characterId:BigInt(e),linkModule:r.address,linkModuleInitData:r.initData}],n);return{data:void 0,transactionHash:(await K(this.base.publicClient,a)).transactionHash}}async setForNote({characterId:e,noteId:t,linkModule:n},r={}){const a=await Dn(n),i=await this.base.contract.write.setLinkModule4Note([{characterId:BigInt(e),noteId:BigInt(t),linkModule:a.address,linkModuleInitData:a.initData}],r);return{data:void 0,transactionHash:(await K(this.base.publicClient,i)).transactionHash}}};Q([W()],ts.prototype,"setForCharacter");Q([W()],ts.prototype,"setForNote");var Ku=class{constructor(e){this.base=e}async setForNote({characterId:e,noteId:t,mintModule:n},r={}){const a=await Dn(n),i=await this.base.contract.write.setMintModule4Note([{characterId:BigInt(e),noteId:BigInt(t),mintModule:a.address,mintModuleInitData:a.initData}],r);return{data:void 0,transactionHash:(await K(this.base.publicClient,i)).transactionHash}}};Q([W()],Ku.prototype,"setForNote");var Qu=class{constructor(e){this.base=e}async tipCharacter({fromCharacterId:e,toCharacterId:t,amount:n,feeReceiver:r},a={}){const i=qe([{type:"uint256"},{type:"uint256"},{type:"address"}],[BigInt(e),BigInt(t),r]),s=await this.base.miraContract.write.send([this.base.options.contractAddresses.tipsWithFee,BigInt(n),i],a);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:s})).transactionHash}}async tipCharacterForNote({fromCharacterId:e,toCharacterId:t,toNoteId:n,amount:r,feeReceiver:a},i={}){const s=qe([{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"address"}],[BigInt(e),BigInt(t),BigInt(n),a]),o=await this.base.miraContract.write.send([this.base.options.contractAddresses.tipsWithFee,BigInt(r),s],i);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:o})).transactionHash}}async getFeeFraction(e,t,n,r={}){return{data:await this.base.tipsWithFeeContract.read.getFeeFraction([e,BigInt(t),BigInt(n)],r)}}async getFeeAmount(e,t,n,r,a={}){return{data:await this.base.tipsWithFeeContract.read.getFeeAmount([e,BigInt(t),BigInt(n),BigInt(r)],a)}}};Q([W()],Qu.prototype,"tipCharacter");Q([W()],Qu.prototype,"tipCharacterForNote");var dE=class extends Iy{csb=new Vu(this);character=new ot(this);link=new Ee(this);cbt=new es(this);note=new Te(this);operator=new Xi(this);tips=new er(this);tipsWithFee=new Qu(this);revision=new Cy(this);linkModule=new ts(this);mintModule=new Ku(this)};function ns(e,t){return new dE(e,t)}var Xs={},eo,Ld;function pE(){if(Ld)return eo;Ld=1;const e=Symbol("values"),t=Symbol("kStorage"),n=Symbol("kStorages"),r=Symbol("kTransformer"),a=Symbol("kTTL"),i=Symbol("kOnDedupe"),s=Symbol("kOnError"),o=Symbol("kOnHit"),c=Symbol("kOnMiss"),u=Symbol("kStale");return eo={kValues:e,kStorage:t,kStorages:n,kTransfromer:r,kTTL:a,kOnDedupe:i,kOnError:s,kOnHit:o,kOnMiss:c,kStale:u},eo}var Oa={exports:{}},jd;function Py(){return jd||(jd=1,function(e,t){const{hasOwnProperty:n}=Object.prototype,r=b();r.configure=b,r.stringify=r,r.default=r,t.stringify=r,t.configure=b,e.exports=r;const a=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function i(h){return h.length<5e3&&!a.test(h)?`"${h}"`:JSON.stringify(h)}function s(h,w){if(h.length>200||w)return h.sort(w);for(let v=1;v<h.length;v++){const x=h[v];let k=v;for(;k!==0&&h[k-1]>x;)h[k]=h[k-1],k--;h[k]=x}return h}const o=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function c(h){return o.call(h)!==void 0&&h.length!==0}function u(h,w,v){h.length<v&&(v=h.length);const x=w===","?"":" ";let k=`"0":${x}${h[0]}`;for(let T=1;T<v;T++)k+=`${w}"${T}":${x}${h[T]}`;return k}function l(h){if(n.call(h,"circularValue")){const w=h.circularValue;if(typeof w=="string")return`"${w}"`;if(w==null)return w;if(w===Error||w===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function d(h){let w;if(n.call(h,"deterministic")&&(w=h.deterministic,typeof w!="boolean"&&typeof w!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return w===void 0?!0:w}function p(h,w){let v;if(n.call(h,w)&&(v=h[w],typeof v!="boolean"))throw new TypeError(`The "${w}" argument must be of type boolean`);return v===void 0?!0:v}function f(h,w){let v;if(n.call(h,w)){if(v=h[w],typeof v!="number")throw new TypeError(`The "${w}" argument must be of type number`);if(!Number.isInteger(v))throw new TypeError(`The "${w}" argument must be an integer`);if(v<1)throw new RangeError(`The "${w}" argument must be >= 1`)}return v===void 0?1/0:v}function m(h){return h===1?"1 item":`${h} items`}function y(h){const w=new Set;for(const v of h)(typeof v=="string"||typeof v=="number")&&w.add(String(v));return w}function g(h){if(n.call(h,"strict")){const w=h.strict;if(typeof w!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(w)return v=>{let x=`Object can not safely be stringified. Received type ${typeof v}`;throw typeof v!="function"&&(x+=` (${v.toString()})`),new Error(x)}}}function b(h){h={...h};const w=g(h);w&&(h.bigint===void 0&&(h.bigint=!1),"circularValue"in h||(h.circularValue=Error));const v=l(h),x=p(h,"bigint"),k=d(h),T=typeof k=="function"?k:void 0,C=f(h,"maximumDepth"),A=f(h,"maximumBreadth");function R(O,E,N,B,D,z){let $=E[O];switch(typeof $=="object"&&$!==null&&typeof $.toJSON=="function"&&($=$.toJSON(O)),$=B.call(E,O,$),typeof $){case"string":return i($);case"object":{if($===null)return"null";if(N.indexOf($)!==-1)return v;let q="",Y=",";const X=z;if(Array.isArray($)){if($.length===0)return"[]";if(C<N.length+1)return'"[Array]"';N.push($),D!==""&&(z+=D,q+=`
${z}`,Y=`,
${z}`);const ge=Math.min($.length,A);let we=0;for(;we<ge-1;we++){const xa=R(String(we),$,N,B,D,z);q+=xa!==void 0?xa:"null",q+=Y}const lt=R(String(we),$,N,B,D,z);if(q+=lt!==void 0?lt:"null",$.length-1>A){const xa=$.length-A-1;q+=`${Y}"... ${m(xa)} not stringified"`}return D!==""&&(q+=`
${X}`),N.pop(),`[${q}]`}let V=Object.keys($);const te=V.length;if(te===0)return"{}";if(C<N.length+1)return'"[Object]"';let ee="",oe="";D!==""&&(z+=D,Y=`,
${z}`,ee=" ");const be=Math.min(te,A);k&&!c($)&&(V=s(V,T)),N.push($);for(let ge=0;ge<be;ge++){const we=V[ge],lt=R(we,$,N,B,D,z);lt!==void 0&&(q+=`${oe}${i(we)}:${ee}${lt}`,oe=Y)}if(te>A){const ge=te-A;q+=`${oe}"...":${ee}"${m(ge)} not stringified"`,oe=Y}return D!==""&&oe.length>1&&(q=`
${z}${q}
${X}`),N.pop(),`{${q}}`}case"number":return isFinite($)?String($):w?w($):"null";case"boolean":return $===!0?"true":"false";case"undefined":return;case"bigint":if(x)return String($);default:return w?w($):void 0}}function I(O,E,N,B,D,z){switch(typeof E=="object"&&E!==null&&typeof E.toJSON=="function"&&(E=E.toJSON(O)),typeof E){case"string":return i(E);case"object":{if(E===null)return"null";if(N.indexOf(E)!==-1)return v;const $=z;let q="",Y=",";if(Array.isArray(E)){if(E.length===0)return"[]";if(C<N.length+1)return'"[Array]"';N.push(E),D!==""&&(z+=D,q+=`
${z}`,Y=`,
${z}`);const te=Math.min(E.length,A);let ee=0;for(;ee<te-1;ee++){const be=I(String(ee),E[ee],N,B,D,z);q+=be!==void 0?be:"null",q+=Y}const oe=I(String(ee),E[ee],N,B,D,z);if(q+=oe!==void 0?oe:"null",E.length-1>A){const be=E.length-A-1;q+=`${Y}"... ${m(be)} not stringified"`}return D!==""&&(q+=`
${$}`),N.pop(),`[${q}]`}N.push(E);let X="";D!==""&&(z+=D,Y=`,
${z}`,X=" ");let V="";for(const te of B){const ee=I(te,E[te],N,B,D,z);ee!==void 0&&(q+=`${V}${i(te)}:${X}${ee}`,V=Y)}return D!==""&&V.length>1&&(q=`
${z}${q}
${$}`),N.pop(),`{${q}}`}case"number":return isFinite(E)?String(E):w?w(E):"null";case"boolean":return E===!0?"true":"false";case"undefined":return;case"bigint":if(x)return String(E);default:return w?w(E):void 0}}function S(O,E,N,B,D){switch(typeof E){case"string":return i(E);case"object":{if(E===null)return"null";if(typeof E.toJSON=="function"){if(E=E.toJSON(O),typeof E!="object")return S(O,E,N,B,D);if(E===null)return"null"}if(N.indexOf(E)!==-1)return v;const z=D;if(Array.isArray(E)){if(E.length===0)return"[]";if(C<N.length+1)return'"[Array]"';N.push(E),D+=B;let ee=`
${D}`;const oe=`,
${D}`,be=Math.min(E.length,A);let ge=0;for(;ge<be-1;ge++){const lt=S(String(ge),E[ge],N,B,D);ee+=lt!==void 0?lt:"null",ee+=oe}const we=S(String(ge),E[ge],N,B,D);if(ee+=we!==void 0?we:"null",E.length-1>A){const lt=E.length-A-1;ee+=`${oe}"... ${m(lt)} not stringified"`}return ee+=`
${z}`,N.pop(),`[${ee}]`}let $=Object.keys(E);const q=$.length;if(q===0)return"{}";if(C<N.length+1)return'"[Object]"';D+=B;const Y=`,
${D}`;let X="",V="",te=Math.min(q,A);c(E)&&(X+=u(E,Y,A),$=$.slice(E.length),te-=E.length,V=Y),k&&($=s($,T)),N.push(E);for(let ee=0;ee<te;ee++){const oe=$[ee],be=S(oe,E[oe],N,B,D);be!==void 0&&(X+=`${V}${i(oe)}: ${be}`,V=Y)}if(q>A){const ee=q-A;X+=`${V}"...": "${m(ee)} not stringified"`,V=Y}return V!==""&&(X=`
${D}${X}
${z}`),N.pop(),`{${X}}`}case"number":return isFinite(E)?String(E):w?w(E):"null";case"boolean":return E===!0?"true":"false";case"undefined":return;case"bigint":if(x)return String(E);default:return w?w(E):void 0}}function L(O,E,N){switch(typeof E){case"string":return i(E);case"object":{if(E===null)return"null";if(typeof E.toJSON=="function"){if(E=E.toJSON(O),typeof E!="object")return L(O,E,N);if(E===null)return"null"}if(N.indexOf(E)!==-1)return v;let B="";const D=E.length!==void 0;if(D&&Array.isArray(E)){if(E.length===0)return"[]";if(C<N.length+1)return'"[Array]"';N.push(E);const X=Math.min(E.length,A);let V=0;for(;V<X-1;V++){const ee=L(String(V),E[V],N);B+=ee!==void 0?ee:"null",B+=","}const te=L(String(V),E[V],N);if(B+=te!==void 0?te:"null",E.length-1>A){const ee=E.length-A-1;B+=`,"... ${m(ee)} not stringified"`}return N.pop(),`[${B}]`}let z=Object.keys(E);const $=z.length;if($===0)return"{}";if(C<N.length+1)return'"[Object]"';let q="",Y=Math.min($,A);D&&c(E)&&(B+=u(E,",",A),z=z.slice(E.length),Y-=E.length,q=","),k&&(z=s(z,T)),N.push(E);for(let X=0;X<Y;X++){const V=z[X],te=L(V,E[V],N);te!==void 0&&(B+=`${q}${i(V)}:${te}`,q=",")}if($>A){const X=$-A;B+=`${q}"...":"${m(X)} not stringified"`}return N.pop(),`{${B}}`}case"number":return isFinite(E)?String(E):w?w(E):"null";case"boolean":return E===!0?"true":"false";case"undefined":return;case"bigint":if(x)return String(E);default:return w?w(E):void 0}}function j(O,E,N){if(arguments.length>1){let B="";if(typeof N=="number"?B=" ".repeat(Math.min(N,10)):typeof N=="string"&&(B=N.slice(0,10)),E!=null){if(typeof E=="function")return R("",{"":O},[],E,B,"");if(Array.isArray(E))return I("",O,[],y(E),B,"")}if(B.length!==0)return S("",O,[],B,"")}return L("",O,[])}return j}}(Oa,Oa.exports)),Oa.exports}var to,Dd;function ai(){if(Dd)return to;Dd=1;function e(u,l){const d=[];let p=0;for(let f=0;f<u.length;f++)for(let m=p;m<l.length;m++)u[f]===l[m]&&(d.push(m),p=m+1);return d}function t(u,l){const d=[];let p=0;for(let f=0;f<u.length;f++)for(let m=p;m<l.length;m++)u[f]!==l[m]&&(d.push(l[m]),p=m+1);return d}function n(u,l){let d=0,p=u.length-1;for(;d<=p;){const f=(d+p)/2|0;if(u[f]===l)return f;u[f]<l?d=f+1:p=f-1}return-1}function r(u){return u*Math.random()|0}function a(u,l){return u=Math.floor(u),l=Math.floor(l),u+r(1+l-u)}function i(u,l){if(u.length<1||l<1)return[];const d=Math.min(u.length,l),p=a(1,d),f=new Set;for(let y=0;y<p;y++)f.add(r(u.length));const m=[];for(const y of f)m.push(u[y]);return m}function s(u,l){if(u==="*"||u.length===l.length&&u===l)return!0;let d=0,p=0;for(;d<u.length&&p<l.length;){if(u[d]===l[p]){d++,p++;continue}if(u[d]==="*"){if(u[d+1]===l[p]){d++;continue}p++;continue}return!1}return d>=u.length-1}function o(){const u=()=>{};return{fatal:u,error:u,warn:u,info:u,debug:u,trace:u}}return to={findNotMatching:t,findMatchingIndexes:e,bsearchIndex:n,wildcardMatch:s,randomSubset:i,abstractLogging:o,isServerSide:typeof window>"u"},to}var no,Ud;function Ty(){if(Ud)return no;Ud=1;class e{constructor(n){this.options=n}async get(n){throw new Error("storage get method not implemented")}async set(n,r,a,i){throw new Error("storage set method not implemented")}async remove(n){throw new Error("storage remove method not implemented")}async invalidate(n){throw new Error("storage invalidate method not implemented")}async clear(n){throw new Error("storage clear method not implemented")}async refresh(){throw new Error("storage refresh method not implemented")}}return no=e,no}var ro,zd;function fE(){if(zd)return ro;zd=1;const e=Py(),t=Ty(),{findNotMatching:n,randomSubset:r,abstractLogging:a}=ai(),i=64,s=64,o=60;class c extends t{constructor(l={}){if(!l.client||typeof l.client!="object")throw new Error("Redis client is required");if(super(l),l.invalidation&&l.invalidation.referencesTTL&&(typeof l.invalidation.referencesTTL!="number"||l.invalidation.referencesTTL<1))throw new Error("invalidation.referencesTTL must be a positive integer greater than 1");this.log=l.log||a(),this.store=l.client,this.invalidation=!!l.invalidation,this.referencesTTL=l.invalidation&&l.invalidation.referencesTTL||o}getReferenceKeyLabel(l){return`r:${l}`}getKeyReferenceLabel(l){return`k:${l}`}async get(l){this.log.debug({msg:"acd/storage/redis.get",key:l});try{const d=await this.store.get(l);if(!d){if(!this.invalidation)return;this.clearReferences(l);return}return JSON.parse(d)}catch(d){this.log.error({msg:"acd/storage/redis.get error",err:d,key:l})}}async getTTL(l){this.log.debug({msg:"acd/storage/memory.getTTL",key:l});let d=await this.store.pttl(l);return d<0?0:(d=Math.ceil(d/1e3),d)}async set(l,d,p,f){if(this.log.debug({msg:"acd/storage/redis.set key",key:l,value:d,ttl:p,references:f}),p=Number(p),!(!p||p<0))try{if(await this.store.set(l,e(d),"EX",p),!f||f.length<1)return;if(!this.invalidation){this.log.warn({msg:"acd/storage/redis.set, invalidation is disabled, references are useless",key:l,references:f});return}const m=[],y=await this.store.smembers(this.getKeyReferenceLabel(l));if(this.log.debug({msg:"acd/storage/redis.set current references",key:l,currentReferences:y}),y.length>1){y.sort(),f.sort();const h=n(f,y);for(const w of h)m.push(["srem",this.getReferenceKeyLabel(w),l]);m.push(["del",this.getKeyReferenceLabel(l)])}const g=y.length>1?n(y,f):f;this.log.debug({msg:"acd/storage/redis.set references to add",key:l,referencesToAdd:g});for(let h=0;h<g.length;h++){const w=g[h],v=this.getReferenceKeyLabel(w);m.push(["sadd",v,l]),m.push(["expire",v,this.referencesTTL])}const b=this.getKeyReferenceLabel(l);m.push(["sadd",b,f]),m.push(["expire",b,p]),this.log.debug({msg:"acd/storage/redis.set references writes",writes:m}),await this.store.pipeline(m).exec()}catch(m){this.log.error({msg:"acd/storage/redis.set error",err:m,key:l,ttl:p,references:f})}}async remove(l){this.log.debug({msg:"acd/storage/redis.remove",key:l});try{const d=await this.store.del(l)>0;return d&&this.invalidation&&await this.clearReferences(l),d}catch(d){this.log.error({msg:"acd/storage/redis.remove error",err:d,key:l})}}async invalidate(l){if(!this.invalidation)return this.log.warn({msg:"acd/storage/redis.invalidate, exit due invalidation is disabled"}),[];this.log.debug({msg:"acd/storage/redis.invalidate",references:l});try{return Array.isArray(l)?await this._invalidateReferences(l):await this._invalidateReference(l)}catch(d){return this.log.error({msg:"acd/storage/redis.invalidate error",err:d,references:l}),[]}}async _invalidateReferences(l,d=!0){const p=l.map(g=>["smembers",d?this.getReferenceKeyLabel(g):g]),f=await this.store.pipeline(p).exec();this.log.debug({msg:"acd/storage/redis._invalidateReferences keys",keys:f});const m=[],y=[];for(let g=0;g<f.length;g++){const b=f[g][1];if(b){this.log.debug({msg:"acd/storage/redis._invalidateReferences got keys to be invalidated",keys:b});for(let h=0;h<b.length;h++){const w=b[h];this.log.debug({msg:"acd/storage/redis._invalidateReferences del key"+w}),y.push(w),m.push(["del",w])}}}return await this.store.pipeline(m).exec(),await this.clearReferences(y),y}async _invalidateReference(l){let d;if(l.includes("*")){const m=await this.store.keys(this.getReferenceKeyLabel(l));return this._invalidateReferences(m,!1)}else d=await this.store.smembers(this.getReferenceKeyLabel(l));this.log.debug({msg:"acd/storage/redis._invalidateReference keys",keys:d});const p=[],f=[];for(let m=0;m<d.length;m++){const y=d[m];this.log.debug({msg:"acd/storage/redis._invalidateReference del key"+y}),f.push(y),p.push(["del",y])}return await this.store.pipeline(p).exec(),await this.clearReferences(f),f}async clear(l){this.log.debug({msg:"acd/storage/redis.clear",name:l});try{if(!l){await this.store.flushall();return}const d=await this.store.keys(`${l}*`);this.log.debug({msg:"acd/storage/redis.clear keys",keys:d});const p=d.map(f=>["del",f]);if(await this.store.pipeline(p).exec(),!this.invalidation)return;await this.clearReferences(d)}catch(d){this.log.error({msg:"acd/storage/redis.clear error",err:d,name:l})}}async refresh(){try{await this.store.flushall()}catch(l){this.log.error({msg:"acd/storage/redis.refresh error",err:l})}}async clearReferences(l){try{if(!l){this.log.warn({msg:"acd/storage/redis.clearReferences invalid call due to empty key"});return}Array.isArray(l)||(l=[l]);const d=l.map(m=>["smembers",this.getKeyReferenceLabel(m)]),p=await this.store.pipeline(d).exec();this.log.debug({msg:"acd/storage/redis.clearReferences references",keys:l,referencesKeys:p});const f={};for(let m=0;m<l.length;m++){for(let g=0;g<p[m][1].length;g++){const b=this.getReferenceKeyLabel(p[m][1][g]);f[b]||(f[b]=["srem",b,l])}const y=this.getKeyReferenceLabel(l[m]);f[y]=["del",y]}this.log.debug({msg:"acd/storage/redis.clearReferences writes pipeline",writes:f}),await this.store.pipeline(Object.values(f)).exec()}catch(d){this.log.error({msg:"acd/storage/redis.clearReferences error",err:d})}}async gc(l="lazy",d={}){if(this.log.debug({msg:"acd/storage/redis.gc",mode:l,options:d}),!this.invalidation){this.log.warn({msg:"acd/storage/redis.gc does not run due to invalidation is disabled"});return}l!=="strict"&&l!=="lazy"&&(l="lazy");const p={references:{scanned:[],removed:[]},keys:{scanned:new Set,removed:new Set},loops:0,cursor:0,error:null};try{let f=0,m=s;if(d.chunk&&(typeof d.chunk!="number"||d.chunk<1))return p.error=new Error("chunk must be a positive integer greater than 1"),p;if(d.lazy){if(d.lazy.chunk){if(typeof d.lazy.chunk!="number"||d.lazy.chunk<1)return p.error=new Error("lazy.chunk must be a positive integer greater than 1"),p;m=d.lazy.chunk}if(d.lazy.cursor){if(typeof d.lazy.cursor!="number"||d.lazy.cursor<0)return p.error=new Error("lazy.cursor must be a positive integer greater than 0"),p;f=d.lazy.cursor}}const y=d.chunk||i,g=Math.min(m,y),b=f;let h=-1,w=-1;do{p.loops++;const v=await this.store.scan(f,"match","r:*","count",g);f=Number(v[0]),h=v[1].length;const x=l==="lazy"?r(v[1],m):v[1];p.references.scanned=p.references.scanned.concat(x);let k=[];for(let O=0;O<x.length;O++){const E=x[O];k.push(["smembers",E])}const T=await this.store.pipeline(k).exec(),C={},A={};for(let O=0;O<T.length;O++){const E=T[O],N=x[O];A[N]=E[1];for(let B=0;B<E[1].length;B++){const D=E[1][B];C[D]?C[D].push(N):C[D]=[N],p.keys.scanned.add(D)}}const R=Object.keys(C);k=R.map(O=>["exists",O]);const I=await this.store.pipeline(k).exec(),S={};for(let O=0;O<R.length;O++){const E=R[O];if(I[O][1]!==1)for(let N=0;N<C[E].length;N++){const B=C[E][N];S[B]?S[B].push(E):S[B]=[E],p.keys.removed.add(E)}}const L=Object.keys(S),j=[];for(let O=0;O<L.length;O++){const E=L[O];A[E].length===S[E].length?(j.push(["del",E]),p.references.removed.push(E)):j.push(["srem",E,S[E]])}if(await this.store.pipeline(j).exec(),w=j.length,l==="lazy"&&p.references.scanned.length>=m)break}while(b!==f&&h>0&&w>0);p.cursor=f,p.keys.scanned=Array.from(p.keys.scanned),p.keys.removed=Array.from(p.keys.removed)}catch(f){this.log.error({msg:"acd/storage/redis.gc error",err:f}),p.error=f}return p}}return ro=c,ro}var ao,qd;function mE(){if(qd)return ao;qd=1;function e(t){if(typeof t!="function")throw new Error("obliterator/iterator: expecting a function!");this.next=t}return typeof Symbol<"u"&&(e.prototype[Symbol.iterator]=function(){return this}),e.of=function(){var t=arguments,n=t.length,r=0;return new e(function(){return r>=n?{done:!0}:{done:!1,value:t[r++]}})},e.empty=function(){var t=new e(function(){return{done:!0}});return t},e.fromSequence=function(t){var n=0,r=t.length;return new e(function(){return n>=r?{done:!0}:{done:!1,value:t[n++]}})},e.is=function(t){return t instanceof e?!0:typeof t=="object"&&t!==null&&typeof t.next=="function"},ao=e,ao}var $a={},Hd;function hE(){return Hd||(Hd=1,$a.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u",$a.SYMBOL_SUPPORT=typeof Symbol<"u"),$a}var io,Gd;function Sy(){if(Gd)return io;Gd=1;var e=hE(),t=e.ARRAY_BUFFER_SUPPORT,n=e.SYMBOL_SUPPORT;return io=function(a,i){var s,o,c,u,l;if(!a)throw new Error("obliterator/forEach: invalid iterable.");if(typeof i!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(a)||t&&ArrayBuffer.isView(a)||typeof a=="string"||a.toString()==="[object Arguments]"){for(c=0,u=a.length;c<u;c++)i(a[c],c);return}if(typeof a.forEach=="function"){a.forEach(i);return}if(n&&Symbol.iterator in a&&typeof a.next!="function"&&(a=a[Symbol.iterator]()),typeof a.next=="function"){for(s=a,c=0;l=s.next(),l.done!==!0;)i(l.value,c),c++;return}for(o in a)a.hasOwnProperty(o)&&i(a[o],o)},io}var so={},Vd;function By(){return Vd||(Vd=1,function(e){var t=Math.pow(2,8)-1,n=Math.pow(2,16)-1,r=Math.pow(2,32)-1,a=Math.pow(2,7)-1,i=Math.pow(2,15)-1,s=Math.pow(2,31)-1;e.getPointerArray=function(c){var u=c-1;if(u<=t)return Uint8Array;if(u<=n)return Uint16Array;if(u<=r)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},e.getSignedPointerArray=function(c){var u=c-1;return u<=a?Int8Array:u<=i?Int16Array:u<=s?Int32Array:Float64Array},e.getNumberType=function(c){return c===(c|0)?Math.sign(c)===-1?c<=127&&c>=-128?Int8Array:c<=32767&&c>=-32768?Int16Array:Int32Array:c<=255?Uint8Array:c<=65535?Uint16Array:Uint32Array:Float64Array};var o={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};e.getMinimalRepresentation=function(c,u){var l=null,d=0,p,f,m,y,g;for(y=0,g=c.length;y<g;y++)m=u?u(c[y]):c[y],f=e.getNumberType(m),p=o[f.name],p>d&&(d=p,l=f);return l},e.isTypedArray=function(c){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(c)},e.concat=function(){var c=0,u,l,d;for(u=0,d=arguments.length;u<d;u++)c+=arguments[u].length;var p=new arguments[0].constructor(c);for(u=0,l=0;u<d;u++)p.set(arguments[u],l),l+=arguments[u].length;return p},e.indices=function(c){for(var u=e.getPointerArray(c),l=new u(c),d=0;d<c;d++)l[d]=d;return l}}(so)),so}var In={},Kd;function yE(){if(Kd)return In;Kd=1;var e=Sy(),t=By();function n(s){return Array.isArray(s)||t.isTypedArray(s)}function r(s){if(typeof s.length=="number")return s.length;if(typeof s.size=="number")return s.size}function a(s){var o=r(s),c=typeof o=="number"?new Array(o):[],u=0;return e(s,function(l){c[u++]=l}),c}function i(s){var o=r(s),c=typeof o=="number"?t.getPointerArray(o):Array,u=typeof o=="number"?new Array(o):[],l=typeof o=="number"?new c(o):[],d=0;return e(s,function(p){u[d]=p,l[d]=d++}),[u,l]}return In.isArrayLike=n,In.guessLength=r,In.toArray=a,In.toArrayWithIndices=i,In}var oo,Qd;function bE(){if(Qd)return oo;Qd=1;var e=mE(),t=Sy(),n=By(),r=yE();function a(i,s,o){if(arguments.length<2&&(o=i,i=null,s=null),this.capacity=o,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");if(!isFinite(this.capacity)||Math.floor(this.capacity)!==this.capacity)throw new Error("mnemonist/lru-cache: capacity should be a finite positive integer.");var c=n.getPointerArray(o);this.forward=new c(o),this.backward=new c(o),this.K=typeof i=="function"?new i(o):new Array(o),this.V=typeof s=="function"?new s(o):new Array(o),this.size=0,this.head=0,this.tail=0,this.items={}}return a.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}},a.prototype.splayOnTop=function(i){var s=this.head;if(this.head===i)return this;var o=this.backward[i],c=this.forward[i];return this.tail===i?this.tail=o:this.backward[c]=o,this.forward[o]=c,this.backward[s]=i,this.head=i,this.forward[i]=s,this},a.prototype.set=function(i,s){var o=this.items[i];if(typeof o<"u"){this.splayOnTop(o),this.V[o]=s;return}this.size<this.capacity?o=this.size++:(o=this.tail,this.tail=this.backward[o],delete this.items[this.K[o]]),this.items[i]=o,this.K[o]=i,this.V[o]=s,this.forward[o]=this.head,this.backward[this.head]=o,this.head=o},a.prototype.setpop=function(i,s){var o=null,c=null,u=this.items[i];return typeof u<"u"?(this.splayOnTop(u),o=this.V[u],this.V[u]=s,{evicted:!1,key:i,value:o}):(this.size<this.capacity?u=this.size++:(u=this.tail,this.tail=this.backward[u],o=this.V[u],c=this.K[u],delete this.items[c]),this.items[i]=u,this.K[u]=i,this.V[u]=s,this.forward[u]=this.head,this.backward[this.head]=u,this.head=u,c?{evicted:!0,key:c,value:o}:null)},a.prototype.has=function(i){return i in this.items},a.prototype.get=function(i){var s=this.items[i];if(!(typeof s>"u"))return this.splayOnTop(s),this.V[s]},a.prototype.peek=function(i){var s=this.items[i];if(!(typeof s>"u"))return this.V[s]},a.prototype.forEach=function(i,s){s=arguments.length>1?s:this;for(var o=0,c=this.size,u=this.head,l=this.K,d=this.V,p=this.forward;o<c;)i.call(s,d[u],l[u],this),u=p[u],o++},a.prototype.keys=function(){var i=0,s=this.size,o=this.head,c=this.K,u=this.forward;return new e(function(){if(i>=s)return{done:!0};var l=c[o];return i++,i<s&&(o=u[o]),{done:!1,value:l}})},a.prototype.values=function(){var i=0,s=this.size,o=this.head,c=this.V,u=this.forward;return new e(function(){if(i>=s)return{done:!0};var l=c[o];return i++,i<s&&(o=u[o]),{done:!1,value:l}})},a.prototype.entries=function(){var i=0,s=this.size,o=this.head,c=this.K,u=this.V,l=this.forward;return new e(function(){if(i>=s)return{done:!0};var d=c[o],p=u[o];return i++,i<s&&(o=l[o]),{done:!1,value:[d,p]}})},typeof Symbol<"u"&&(a.prototype[Symbol.iterator]=a.prototype.entries),a.prototype.inspect=function(){for(var i=new Map,s=this.entries(),o;o=s.next(),!o.done;)i.set(o.value[0],o.value[1]);return Object.defineProperty(i,"constructor",{value:a,enumerable:!1}),i},typeof Symbol<"u"&&(a.prototype[Symbol.for("nodejs.util.inspect.custom")]=a.prototype.inspect),a.from=function(i,s,o,c){if(arguments.length<2){if(c=r.guessLength(i),typeof c!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(c=s,s=null,o=null);var u=new a(s,o,c);return t(i,function(l,d){u.set(d,l)}),u},oo=a,oo}var co,Wd;function gE(){if(Wd)return co;Wd=1;const e=bE(),{abstractLogging:t}=ai(),n=Ty(),{findMatchingIndexes:r,findNotMatching:a,bsearchIndex:i,wildcardMatch:s}=ai(),o=typeof globalThis.setImmediate<"u"?globalThis.setImmediate:(f,...m)=>setTimeout(f,0,...m),c=1024;class u extends n{constructor(m={}){if(m.size&&(typeof m.size!="number"||m.size<1))throw new Error("size must be a positive integer greater than 0");super(m),this.size=m.size||c,this.log=m.log||t(),this.invalidation=m.invalidation||!1,this.init()}init(){this.store=new e(this.size),this.invalidation&&(this.keysReferences=new Map,this.referencesKeys=new Map)}get(m){this.log.debug({msg:"acd/storage/memory.get",key:m});const y=this.store.get(m);if(y){if(this.log.debug({msg:"acd/storage/memory.get, entry",entry:y,now:d()}),y.start+y.ttl>d())return this.log.debug({msg:"acd/storage/memory.get, key is NOT expired",key:m,entry:y}),y.value;this.log.debug({msg:"acd/storage/memory.get, key is EXPIRED",key:m,entry:y}),o(()=>this.remove(m))}}getTTL(m){this.log.debug({msg:"acd/storage/memory.getTTL",key:m});const y=this.store.peek(m);let g=0;return y&&(g=y.start+y.ttl-d(),g<0&&(g=0)),g}set(m,y,g,b){if(this.log.debug({msg:"acd/storage/memory.set",key:m,value:y,ttl:g,references:b}),g=Number(g),!g||g<0)return;const h=this.store.has(m),w=this.store.setpop(m,{value:y,ttl:g,start:d()});if(this.log.debug({msg:"acd/storage/memory.set, evicted",removed:w}),w&&w.evicted&&(this.log.debug({msg:"acd/storage/memory.set, remove evicted key",key:w.key}),this._removeReferences([w.key])),!b||b.length<1)return;if(!this.invalidation){this.log.warn({msg:"acd/storage/memory.set, invalidation is disabled, references are useless"});return}b=[...new Set(b)];let v;if(h&&(v=this.keysReferences.get(m),this.log.debug({msg:"acd/storage/memory.set, current keys-references",key:m,references:v}),v)){v.sort(),b.sort();const k=a(b,v);for(const T of k){const C=this.referencesKeys.get(T);if(!C)continue;const A=i(C,m);if(!(A<0)){if(C.splice(A,1),C.length<1){this.referencesKeys.delete(T);continue}this.referencesKeys.set(T,C)}}}const x=v?a(v,b):b;for(let k=0;k<x.length;k++){const T=x[k];let C=this.referencesKeys.get(T);C?(this.log.debug({msg:"acd/storage/memory.set, add reference-key",key:m,reference:T}),C.push(m)):C=[m],this.log.debug({msg:"acd/storage/memory.set, set reference-keys",keys:C,reference:T}),this.referencesKeys.set(T,C)}this.keysReferences.set(m,b)}remove(m){this.log.debug({msg:"acd/storage/memory.remove",key:m});const y=this._removeKey(m);return this._removeReferences([m]),y}_removeKey(m){return this.log.debug({msg:"acd/storage/memory._removeKey",key:m}),this.store.has(m)?(this.store.set(m,void 0),!0):!1}_removeReferences(m){if(!this.invalidation)return;this.log.debug({msg:"acd/storage/memory._removeReferences",keys:m});const y=new Set;for(let g=0;g<m.length;g++){const b=m[g],h=this.keysReferences.get(b);if(h){for(let w=0;w<h.length;w++)y.add(h[w]);this.log.debug({msg:"acd/storage/memory._removeReferences, delete key-references",key:b}),this.keysReferences.delete(b)}}this._removeReferencesKeys([...y],m)}_removeReferencesKeys(m,y){y.sort(),this.log.debug({msg:"acd/storage/memory._removeReferencesKeys",references:m,keys:y});for(let g=0;g<m.length;g++){const b=m[g],h=this.referencesKeys.get(b);if(this.log.debug({msg:"acd/storage/memory._removeReferencesKeys, get reference-key",reference:b,keys:y,referencesKeys:h}),!h)continue;const w=r(y,h);if(this.log.debug({msg:"acd/storage/memory._removeReferencesKeys, removing",reference:b,referencesToRemove:w,referencesKeys:h}),w.length===h.length){this.log.debug({msg:"acd/storage/memory._removeReferencesKeys, delete",reference:b}),this.referencesKeys.delete(b);continue}for(let v=w.length-1;v>=0;v--)this.log.debug({msg:"acd/storage/memory._removeReferencesKeys, remove",reference:b,referencesKeys:h,at:w[v]}),h.splice(w[v],1)}}invalidate(m){return this.invalidation?(this.log.debug({msg:"acd/storage/memory.invalidate",references:m}),Array.isArray(m)?this._invalidateReferences(m):this._invalidateReference(m)):(this.log.warn({msg:"acd/storage/memory.invalidate, exit due invalidation is disabled"}),[])}_invalidateReferences(m){const y=[];for(let g=0;g<m.length;g++){const b=m[g],h=this.referencesKeys.get(b);if(this.log.debug({msg:"acd/storage/memory._invalidateReferences, remove keys on reference",reference:b,keys:h}),!!h){for(let w=0;w<h.length;w++){const v=h[w];this.log.debug({msg:"acd/storage/memory._invalidateReferences, remove key on reference",reference:b,key:v}),this._removeKey(v)&&y.push(v)}this.log.debug({msg:"acd/storage/memory._invalidateReferences, remove references of",reference:b,keys:h}),this._removeReferences([...h])}}return y}_invalidateReference(m){if(m.includes("*")){const b=[];for(const h of this.referencesKeys.keys())s(m,h)&&b.push(h);return this._invalidateReferences(b)}const y=this.referencesKeys.get(m),g=[];if(this.log.debug({msg:"acd/storage/memory._invalidateReference, remove keys on reference",reference:m,keys:y}),!y)return g;for(let b=0;b<y.length;b++){const h=y[b];this.log.debug({msg:"acd/storage/memory._invalidateReference, remove key on reference",reference:m,key:h}),this._removeKey(h)&&g.push(h)}return this.log.debug({msg:"acd/storage/memory._invalidateReference, remove references of",reference:m,keys:y}),this._removeReferences([...y]),g}clear(m){if(this.log.debug({msg:"acd/storage/memory.clear",name:m}),!m){if(this.store.clear(),!this.invalidation)return;this.referencesKeys.clear(),this.keysReferences.clear();return}const y=[];this.store.forEach((b,h)=>{this.log.debug({msg:"acd/storage/memory.clear, iterate key",key:h}),h.indexOf(m)===0&&(this.log.debug({msg:"acd/storage/memory.clear, remove key",key:h}),y.push(h))});const g=[];for(let b=0;b<y.length;b++)this._removeKey(y[b])&&g.push(y[b]);return this._removeReferences(g),g}refresh(){this.log.debug({msg:"acd/storage/memory.refresh"}),this.init()}}let l;function d(){if(l!==void 0)return l;l=Math.floor(Date.now()/1e3);const f=setTimeout(p,1e3);return typeof f.unref=="function"&&f.unref(),l}function p(){l=void 0}return co=u,co}var uo,Jd;function Ry(){if(Jd)return uo;Jd=1;const{isServerSide:e}=ai();let t;e&&(t=fE());const n=gE(),r={redis:"redis"};function a(i,s){if(!e&&i===r.redis)throw new Error("Redis storage is not supported in the browser");return i===r.redis?new t(s):new n(s)}return uo=a,uo}var Zd;function wE(){if(Zd)return Xs;Zd=1;const{kValues:e,kStorage:t,kStorages:n,kTransfromer:r,kTTL:a,kOnDedupe:i,kOnError:s,kOnHit:o,kOnMiss:c,kStale:u}=pE(),l=Py(),d=Ry();class p{constructor(b={}){if(!b.storage)throw new Error("storage is required");if(b.ttl&&typeof b.ttl=="number"&&(b.ttl<0||!Number.isInteger(b.ttl)))throw new Error("ttl must be a positive integer greater than 0");if(b.onDedupe&&typeof b.onDedupe!="function")throw new Error("onDedupe must be a function");if(b.onError&&typeof b.onError!="function")throw new Error("onError must be a function");if(b.onHit&&typeof b.onHit!="function")throw new Error("onHit must be a function");if(b.onMiss&&typeof b.onMiss!="function")throw new Error("onMiss must be a function");if(typeof b.stale=="number"&&!(Math.floor(b.stale)===b.stale&&b.stale>=0))throw new Error("stale must be an integer greater or equal to 0");this[e]={},this[t]=b.storage,this[n]=new Map,this[n].set("_default",b.storage),this[r]=b.transformer,this[a]=b.ttl||0,this[i]=b.onDedupe||y,this[s]=b.onError||y,this[o]=b.onHit||y,this[c]=b.onMiss||y,this[u]=b.stale||0}define(b,h,w){if(typeof h=="function"&&(w=h,h={}),b&&this[b])throw new Error(`${b} is already defined in the cache or it is a forbidden name`);if(h=h||{},typeof w!="function")throw new TypeError(`Missing the function parameter for '${b}'`);const v=h.serialize;if(v&&typeof v!="function")throw new TypeError("serialize must be a function");const x=h.references;if(x&&typeof x!="function")throw new TypeError("references must be a function");if(typeof h.ttl!="function"&&h.ttl&&(typeof h.ttl!="number"||h.ttl<0||!Number.isInteger(h.ttl)))throw new Error("ttl must be a positive integer greater than 0");let k;h.storage?(k=d(h.storage.type,h.storage.options),this[n].set(b,k)):k=this[t];const T=h.ttl!==void 0?h.ttl:this[a],C=h.stale!==void 0?h.stale:this[u],A=h.onDedupe||this[i],R=h.onError||this[s],I=h.onHit||this[o],S=h.onMiss||this[c],L=h.transformer||this[r],j=new f(w,b,v,x,k,L,T,A,R,I,S,C);return this[e][b]=j,this[b]=j.add.bind(j),this}async clear(b,h){if(b){if(!this[e][b])throw new Error(`${b} is not defined in the cache`);await this[e][b].clear(h);return}const w=[];for(const v of Object.values(this[e]))w.push(v.clear());await Promise.all(w)}async get(b,h){if(!this[e][b])throw new Error(`${b} is not defined in the cache`);return this[e][b].get(h)}async set(b,h,w,v,x){if(!this[e][b])throw new Error(`${b} is not defined in the cache`);return this[e][b].set(h,w,v,x)}async invalidate(b,h){if(!this[e][b])throw new Error(`${b} is not defined in the cache`);return this[e][b].invalidate(h)}async invalidateAll(b,h="_default"){if(!this[n].has(h))throw new Error(`${h} storage is not defined in the cache`);await this[n].get(h).invalidate(b)}}class f{constructor(b,h,w,v,x,k,T,C,A,R,I,S){this.dedupes=new Map,this.func=b,this.name=h,this.serialize=w,this.references=v,this.storage=x,this.transformer=k,this.ttl=T,this.onDedupe=C,this.onError=A,this.onHit=R,this.onMiss=I,this.stale=S}getKey(b){const h=this.serialize?this.serialize(b):b;return typeof h=="string"?h:l(h)}getStorageKey(b){return`${this.name}~${b}`}getStorageName(){return`${this.name}~`}add(b){try{const h=this.getKey(b);let w=this.dedupes.get(h);return w?this.onDedupe(h):(w=new m,this.buildPromise(w,b,h),this.dedupes.set(h,w)),w.promise}catch(h){this.onError(h)}}async wrapFunction(b,h){const w=this.getStorageKey(h);if(this.ttl>0||typeof this.ttl=="function"){const v=await this.get(w);if(v!==void 0){this.onHit(h);const x=typeof this.stale=="function"?this.stale(v):this.stale;return x>0&&await this.storage.getTTL(w)<=x&&this._wrapFunction(w,b,h).catch(y),v}else this.onMiss(h)}return this._wrapFunction(w,b,h)}async _wrapFunction(b,h,w){const v=await this.func(h,w),x=typeof this.stale=="function"?this.stale(v):this.stale;let k=typeof this.ttl=="function"?this.ttl(v):this.ttl;if(k==null||typeof k!="number"||!Number.isInteger(k))return this.onError(new Error("ttl must be an integer")),v;if(k+=x,k<1)return v;if(!this.references)return await this.set(b,v,k),v;try{let T=this.references(h,w,v),C=v;T&&typeof T.then=="function"&&(T=await T),this.transformer&&(C=this.transformer.serialize(v)),await this.storage.set(b,C,k,T)}catch(T){this.onError(T)}return v}buildPromise(b,h,w){b.promise=this.wrapFunction(h,w),b.promise.then(v=>(this.dedupes.delete(w),v)).catch(v=>{this.onError(v),this.dedupes.delete(w);const x=this.storage.remove(this.getStorageKey(w));x&&typeof x.catch=="function"&&x.catch(y)})}async clear(b){if(b){const h=this.getKey(b);this.dedupes.delete(h),await this.storage.remove(this.getStorageKey(h));return}await this.storage.clear(this.getStorageName()),this.dedupes.clear()}async get(b){const h=await this.storage.get(b);return this.transformer&&h?await this.transformer.deserialize(h):h}async set(b,h,w,v){return this.transformer&&(h=this.transformer.serialize(h)),this.storage.set(b,h,w,v)}async invalidate(b){return this.storage.invalidate(b)}}class m{constructor(){this.promise=null}}function y(){}return Xs.Cache=p,Xs}var lo,Yd;function vE(){if(Yd)return lo;Yd=1;const{Cache:e}=wE(),t=Ry();function n(r){r?r.storage||(r.storage={type:"memory"}):r={storage:{type:"memory"}};const a=t(r.storage.type,r.storage.options);return new e({...r,storage:a})}return lo={Cache:e,createCache:n,createStorage:t},lo}var xE=vE(),AE=class{constructor(e){this.base=e}getMany(e,{status:t}={}){const n=`/characters/${e}/achievements`;return this.base.fetch(n,{params:{status:t}})}mint(e,t){const n=`/characters/${e}/achievements/${t}`;return this.base.fetch(n,{method:"POST"})}},EE;function kE(){return EE}function IE(e){return new URLSearchParams(Object.entries(e).filter(t=>t[1]!==void 0&&t[1]!==null).sort(([t],[n])=>t.localeCompare(n)).flatMap(([t,n])=>Array.isArray(n)?n.map(r=>[t,r.toString()]):[[t,n.toString()]])).toString()}var CE=class{constructor(e){if(this.endpointOrOptions=e,typeof e=="string")this.endpoint=e;else if(typeof e=="object")this.endpoint=e.endpoint??this.endpoint,this.fetchOptions=e.fetchOptions??this.fetchOptions;else if(typeof e<"u")throw new TypeError(`Invalid argument: ${JSON.stringify(e)}. It must be a string or an object.`)}endpoint="https://indexer.crossbell.io/v1";fetchOptions={};#e=xE.createCache({ttl:0,storage:{type:"memory"}}).define("fetch",{serialize(e){const t=e[0],n=e[1],r=n?.body,a=Object.fromEntries(n?.headers?.entries());return{url:t,...n,body:r,headers:a}}},e=>fetch.call(globalThis,...e));fetch(e,{params:t,data:n,token:r,...a}={}){const i=e+(t?`?${IE(t)}`:""),s=new Headers({...this.fetchOptions.headers,...a.headers,...kE()});let o;return n&&(o=JSON.stringify(n),s.set("Content-Type","application/json")),r&&s.set("Authorization",`Bearer ${r}`),(typeof this.endpointOrOptions=="object"&&this.endpointOrOptions.experimentalRequestDedupe&&(!a.method||a.method==="GET")?this.#e.fetch([this.endpoint+i,{...this.fetchOptions,body:o,...a,headers:s}]):fetch(this.endpoint+i,{...this.fetchOptions,body:o,...a,headers:s})).then(async u=>{const l=u.clone();return l.ok?l.json():Promise.reject(new Error(`Request failed, status code: ${u.status}
Response:
${await l.text()}`))})}},PE=class{constructor(e){this.base=e}getMany(e,{primary:t=void 0,limit:n=20,cursor:r}={}){const a=`/addresses/${e}/characters`;return this.base.fetch(a,{params:{primary:t,limit:n,cursor:r}})}async getPrimary(e){return(await this.getMany(e,{limit:1,primary:!0})).list?.[0]??null}get(e){const t=`/characters/${e}`;return this.base.fetch(t)}getByHandle(e){const t=`/handles/${e}/character`;return this.base.fetch(t)}async checkIfHandleExists(e){return await this.getByHandle(e)!==null}},TE=class{constructor(e){this.base=e}getManyByCharacter(e,{type:t,limit:n,cursor:r}={}){const a=`/characters/${e}/feed`;return this.base.fetch(a,{params:{type:t,limit:n,cursor:r}})}getManyByCharacterFollowing(e,{type:t,limit:n,cursor:r}={}){const a=`/characters/${e}/feed/follow`;return this.base.fetch(a,{params:{type:t,limit:n,cursor:r}})}get(e,t){const n=`/feed/${e}/${t}`;return this.base.fetch(n)}},SE=class{constructor(e){this.base=e}getMany(e,t={}){const n=`/characters/${e}/links`;return this.base.fetch(n,{params:t})}getManyByLinklistId(e,t={}){const n=`/linklists/${e}/links`;return this.base.fetch(n,{params:t})}getBacklinksOfCharacter(e,{limit:t=20,cursor:n,linkType:r,order:a}={}){const i=`/characters/${e}/backlinks`;return this.base.fetch(i,{params:{limit:t,cursor:n,linkType:r,order:a}})}getBacklinksByAddress(e,{limit:t=20,cursor:n,linkType:r,order:a}={}){const i=`/addresses/${e}/backlinks`;return this.base.fetch(i,{params:{limit:t,cursor:n,linkType:r,order:a}})}getBacklinksByNote(e,t,{limit:n=20,cursor:r,linkType:a,order:i}={}){const s=`/notes/${e}/${t}/backlinks`;return this.base.fetch(s,{params:{limit:n,cursor:r,linkType:a,order:i}})}getBacklinksByErc721(e,t,{limit:n=20,cursor:r,linkType:a,order:i}={}){const s=`/erc721s/${e}/${t}/backlinks`;return this.base.fetch(s,{params:{limit:n,cursor:r,linkType:a,order:i}})}getBacklinksByLinklist(e,{limit:t=20,cursor:n,linkType:r,order:a}={}){const i=`/linklists/${e}/backlinks`;return this.base.fetch(i,{params:{limit:t,cursor:n,linkType:r,order:a}})}getBacklinksByAnyUri(e,{limit:t=20,cursor:n,linkType:r,order:a}={}){const i=`/anyuris/${e}/backlinks`;return this.base.fetch(i,{params:{limit:t,cursor:n,linkType:r,order:a}})}},BE=class{constructor(e){this.base=e}getMany({targetItemType:e,toAddress:t,toCharacterId:n,toNoteId:r,toContractAddress:a,toTokenId:i,toLinklistId:s,limit:o,cursor:c}={}){return this.base.fetch("/link-modules",{params:{targetItemType:e,toAddress:t,toCharacterId:n,toNoteId:r,toContractAddress:a,toTokenId:i,toLinklistId:s,limit:o,cursor:c}})}get(e,t){const n=`/link-modules/${e}/${t}`;return this.base.fetch(n)}},RE=class{constructor(e){this.base=e}getMany(e,{linkType:t,limit:n=20,cursor:r}={}){const a=`/characters/${e}/linklists`;return this.base.fetch(a,{params:{linkType:t,limit:n,cursor:r}})}get(e){const t=`/linklists/${e}`;return this.base.fetch(t)}},ME=class{constructor(e){this.base=e}syncForCharacter(e){const t=`/characters/${e}/metadata/sync`;return this.base.fetch(t)}syncForNote(e,t){const n=`/notes/${e}/${t}/metadata/sync`;return this.base.fetch(n)}},NE=class{constructor(e){this.base=e}getMany({targetItemType:e,toCharacterId:t,toNoteId:n,limit:r,cursor:a}={}){return this.base.fetch("/mint-modules",{params:{targetItemType:e,toCharacterId:t,toNoteId:n,limit:r,cursor:a}})}get(e,t){const n=`/mint-modules/${e}/${t}`;return this.base.fetch(n)}},OE=class{constructor(e){this.base=e}getManyOfAddress(e,{noteCharacterId:t,noteId:n,variant:r,limit:a,cursor:i,order:s}={}){const o=`/addresses/${e}/minted/notes`;return this.base.fetch(o,{params:{noteCharacterId:t,noteId:n,variant:r,limit:a,cursor:i,order:s}})}getManyOfNote(e,t,{owner:n,limit:r,cursor:a,order:i}={}){const s=`/notes/${e}/${t}/minted`;return this.base.fetch(s,{params:{owner:n,limit:r,cursor:a,order:i}})}get(e,t){const n=`/minted/notes/${e}/${t}`;return this.base.fetch(n)}},$E=class{constructor(e){this.base=e}token;requestSignUpEmail(e){return this.base.fetch("/newbie/account/signup/email",{method:"POST",data:{email:e}})}verifySignUpCode(e,t){return this.base.fetch("/newbie/account/signup/email/verify",{method:"POST",data:{email:e,code:t}})}async signUp(e){const t="/newbie/account/signup",{token:n}=await this.base.fetch(t,{method:"PUT",data:e});return this.token=n,n}async signIn(e,t){const n="/newbie/account/signin",{token:r}=await this.base.fetch(n,{method:"POST",data:{email:e,password:t}});return this.token=r,r}requestResetPasswordEmail(e){return this.base.fetch("/v1/newbie/account/reset-password/email",{method:"POST",data:{email:e}})}verifyResetPasswordCode(e,t){return this.base.fetch("/newbie/account/reset-password/email/verify",{method:"POST",data:{email:e,code:t}})}resetPassword(e){return this.base.fetch("/newbie/account/reset-password",{method:"POST",data:e})}getAccount(){return this.base.fetch("/newbie/account",{token:this.token})}async deleteAccount(){await this.base.fetch("/newbie/account",{method:"DELETE",token:this.token})}linkNote({noteId:e,characterId:t,linkType:n,data:r}){return this.base.fetch(`/newbie/contract/links/notes/${t}/${e}/${n}`,{method:"PUT",data:{data:r},token:this.token})}unlinkNote({noteId:e,characterId:t,linkType:n}){return this.base.fetch(`/newbie/contract/links/notes/${t}/${e}/${n}`,{method:"DELETE",token:this.token})}linkCharacter({toCharacterId:e,linkType:t,data:n}){return this.base.fetch(`/newbie/contract/links/characters/${e}/${t}`,{method:"PUT",data:{data:n},token:this.token})}linkCharacters({toCharacterIds:e,toAddresses:t,linkType:n,data:r}){return this.base.fetch("/newbie/contract/links/characters",{method:"PUT",data:{data:r,linkType:n,toCharacterIds:e,toAddresses:t},token:this.token})}unlinkCharacter({toCharacterId:e,linkType:t}){return this.base.fetch(`/newbie/contract/links/characters/${e}/${t}`,{method:"DELETE",token:this.token})}putNote(e){return this.base.fetch("/newbie/contract/notes",{method:"PUT",token:this.token,data:e})}updateNote({noteId:e,metadata:t}){return this.base.fetch(`/newbie/contract/notes/${e}/metadata`,{method:"POST",token:this.token,data:{metadata:t}})}deleteNote({noteId:e}){return this.base.fetch(`/newbie/contract/notes/${e}`,{method:"DELETE",token:this.token})}refillBalance(){return this.base.fetch("/newbie/account/balance/refill",{method:"POST",token:this.token})}updateHandle(e){return this.base.fetch("/newbie/contract/characters/me/handle",{method:"POST",token:this.token,data:{handle:e}})}updateCharactersMetadata({metadata:e,mode:t="merge"}){return this.base.fetch("/newbie/contract/characters/me/metadata",{method:"POST",data:{metadata:e,mode:t},token:this.token})}tipCharacter({characterId:e,amount:t}){return this.base.fetch("/newbie/contract/tips",{method:"POST",data:{characterId:e,amount:t},token:this.token})}tipCharacterForNote({characterId:e,noteId:t,amount:n}){return this.base.fetch("/newbie/contract/tips",{method:"POST",data:{characterId:e,noteId:t,amount:n},token:this.token})}getWithdrawProof(){return this.base.fetch("/newbie/account/withdraw/proof",{method:"GET",token:this.token})}},_E=class{constructor(e){this.base=e}getMany(e={}){return this.base.fetch("/notes",{params:e})}getManyOfCharacterFollowing(e,t={}){const n=`/characters/${e}/notes/following`;return this.base.fetch(n,{params:t})}get(e,t){const n=`/characters/${e}/notes/${t}`;return this.base.fetch(n)}getDistinctTagsOfCharacter(e,{sources:t}={}){const n=`/characters/${e}/notes/tags`;return this.base.fetch(n,{params:{sources:t}})}getDistinctSourcesOfCharacter(e,{tags:t}={}){const n=`/characters/${e}/notes/sources`;return this.base.fetch(n,{params:{tags:t}})}},FE=class{constructor(e){this.base=e}getMany(e,{type:t,includeCharacterMetadata:n,includeSelfInvoked:r,includeIsRead:a,read:i,limit:s,cursor:o}={}){const c=`/characters/${e}/notifications`;return this.base.fetch(c,{params:{type:t,includeCharacterMetadata:n,includeSelfInvoked:r,includeIsRead:a,read:i,limit:s,cursor:o}})}markAllAsRead(e){const t=`/characters/${e}/notifications/read`;return this.base.fetch(t,{method:"POST"})}get(e,t,n,{includeCharacterMetadata:r}={}){const a=`/characters/${e}/notifications/${t}/${n}`;return this.base.fetch(a,{params:{includeCharacterMetadata:r}})}getUnreadCount(e){const t=`/characters/${e}/notifications/unread/count`;return this.base.fetch(t)}},LE=class{constructor(e){this.base=e}getManyForCharacter(e,{limit:t=20,cursor:n}={}){const r=`/characters/${e}/operators`;return this.base.fetch(r,{params:{limit:t,cursor:n}})}getForCharacter(e,t){const n=`/characters/${e}/operators/${t}`;return this.base.fetch(n)}},jE=class{constructor(e){this.base=e}characters(e,t){return this.base.fetch("/characters/search",{params:{q:e,...t}})}notes(e,t){return this.base.fetch("/notes/search",{params:{q:e,...t}})}},DE=class{constructor(e){this.base=e}token;async signIn(e){const t=await e.getAddress();if(!t)throw new Error(`SignInError: invalid address ${t}`);const{message:n}=await this.base.fetch("/siwe/challenge",{method:"POST",data:{address:t,domain:typeof window<"u"&&window.location.host||"crossbell.io",uri:typeof window<"u"&&window.location.origin||"https://crossbell.io",statement:"Sign in with Crossbell to the app."}}),{token:r}=await this.base.fetch("/siwe/login",{method:"POST",data:{address:t,signature:await e.signMessage(n)}});return this.token=r,{token:r}}getAccount(){return this.base.fetch("/siwe/account",{method:"GET",token:this.token})}getBalance(){return this.base.fetch("/siwe/account/balance",{method:"GET",token:this.token})}updateMetadata({mode:e="merge",characterId:t,metadata:n}){return this.base.fetch(`/siwe/contract/characters/${t}/metadata`,{method:"POST",token:this.token,data:{metadata:n,mode:e}})}linkNote({fromCharacterId:e,noteId:t,characterId:n,linkType:r,data:a}){return this.base.fetch(`/siwe/contract/characters/${e}/links/notes/${n}/${t}/${r}`,{method:"PUT",token:this.token,data:{data:a}})}unlinkNote({fromCharacterId:e,noteId:t,characterId:n,linkType:r}){return this.base.fetch(`/siwe/contract/characters/${e}/links/notes/${n}/${t}/${r}`,{method:"DELETE",token:this.token})}linkCharacter({characterId:e,toCharacterId:t,linkType:n,data:r}){return this.base.fetch(`/siwe/contract/characters/${e}/links/characters/${t}/${n}`,{method:"PUT",token:this.token,data:{data:r}})}linkCharacters({characterId:e,toCharacterIds:t,toAddresses:n,linkType:r,data:a}){return this.base.fetch(`/siwe/contract/characters/${e}/links/characters`,{method:"PUT",token:this.token,data:{data:a,linkType:r,toCharacterIds:t,toAddresses:n}})}unlinkCharacter({characterId:e,toCharacterId:t,linkType:n}){return this.base.fetch(`/siwe/contract/characters/${e}/links/characters/${t}/${n}`,{method:"DELETE",token:this.token})}putNote({characterId:e,...t}){return this.base.fetch(`/siwe/contract/characters/${e}/notes`,{method:"PUT",token:this.token,data:t})}updateNote({characterId:e,noteId:t,metadata:n}){return this.base.fetch(`/siwe/contract/characters/${e}/notes/${t}/metadata`,{method:"POST",token:this.token,data:{metadata:n}})}deleteNote({characterId:e,noteId:t}){return this.base.fetch(`/siwe/contract/characters/${e}/notes/${t}`,{method:"DELETE",token:this.token})}mintNote({characterId:e,noteId:t}){return this.base.fetch(`/siwe/contract/characters/${e}/notes/${t}/minted`,{method:"PUT",token:this.token,data:{}})}},UE=class{constructor(e){this.base=e}getForCharacter(e){const t=`/stat/characters/${e}`;return this.base.fetch(t)}getForNote(e,t){const n=`/stat/notes/${e}/${t}`;return this.base.fetch(n)}},zE=class{constructor(e){this.base=e}getMany({characterId:e,toCharacterId:t,toNoteId:n,tokenAddress:r,includeZeroAmount:a,includeMetadata:i,limit:s,cursor:o}={}){return this.base.fetch("/tips",{params:{characterId:e,toCharacterId:t,toNoteId:n,tokenAddress:r,includeZeroAmount:a,includeMetadata:i,limit:s,cursor:o}})}get(e,t){const n=`/tips/${e}/${t}`;return this.base.fetch(n)}},My=class extends CE{link=new SE(this);linklist=new RE(this);note=new _E(this);character=new PE(this);search=new jE(this);feed=new TE(this);mintedNote=new OE(this);metadata=new ME(this);achievement=new AE(this);notification=new FE(this);operator=new LE(this);tip=new zE(this);linkModule=new BE(this);mintModule=new NE(this);newbie=new $E(this);siwe=new DE(this);stat=new UE(this)};function Un(e){return new My(e)}var po,Xd;function qE(){if(Xd)return po;Xd=1;function e(){this._types=Object.create(null),this._extensions=Object.create(null);for(let t=0;t<arguments.length;t++)this.define(arguments[t]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}return e.prototype.define=function(t,n){for(let r in t){let a=t[r].map(function(i){return i.toLowerCase()});r=r.toLowerCase();for(let i=0;i<a.length;i++){const s=a[i];if(s[0]!=="*"){if(!n&&s in this._types)throw new Error('Attempt to change mapping for "'+s+'" extension from "'+this._types[s]+'" to "'+r+'". Pass `force=true` to allow this, otherwise remove "'+s+'" from the list of extensions for "'+r+'".');this._types[s]=r}}if(n||!this._extensions[r]){const i=a[0];this._extensions[r]=i[0]!=="*"?i:i.substr(1)}}},e.prototype.getType=function(t){t=String(t);let n=t.replace(/^.*[/\\]/,"").toLowerCase(),r=n.replace(/^.*\./,"").toLowerCase(),a=n.length<t.length;return(r.length<n.length-1||!a)&&this._types[r]||null},e.prototype.getExtension=function(t){return t=/^\s*([^;\s]*)/.test(t)&&RegExp.$1,t&&this._extensions[t.toLowerCase()]||null},po=e,po}var fo,ep;function HE(){return ep||(ep=1,fo={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}),fo}var mo,tp;function GE(){return tp||(tp=1,mo={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}),mo}var ho,np;function VE(){if(np)return ho;np=1;let e=qE();return ho=new e(HE(),GE()),ho}var KE=VE();const QE=ki(KE);function Ny(e,t){return function(){return e.apply(t,arguments)}}const{toString:WE}=Object.prototype,{getPrototypeOf:Wu}=Object,{iterator:rs,toStringTag:Oy}=Symbol,as=(e=>t=>{const n=WE.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ct=e=>(e=e.toLowerCase(),t=>as(t)===e),is=e=>t=>typeof t===e,{isArray:tr}=Array,jr=is("undefined");function da(e){return e!==null&&!jr(e)&&e.constructor!==null&&!jr(e.constructor)&&Oe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const $y=ct("ArrayBuffer");function JE(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&$y(e.buffer),t}const ZE=is("string"),Oe=is("function"),_y=is("number"),pa=e=>e!==null&&typeof e=="object",YE=e=>e===!0||e===!1,Ga=e=>{if(as(e)!=="object")return!1;const t=Wu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Oy in e)&&!(rs in e)},XE=e=>{if(!pa(e)||da(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},e5=ct("Date"),t5=ct("File"),n5=ct("Blob"),r5=ct("FileList"),a5=e=>pa(e)&&Oe(e.pipe),i5=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Oe(e.append)&&((t=as(e))==="formdata"||t==="object"&&Oe(e.toString)&&e.toString()==="[object FormData]"))},s5=ct("URLSearchParams"),[o5,c5,u5,l5]=["ReadableStream","Request","Response","Headers"].map(ct),d5=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fa(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),tr(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(da(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let o;for(r=0;r<s;r++)o=i[r],t.call(null,e[o],o,e)}}function Fy(e,t){if(da(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Yt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ly=e=>!jr(e)&&e!==Yt;function Ac(){const{caseless:e}=Ly(this)&&this||{},t={},n=(r,a)=>{const i=e&&Fy(t,a)||a;Ga(t[i])&&Ga(r)?t[i]=Ac(t[i],r):Ga(r)?t[i]=Ac({},r):tr(r)?t[i]=r.slice():t[i]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&fa(arguments[r],n);return t}const p5=(e,t,n,{allOwnKeys:r}={})=>(fa(t,(a,i)=>{n&&Oe(a)?e[i]=Ny(a,n):e[i]=a},{allOwnKeys:r}),e),f5=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),m5=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},h5=(e,t,n,r)=>{let a,i,s;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)s=a[i],(!r||r(s,e,t))&&!o[s]&&(t[s]=e[s],o[s]=!0);e=n!==!1&&Wu(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},y5=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},b5=e=>{if(!e)return null;if(tr(e))return e;let t=e.length;if(!_y(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},g5=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Wu(Uint8Array)),w5=(e,t)=>{const r=(e&&e[rs]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},v5=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},x5=ct("HTMLFormElement"),A5=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),rp=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),E5=ct("RegExp"),jy=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};fa(n,(a,i)=>{let s;(s=t(a,i,e))!==!1&&(r[i]=s||a)}),Object.defineProperties(e,r)},k5=e=>{jy(e,(t,n)=>{if(Oe(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Oe(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},I5=(e,t)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return tr(e)?r(e):r(String(e).split(t)),n},C5=()=>{},P5=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function T5(e){return!!(e&&Oe(e.append)&&e[Oy]==="FormData"&&e[rs])}const S5=e=>{const t=new Array(10),n=(r,a)=>{if(pa(r)){if(t.indexOf(r)>=0)return;if(da(r))return r;if(!("toJSON"in r)){t[a]=r;const i=tr(r)?[]:{};return fa(r,(s,o)=>{const c=n(s,a+1);!jr(c)&&(i[o]=c)}),t[a]=void 0,i}}return r};return n(e,0)},B5=ct("AsyncFunction"),R5=e=>e&&(pa(e)||Oe(e))&&Oe(e.then)&&Oe(e.catch),Dy=((e,t)=>e?setImmediate:t?((n,r)=>(Yt.addEventListener("message",({source:a,data:i})=>{a===Yt&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Yt.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Oe(Yt.postMessage)),M5=typeof queueMicrotask<"u"?queueMicrotask.bind(Yt):typeof process<"u"&&process.nextTick||Dy,N5=e=>e!=null&&Oe(e[rs]),P={isArray:tr,isArrayBuffer:$y,isBuffer:da,isFormData:i5,isArrayBufferView:JE,isString:ZE,isNumber:_y,isBoolean:YE,isObject:pa,isPlainObject:Ga,isEmptyObject:XE,isReadableStream:o5,isRequest:c5,isResponse:u5,isHeaders:l5,isUndefined:jr,isDate:e5,isFile:t5,isBlob:n5,isRegExp:E5,isFunction:Oe,isStream:a5,isURLSearchParams:s5,isTypedArray:g5,isFileList:r5,forEach:fa,merge:Ac,extend:p5,trim:d5,stripBOM:f5,inherits:m5,toFlatObject:h5,kindOf:as,kindOfTest:ct,endsWith:y5,toArray:b5,forEachEntry:w5,matchAll:v5,isHTMLForm:x5,hasOwnProperty:rp,hasOwnProp:rp,reduceDescriptors:jy,freezeMethods:k5,toObjectSet:I5,toCamelCase:A5,noop:C5,toFiniteNumber:P5,findKey:Fy,global:Yt,isContextDefined:Ly,isSpecCompliantForm:T5,toJSONObject:S5,isAsyncFn:B5,isThenable:R5,setImmediate:Dy,asap:M5,isIterable:N5};function Z(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}P.inherits(Z,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const Uy=Z.prototype,zy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{zy[e]={value:e}});Object.defineProperties(Z,zy);Object.defineProperty(Uy,"isAxiosError",{value:!0});Z.from=(e,t,n,r,a,i)=>{const s=Object.create(Uy);return P.toFlatObject(e,s,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),Z.call(s,e.message,t,n,r,a),s.cause=e,s.name=e.name,i&&Object.assign(s,i),s};const O5=null;function Ec(e){return P.isPlainObject(e)||P.isArray(e)}function qy(e){return P.endsWith(e,"[]")?e.slice(0,-2):e}function ap(e,t,n){return e?e.concat(t).map(function(a,i){return a=qy(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function $5(e){return P.isArray(e)&&!e.some(Ec)}const _5=P.toFlatObject(P,{},null,function(t){return/^is[A-Z]/.test(t)});function ss(e,t,n){if(!P.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=P.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,g){return!P.isUndefined(g[y])});const r=n.metaTokens,a=n.visitor||l,i=n.dots,s=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(t);if(!P.isFunction(a))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(P.isDate(m))return m.toISOString();if(P.isBoolean(m))return m.toString();if(!c&&P.isBlob(m))throw new Z("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(m)||P.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function l(m,y,g){let b=m;if(m&&!g&&typeof m=="object"){if(P.endsWith(y,"{}"))y=r?y:y.slice(0,-2),m=JSON.stringify(m);else if(P.isArray(m)&&$5(m)||(P.isFileList(m)||P.endsWith(y,"[]"))&&(b=P.toArray(m)))return y=qy(y),b.forEach(function(w,v){!(P.isUndefined(w)||w===null)&&t.append(s===!0?ap([y],v,i):s===null?y:y+"[]",u(w))}),!1}return Ec(m)?!0:(t.append(ap(g,y,i),u(m)),!1)}const d=[],p=Object.assign(_5,{defaultVisitor:l,convertValue:u,isVisitable:Ec});function f(m,y){if(!P.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(m),P.forEach(m,function(b,h){(!(P.isUndefined(b)||b===null)&&a.call(t,b,P.isString(h)?h.trim():h,y,p))===!0&&f(b,y?y.concat(h):[h])}),d.pop()}}if(!P.isObject(e))throw new TypeError("data must be an object");return f(e),t}function ip(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Ju(e,t){this._pairs=[],e&&ss(e,this,t)}const Hy=Ju.prototype;Hy.append=function(t,n){this._pairs.push([t,n])};Hy.toString=function(t){const n=t?function(r){return t.call(this,r,ip)}:ip;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function F5(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Gy(e,t,n){if(!t)return e;const r=n&&n.encode||F5;P.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(t,n):i=P.isURLSearchParams(t)?t.toString():new Ju(t,n).toString(r),i){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class sp{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){P.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Vy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},L5=typeof URLSearchParams<"u"?URLSearchParams:Ju,j5=typeof FormData<"u"?FormData:null,D5=typeof Blob<"u"?Blob:null,U5={isBrowser:!0,classes:{URLSearchParams:L5,FormData:j5,Blob:D5},protocols:["http","https","file","blob","url","data"]},Zu=typeof window<"u"&&typeof document<"u",kc=typeof navigator=="object"&&navigator||void 0,z5=Zu&&(!kc||["ReactNative","NativeScript","NS"].indexOf(kc.product)<0),q5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",H5=Zu&&window.location.href||"http://localhost",G5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zu,hasStandardBrowserEnv:z5,hasStandardBrowserWebWorkerEnv:q5,navigator:kc,origin:H5},Symbol.toStringTag,{value:"Module"})),xe={...G5,...U5};function V5(e,t){return ss(e,new xe.classes.URLSearchParams,{visitor:function(n,r,a,i){return xe.isNode&&P.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function K5(e){return P.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Q5(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}function Ky(e){function t(n,r,a,i){let s=n[i++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),c=i>=n.length;return s=!s&&P.isArray(a)?a.length:s,c?(P.hasOwnProp(a,s)?a[s]=[a[s],r]:a[s]=r,!o):((!a[s]||!P.isObject(a[s]))&&(a[s]=[]),t(n,r,a[s],i)&&P.isArray(a[s])&&(a[s]=Q5(a[s])),!o)}if(P.isFormData(e)&&P.isFunction(e.entries)){const n={};return P.forEachEntry(e,(r,a)=>{t(K5(r),a,n,0)}),n}return null}function W5(e,t,n){if(P.isString(e))try{return(t||JSON.parse)(e),P.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ma={transitional:Vy,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=P.isObject(t);if(i&&P.isHTMLForm(t)&&(t=new FormData(t)),P.isFormData(t))return a?JSON.stringify(Ky(t)):t;if(P.isArrayBuffer(t)||P.isBuffer(t)||P.isStream(t)||P.isFile(t)||P.isBlob(t)||P.isReadableStream(t))return t;if(P.isArrayBufferView(t))return t.buffer;if(P.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return V5(t,this.formSerializer).toString();if((o=P.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ss(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),W5(t)):t}],transformResponse:[function(t){const n=this.transitional||ma.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(P.isResponse(t)||P.isReadableStream(t))return t;if(t&&P.isString(t)&&(r&&!this.responseType||a)){const s=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(o){if(s)throw o.name==="SyntaxError"?Z.from(o,Z.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xe.classes.FormData,Blob:xe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],e=>{ma.headers[e]={}});const J5=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Z5=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(s){a=s.indexOf(":"),n=s.substring(0,a).trim().toLowerCase(),r=s.substring(a+1).trim(),!(!n||t[n]&&J5[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},op=Symbol("internals");function fr(e){return e&&String(e).trim().toLowerCase()}function Va(e){return e===!1||e==null?e:P.isArray(e)?e.map(Va):String(e)}function Y5(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const X5=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function yo(e,t,n,r,a){if(P.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!P.isString(t)){if(P.isString(r))return t.indexOf(r)!==-1;if(P.isRegExp(r))return r.test(t)}}function ek(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function tk(e,t){const n=P.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,i,s){return this[r].call(this,t,a,i,s)},configurable:!0})})}let $e=class{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function i(o,c,u){const l=fr(c);if(!l)throw new Error("header name must be a non-empty string");const d=P.findKey(a,l);(!d||a[d]===void 0||u===!0||u===void 0&&a[d]!==!1)&&(a[d||c]=Va(o))}const s=(o,c)=>P.forEach(o,(u,l)=>i(u,l,c));if(P.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(P.isString(t)&&(t=t.trim())&&!X5(t))s(Z5(t),n);else if(P.isObject(t)&&P.isIterable(t)){let o={},c,u;for(const l of t){if(!P.isArray(l))throw TypeError("Object iterator must return a key-value pair");o[u=l[0]]=(c=o[u])?P.isArray(c)?[...c,l[1]]:[c,l[1]]:l[1]}s(o,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=fr(t),t){const r=P.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return Y5(a);if(P.isFunction(n))return n.call(this,a,r);if(P.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=fr(t),t){const r=P.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||yo(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function i(s){if(s=fr(s),s){const o=P.findKey(r,s);o&&(!n||yo(r,r[o],o,n))&&(delete r[o],a=!0)}}return P.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!t||yo(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,r={};return P.forEach(this,(a,i)=>{const s=P.findKey(r,i);if(s){n[s]=Va(a),delete n[i];return}const o=t?ek(i):String(i).trim();o!==i&&delete n[i],n[o]=Va(a),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return P.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&P.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[op]=this[op]={accessors:{}}).accessors,a=this.prototype;function i(s){const o=fr(s);r[o]||(tk(a,s),r[o]=!0)}return P.isArray(t)?t.forEach(i):i(t),this}};$e.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors($e.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});P.freezeMethods($e);function bo(e,t){const n=this||ma,r=t||n,a=$e.from(r.headers);let i=r.data;return P.forEach(e,function(o){i=o.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function Qy(e){return!!(e&&e.__CANCEL__)}function nr(e,t,n){Z.call(this,e??"canceled",Z.ERR_CANCELED,t,n),this.name="CanceledError"}P.inherits(nr,Z,{__CANCEL__:!0});function Wy(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Z("Request failed with status code "+n.status,[Z.ERR_BAD_REQUEST,Z.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function nk(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function rk(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,i=0,s;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),l=r[i];s||(s=u),n[a]=c,r[a]=u;let d=i,p=0;for(;d!==a;)p+=n[d++],d=d%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-s<t)return;const f=l&&u-l;return f?Math.round(p*1e3/f):void 0}}function ak(e,t){let n=0,r=1e3/t,a,i;const s=(u,l=Date.now())=>{n=l,a=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const l=Date.now(),d=l-n;d>=r?s(u,l):(a=u,i||(i=setTimeout(()=>{i=null,s(a)},r-d)))},()=>a&&s(a)]}const ii=(e,t,n=3)=>{let r=0;const a=rk(50,250);return ak(i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,c=s-r,u=a(c),l=s<=o;r=s;const d={loaded:s,total:o,progress:o?s/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&l?(o-s)/u:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(d)},n)},cp=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},up=e=>(...t)=>P.asap(()=>e(...t)),ik=xe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,xe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(xe.origin),xe.navigator&&/(msie|trident)/i.test(xe.navigator.userAgent)):()=>!0,sk=xe.hasStandardBrowserEnv?{write(e,t,n,r,a,i){const s=[e+"="+encodeURIComponent(t)];P.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),P.isString(r)&&s.push("path="+r),P.isString(a)&&s.push("domain="+a),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ok(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ck(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Jy(e,t,n){let r=!ok(t);return e&&(r||n==!1)?ck(e,t):t}const lp=e=>e instanceof $e?{...e}:e;function ln(e,t){t=t||{};const n={};function r(u,l,d,p){return P.isPlainObject(u)&&P.isPlainObject(l)?P.merge.call({caseless:p},u,l):P.isPlainObject(l)?P.merge({},l):P.isArray(l)?l.slice():l}function a(u,l,d,p){if(P.isUndefined(l)){if(!P.isUndefined(u))return r(void 0,u,d,p)}else return r(u,l,d,p)}function i(u,l){if(!P.isUndefined(l))return r(void 0,l)}function s(u,l){if(P.isUndefined(l)){if(!P.isUndefined(u))return r(void 0,u)}else return r(void 0,l)}function o(u,l,d){if(d in t)return r(u,l);if(d in e)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(u,l,d)=>a(lp(u),lp(l),d,!0)};return P.forEach(Object.keys({...e,...t}),function(l){const d=c[l]||a,p=d(e[l],t[l],l);P.isUndefined(p)&&d!==o||(n[l]=p)}),n}const Zy=e=>{const t=ln({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:o}=t;t.headers=s=$e.from(s),t.url=Gy(Jy(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(P.isFormData(n)){if(xe.hasStandardBrowserEnv||xe.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[u,...l]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([u||"multipart/form-data",...l].join("; "))}}if(xe.hasStandardBrowserEnv&&(r&&P.isFunction(r)&&(r=r(t)),r||r!==!1&&ik(t.url))){const u=a&&i&&sk.read(i);u&&s.set(a,u)}return t},uk=typeof XMLHttpRequest<"u",lk=uk&&function(e){return new Promise(function(n,r){const a=Zy(e);let i=a.data;const s=$e.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=a,l,d,p,f,m;function y(){f&&f(),m&&m(),a.cancelToken&&a.cancelToken.unsubscribe(l),a.signal&&a.signal.removeEventListener("abort",l)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function b(){if(!g)return;const w=$e.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),x={data:!o||o==="text"||o==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:w,config:e,request:g};Wy(function(T){n(T),y()},function(T){r(T),y()},x),g=null}"onloadend"in g?g.onloadend=b:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(b)},g.onabort=function(){g&&(r(new Z("Request aborted",Z.ECONNABORTED,e,g)),g=null)},g.onerror=function(){r(new Z("Network Error",Z.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let v=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const x=a.transitional||Vy;a.timeoutErrorMessage&&(v=a.timeoutErrorMessage),r(new Z(v,x.clarifyTimeoutError?Z.ETIMEDOUT:Z.ECONNABORTED,e,g)),g=null},i===void 0&&s.setContentType(null),"setRequestHeader"in g&&P.forEach(s.toJSON(),function(v,x){g.setRequestHeader(x,v)}),P.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),o&&o!=="json"&&(g.responseType=a.responseType),u&&([p,m]=ii(u,!0),g.addEventListener("progress",p)),c&&g.upload&&([d,f]=ii(c),g.upload.addEventListener("progress",d),g.upload.addEventListener("loadend",f)),(a.cancelToken||a.signal)&&(l=w=>{g&&(r(!w||w.type?new nr(null,e,g):w),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(l),a.signal&&(a.signal.aborted?l():a.signal.addEventListener("abort",l)));const h=nk(a.url);if(h&&xe.protocols.indexOf(h)===-1){r(new Z("Unsupported protocol "+h+":",Z.ERR_BAD_REQUEST,e));return}g.send(i||null)})},dk=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const i=function(u){if(!a){a=!0,o();const l=u instanceof Error?u:this.reason;r.abort(l instanceof Z?l:new nr(l instanceof Error?l.message:l))}};let s=t&&setTimeout(()=>{s=null,i(new Z(`timeout ${t} of ms exceeded`,Z.ETIMEDOUT))},t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>P.asap(o),c}},pk=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},fk=async function*(e,t){for await(const n of mk(e))yield*pk(n,t)},mk=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},dp=(e,t,n,r)=>{const a=fk(e,t);let i=0,s,o=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:l}=await a.next();if(u){o(),c.close();return}let d=l.byteLength;if(n){let p=i+=d;n(p)}c.enqueue(new Uint8Array(l))}catch(u){throw o(u),u}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},os=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Yy=os&&typeof ReadableStream=="function",hk=os&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Xy=(e,...t)=>{try{return!!e(...t)}catch{return!1}},yk=Yy&&Xy(()=>{let e=!1;const t=new Request(xe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),pp=64*1024,Ic=Yy&&Xy(()=>P.isReadableStream(new Response("").body)),si={stream:Ic&&(e=>e.body)};os&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!si[t]&&(si[t]=P.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Z(`Response type '${t}' is not supported`,Z.ERR_NOT_SUPPORT,r)})})})(new Response);const bk=async e=>{if(e==null)return 0;if(P.isBlob(e))return e.size;if(P.isSpecCompliantForm(e))return(await new Request(xe.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(P.isArrayBufferView(e)||P.isArrayBuffer(e))return e.byteLength;if(P.isURLSearchParams(e)&&(e=e+""),P.isString(e))return(await hk(e)).byteLength},gk=async(e,t)=>{const n=P.toFiniteNumber(e.getContentLength());return n??bk(t)},wk=os&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:i,timeout:s,onDownloadProgress:o,onUploadProgress:c,responseType:u,headers:l,withCredentials:d="same-origin",fetchOptions:p}=Zy(e);u=u?(u+"").toLowerCase():"text";let f=dk([a,i&&i.toAbortSignal()],s),m;const y=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(c&&yk&&n!=="get"&&n!=="head"&&(g=await gk(l,r))!==0){let x=new Request(t,{method:"POST",body:r,duplex:"half"}),k;if(P.isFormData(r)&&(k=x.headers.get("content-type"))&&l.setContentType(k),x.body){const[T,C]=cp(g,ii(up(c)));r=dp(x.body,pp,T,C)}}P.isString(d)||(d=d?"include":"omit");const b="credentials"in Request.prototype;m=new Request(t,{...p,signal:f,method:n.toUpperCase(),headers:l.normalize().toJSON(),body:r,duplex:"half",credentials:b?d:void 0});let h=await fetch(m,p);const w=Ic&&(u==="stream"||u==="response");if(Ic&&(o||w&&y)){const x={};["status","statusText","headers"].forEach(A=>{x[A]=h[A]});const k=P.toFiniteNumber(h.headers.get("content-length")),[T,C]=o&&cp(k,ii(up(o),!0))||[];h=new Response(dp(h.body,pp,T,()=>{C&&C(),y&&y()}),x)}u=u||"text";let v=await si[P.findKey(si,u)||"text"](h,e);return!w&&y&&y(),await new Promise((x,k)=>{Wy(x,k,{data:v,headers:$e.from(h.headers),status:h.status,statusText:h.statusText,config:e,request:m})})}catch(b){throw y&&y(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new Z("Network Error",Z.ERR_NETWORK,e,m),{cause:b.cause||b}):Z.from(b,b&&b.code,e,m)}}),Cc={http:O5,xhr:lk,fetch:wk};P.forEach(Cc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const fp=e=>`- ${e}`,vk=e=>P.isFunction(e)||e===null||e===!1,eb={getAdapter:e=>{e=P.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let i=0;i<t;i++){n=e[i];let s;if(r=n,!vk(n)&&(r=Cc[(s=String(n)).toLowerCase()],r===void 0))throw new Z(`Unknown adapter '${s}'`);if(r)break;a[s||"#"+i]=r}if(!r){const i=Object.entries(a).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=t?i.length>1?`since :
`+i.map(fp).join(`
`):" "+fp(i[0]):"as no adapter specified";throw new Z("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:Cc};function go(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new nr(null,e)}function mp(e){return go(e),e.headers=$e.from(e.headers),e.data=bo.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),eb.getAdapter(e.adapter||ma.adapter)(e).then(function(r){return go(e),r.data=bo.call(e,e.transformResponse,r),r.headers=$e.from(r.headers),r},function(r){return Qy(r)||(go(e),r&&r.response&&(r.response.data=bo.call(e,e.transformResponse,r.response),r.response.headers=$e.from(r.response.headers))),Promise.reject(r)})}const tb="1.11.0",cs={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{cs[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const hp={};cs.transitional=function(t,n,r){function a(i,s){return"[Axios v"+tb+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,o)=>{if(t===!1)throw new Z(a(s," has been removed"+(n?" in "+n:"")),Z.ERR_DEPRECATED);return n&&!hp[s]&&(hp[s]=!0,console.warn(a(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,s,o):!0}};cs.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function xk(e,t,n){if(typeof e!="object")throw new Z("options must be an object",Z.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],s=t[i];if(s){const o=e[i],c=o===void 0||s(o,i,e);if(c!==!0)throw new Z("option "+i+" must be "+c,Z.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Z("Unknown option "+i,Z.ERR_BAD_OPTION)}}const Ka={assertOptions:xk,validators:cs},ht=Ka.validators;let en=class{constructor(t){this.defaults=t||{},this.interceptors={request:new sp,response:new sp}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ln(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&Ka.assertOptions(r,{silentJSONParsing:ht.transitional(ht.boolean),forcedJSONParsing:ht.transitional(ht.boolean),clarifyTimeoutError:ht.transitional(ht.boolean)},!1),a!=null&&(P.isFunction(a)?n.paramsSerializer={serialize:a}:Ka.assertOptions(a,{encode:ht.function,serialize:ht.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ka.assertOptions(n,{baseUrl:ht.spelling("baseURL"),withXsrfToken:ht.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=i&&P.merge(i.common,i[n.method]);i&&P.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=$e.concat(s,i);const o=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(c=c&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let l,d=0,p;if(!c){const m=[mp.bind(this),void 0];for(m.unshift(...o),m.push(...u),p=m.length,l=Promise.resolve(n);d<p;)l=l.then(m[d++],m[d++]);return l}p=o.length;let f=n;for(d=0;d<p;){const m=o[d++],y=o[d++];try{f=m(f)}catch(g){y.call(this,g);break}}try{l=mp.call(this,f)}catch(m){return Promise.reject(m)}for(d=0,p=u.length;d<p;)l=l.then(u[d++],u[d++]);return l}getUri(t){t=ln(this.defaults,t);const n=Jy(t.baseURL,t.url,t.allowAbsoluteUrls);return Gy(n,t.params,t.paramsSerializer)}};P.forEach(["delete","get","head","options"],function(t){en.prototype[t]=function(n,r){return this.request(ln(r||{},{method:t,url:n,data:(r||{}).data}))}});P.forEach(["post","put","patch"],function(t){function n(r){return function(i,s,o){return this.request(ln(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}en.prototype[t]=n(),en.prototype[t+"Form"]=n(!0)});let Ak=class nb{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const s=new Promise(o=>{r.subscribe(o),i=o}).then(a);return s.cancel=function(){r.unsubscribe(i)},s},t(function(i,s,o){r.reason||(r.reason=new nr(i,s,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new nb(function(a){t=a}),cancel:t}}};function Ek(e){return function(n){return e.apply(null,n)}}function kk(e){return P.isObject(e)&&e.isAxiosError===!0}const Pc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Pc).forEach(([e,t])=>{Pc[t]=e});function rb(e){const t=new en(e),n=Ny(en.prototype.request,t);return P.extend(n,en.prototype,t,{allOwnKeys:!0}),P.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return rb(ln(e,a))},n}const J=rb(ma);J.Axios=en;J.CanceledError=nr;J.CancelToken=Ak;J.isCancel=Qy;J.VERSION=tb;J.toFormData=ss;J.AxiosError=Z;J.Cancel=J.CanceledError;J.all=function(t){return Promise.all(t)};J.spread=Ek;J.isAxiosError=kk;J.mergeConfig=ln;J.AxiosHeaders=$e;J.formToJSON=e=>Ky(P.isHTMLForm(e)?new FormData(e):e);J.getAdapter=eb.getAdapter;J.HttpStatusCode=Pc;J.default=J;const{Axios:NR,AxiosError:OR,CanceledError:$R,isCancel:_R,CancelToken:FR,VERSION:LR,all:jR,Cancel:DR,isAxiosError:UR,spread:zR,toFormData:qR,AxiosHeaders:HR,HttpStatusCode:GR,formToJSON:VR,getAdapter:KR,mergeConfig:QR}=J;function bn(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new qk(e.type);return`${e.name}(${us(e.inputs,{includeName:t})})`}function us(e,{includeName:t=!1}={}){return e?e.map(n=>Ik(n,{includeName:t})).join(t?", ":","):""}function Ik(e,{includeName:t}){return e.type.startsWith("tuple")?`(${us(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function dn(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function de(e){return dn(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const Ck="0.3.50",Pk=e=>e,ls=e=>e,Tk=()=>`viem@${Ck}`;var ab=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},oi,ib;class U extends Error{constructor(t,n={}){super(),oi.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:Tk()});const r=n.cause instanceof U?n.cause.details:n.cause?.message?n.cause.message:n.details,a=n.cause instanceof U&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: https://viem.sh${a}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=a,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return ab(this,oi,"m",ib).call(this,this,t)}}oi=new WeakSet,ib=function e(t,n){return n?.(t)?t:t.cause?ab(this,oi,"m",e).call(this,t.cause,n):t};class Sk extends U{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class yp extends U{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class Yu extends U{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${us(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class ds extends U{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class Bk extends U{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class Rk extends U{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${de(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class Mk extends U{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class Nk extends U{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"})}}class Ok extends U{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class $k extends U{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class bp extends U{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class ci extends U{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class _k extends U{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class Fk extends U{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class Lk extends U{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${us(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class jk extends U{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${bn(t,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"})}}class Dk extends U{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class Uk extends U{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class zk extends U{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class qk extends U{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class Hk extends U{constructor(t){super(`Filter type "${t}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class sb extends U{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class ob extends U{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function rr(e,{dir:t,size:n=32}={}){return typeof e=="string"?zt(e,{dir:t,size:n}):Gk(e,{dir:t,size:n})}function zt(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new ob({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function Gk(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new ob({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let a=0;a<n;a++){const i=t==="right";r[i?a:n-a-1]=e[i?a:e.length-a-1]}return r}class Vk extends U{constructor({max:t,min:n,signed:r,size:a,value:i}){super(`Number "${i}" is not in safe ${a?`${a*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class Kk extends U{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class Qk extends U{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function Rn(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let a=0;a<n.length-1&&n[t==="left"?a:n.length-a-1].toString()==="0";a++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Vt(e,{size:t}){if(de(e)>t)throw new Qk({givenSize:de(e),maxSize:t})}function Xu(e,t={}){const{signed:n}=t;t.size&&Vt(e,{size:t.size});const r=BigInt(e);if(!n)return r;const a=(e.length-2)/2,i=(1n<<BigInt(a)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(a*2,"f")}`)-1n}function Wk(e,t={}){let n=e;if(t.size&&(Vt(n,{size:t.size}),n=Rn(n)),Rn(n)==="0x00")return!1;if(Rn(n)==="0x01")return!0;throw new Kk(n)}function Pe(e,t={}){return Number(Xu(e,t))}function Jk(e,t={}){let n=el(e);return t.size&&(Vt(n,{size:t.size}),n=Rn(n,{dir:"right"})),new TextDecoder().decode(n)}const Zk=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Kt(e,t={}){return typeof e=="number"||typeof e=="bigint"?re(e,t):typeof e=="string"?ub(e,t):typeof e=="boolean"?cb(e,t):ui(e,t)}function cb(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Vt(n,{size:t.size}),rr(n,{size:t.size})):n}function ui(e,t={}){let n="";for(let a=0;a<e.length;a++)n+=Zk[e[a]];const r=`0x${n}`;return typeof t.size=="number"?(Vt(r,{size:t.size}),rr(r,{dir:"right",size:t.size})):r}function re(e,t={}){const{signed:n,size:r}=t,a=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof i=="bigint"&&n?-i-1n:0;if(i&&a>i||a<s){const c=typeof e=="bigint"?"n":"";throw new Vk({max:i?`${i}${c}`:void 0,min:`${s}${c}`,signed:n,size:r,value:`${e}${c}`})}const o=`0x${(n&&a<0?(1n<<BigInt(r*8))+BigInt(a):a).toString(16)}`;return r?rr(o,{size:r}):o}const Yk=new TextEncoder;function ub(e,t={}){const n=Yk.encode(e);return ui(n,t)}const Xk=new TextEncoder;function zn(e,t={}){return typeof e=="number"||typeof e=="bigint"?tI(e,t):typeof e=="boolean"?eI(e,t):dn(e)?el(e,t):pn(e,t)}function eI(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Vt(n,{size:t.size}),rr(n,{size:t.size})):n}function el(e,t={}){let n=e;t.size&&(Vt(n,{size:t.size}),n=rr(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const a=new Uint8Array(r.length/2);for(let i=0;i<a.length;i++){const s=i*2,o=r.slice(s,s+2),c=Number.parseInt(o,16);if(Number.isNaN(c)||c<0)throw new U(`Invalid byte sequence ("${o}" in "${r}").`);a[i]=c}return a}function tI(e,t){const n=re(e,t);return el(n)}function pn(e,t={}){const n=Xk.encode(e);return typeof t.size=="number"?(Vt(n,{size:t.size}),rr(n,{dir:"right",size:t.size})):n}const nI=/((function|event)\s)?(.*)(\((.*)\))/;function lb(e){const t=e.match(nI),n=t?.[2]||void 0,r=t?.[3],a=t?.[5]||void 0;return{type:n,name:r,params:a}}function rI(e){return lb(e).name}function aI(e){return lb(e).params?.split(",").map(r=>r.trim().split(" "))?.map(r=>({type:r[0],name:r[1]==="indexed"?r[2]:r[1],...r[1]==="indexed"?{indexed:!0}:{}}))}function Tc(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function iI(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function db(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function sI(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Tc(e.outputLen),Tc(e.blockLen)}function oI(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function cI(e,t){db(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Cn={number:Tc,bool:iI,bytes:db,hash:sI,exists:oI,output:cI},_a=BigInt(2**32-1),Sc=BigInt(32);function pb(e,t=!1){return t?{h:Number(e&_a),l:Number(e>>Sc&_a)}:{h:Number(e>>Sc&_a)|0,l:Number(e&_a)|0}}function uI(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let a=0;a<e.length;a++){const{h:i,l:s}=pb(e[a],t);[n[a],r[a]]=[i,s]}return[n,r]}const lI=(e,t)=>BigInt(e>>>0)<<Sc|BigInt(t>>>0),dI=(e,t,n)=>e>>>n,pI=(e,t,n)=>e<<32-n|t>>>n,fI=(e,t,n)=>e>>>n|t<<32-n,mI=(e,t,n)=>e<<32-n|t>>>n,hI=(e,t,n)=>e<<64-n|t>>>n-32,yI=(e,t,n)=>e>>>n-32|t<<64-n,bI=(e,t)=>t,gI=(e,t)=>e,wI=(e,t,n)=>e<<n|t>>>32-n,vI=(e,t,n)=>t<<n|e>>>32-n,xI=(e,t,n)=>t<<n-32|e>>>64-n,AI=(e,t,n)=>e<<n-32|t>>>64-n;function EI(e,t,n,r){const a=(t>>>0)+(r>>>0);return{h:e+n+(a/2**32|0)|0,l:a|0}}const kI=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),II=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,CI=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),PI=(e,t,n,r,a)=>t+n+r+a+(e/2**32|0)|0,TI=(e,t,n,r,a)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(a>>>0),SI=(e,t,n,r,a,i)=>t+n+r+a+i+(e/2**32|0)|0,Dr={fromBig:pb,split:uI,toBig:lI,shrSH:dI,shrSL:pI,rotrSH:fI,rotrSL:mI,rotrBH:hI,rotrBL:yI,rotr32H:bI,rotr32L:gI,rotlSH:wI,rotlSL:vI,rotlBH:xI,rotlBL:AI,add:EI,add3L:kI,add3H:II,add4L:CI,add4H:PI,add5H:SI,add5L:TI};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const BI=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),RI=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!RI)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function MI(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function tl(e){if(typeof e=="string"&&(e=MI(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}class NI{clone(){return this._cloneInto()}}function OI(e){const t=r=>e().update(tl(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function $I(e){const t=(r,a)=>e(a).update(tl(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}const[fb,mb,hb]=[[],[],[]],_I=BigInt(0),mr=BigInt(1),FI=BigInt(2),LI=BigInt(7),jI=BigInt(256),DI=BigInt(113);for(let e=0,t=mr,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],fb.push(2*(5*r+n)),mb.push((e+1)*(e+2)/2%64);let a=_I;for(let i=0;i<7;i++)t=(t<<mr^(t>>LI)*DI)%jI,t&FI&&(a^=mr<<(mr<<BigInt(i))-mr);hb.push(a)}const[UI,zI]=Dr.split(hb,!0),gp=(e,t,n)=>n>32?Dr.rotlBH(e,t,n):Dr.rotlSH(e,t,n),wp=(e,t,n)=>n>32?Dr.rotlBL(e,t,n):Dr.rotlSL(e,t,n);function qI(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let s=0;s<10;s++)n[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){const o=(s+8)%10,c=(s+2)%10,u=n[c],l=n[c+1],d=gp(u,l,1)^n[o],p=wp(u,l,1)^n[o+1];for(let f=0;f<50;f+=10)e[s+f]^=d,e[s+f+1]^=p}let a=e[2],i=e[3];for(let s=0;s<24;s++){const o=mb[s],c=gp(a,i,o),u=wp(a,i,o),l=fb[s];a=e[l],i=e[l+1],e[l]=c,e[l+1]=u}for(let s=0;s<50;s+=10){for(let o=0;o<10;o++)n[o]=e[s+o];for(let o=0;o<10;o++)e[s+o]^=~n[(o+2)%10]&n[(o+4)%10]}e[0]^=UI[r],e[1]^=zI[r]}n.fill(0)}class ps extends NI{constructor(t,n,r,a=!1,i=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=a,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Cn.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=BI(this.state)}keccak(){qI(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Cn.exists(this);const{blockLen:n,state:r}=this;t=tl(t);const a=t.length;for(let i=0;i<a;){const s=Math.min(n-this.pos,a-i);for(let o=0;o<s;o++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:a}=this;t[r]^=n,n&128&&r===a-1&&this.keccak(),t[a-1]^=128,this.keccak()}writeInto(t){Cn.exists(this,!1),Cn.bytes(t),this.finish();const n=this.state,{blockLen:r}=this;for(let a=0,i=t.length;a<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-a);t.set(n.subarray(this.posOut,this.posOut+s),a),this.posOut+=s,a+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Cn.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Cn.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:a,rounds:i,enableXOF:s}=this;return t||(t=new ps(n,r,a,s,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=a,t.enableXOF=s,t.destroyed=this.destroyed,t}}const Qt=(e,t,n)=>OI(()=>new ps(t,e,n));Qt(6,144,224/8);Qt(6,136,256/8);Qt(6,104,384/8);Qt(6,72,512/8);Qt(1,144,224/8);const HI=Qt(1,136,256/8);Qt(1,104,384/8);Qt(1,72,512/8);const yb=(e,t,n)=>$I((r={})=>new ps(t,e,r.dkLen===void 0?n:r.dkLen,!0));yb(31,168,128/8);yb(31,136,256/8);function Le(e,t){const n=t||"hex",r=HI(dn(e,{strict:!1})?zn(e):e);return n==="bytes"?r:Kt(r)}const GI=e=>Le(zn(e));function bb(e){const t=rI(e),n=aI(e)||[];return GI(`${t}(${n.map(({type:r})=>r).join(",")})`)}const gb=e=>bb(e);class Ur extends U{constructor({address:t}){super(`Address "${t}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}const VI=/^0x[a-fA-F0-9]{40}$/;function qn(e){return VI.test(e)}function Nt(e){return typeof e[0]=="string"?nl(e):KI(e)}function KI(e){let t=0;for(const a of e)t+=a.length;const n=new Uint8Array(t);let r=0;for(const a of e)n.set(a,r),r+=a.length;return n}function nl(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function le(e,t,n,{strict:r}={}){return dn(e,{strict:!1})?WI(e,t,n,{strict:r}):QI(e,t,n,{strict:r})}function wb(e,t){if(typeof t=="number"&&t>0&&t>de(e)-1)throw new sb({offset:t,position:"start",size:de(e)})}function vb(e,t,n){if(typeof t=="number"&&typeof n=="number"&&de(e)!==n-t)throw new sb({offset:n,position:"end",size:de(e)})}function QI(e,t,n,{strict:r}={}){wb(e,t);const a=e.slice(t,n);return r&&vb(a,t,n),a}function WI(e,t,n,{strict:r}={}){wb(e,t);const a=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&vb(a,t,n),a}function ha(e,t){if(e.length!==t.length)throw new Mk({expectedLength:e.length,givenLength:t.length});const n=JI({params:e,values:t}),r=al(n);return r.length===0?"0x":r}function JI({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(rl({param:e[r],value:t[r]}));return n}function rl({param:e,value:t}){const n=fs(e.type);if(n){const[r,a]=n;return YI(t,{length:r,param:{...e,type:a}})}if(e.type==="tuple")return rC(t,{param:e});if(e.type==="address")return ZI(t);if(e.type==="bool")return eC(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return tC(t,{signed:r})}if(e.type.startsWith("bytes"))return XI(t,{param:e});if(e.type==="string")return nC(t);throw new Dk(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function al(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:s,encoded:o}=e[i];s?t+=32:t+=de(o)}const n=[],r=[];let a=0;for(let i=0;i<e.length;i++){const{dynamic:s,encoded:o}=e[i];s?(n.push(re(t+a,{size:32})),r.push(o),a+=de(o)):n.push(o)}return Nt([...n,...r])}function ZI(e){if(!qn(e))throw new Ur({address:e});return{dynamic:!1,encoded:zt(e.toLowerCase())}}function YI(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new zk(e);if(!r&&e.length!==t)throw new Bk({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let a=!1;const i=[];for(let s=0;s<e.length;s++){const o=rl({param:n,value:e[s]});o.dynamic&&(a=!0),i.push(o)}if(r||a){const s=al(i);if(r){const o=re(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?Nt([o,s]):o}}if(a)return{dynamic:!0,encoded:s}}return{dynamic:!1,encoded:Nt(i.map(({encoded:s})=>s))}}function XI(e,{param:t}){const[n,r]=t.type.split("bytes");if(!r){const a=Math.ceil(de(e)/32),i=[];for(let s=0;s<a;s++)i.push(zt(le(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Nt([zt(re(de(e),{size:32})),...i])}}if(de(e)!==parseInt(r))throw new Rk({expectedSize:parseInt(r),value:e});return{dynamic:!1,encoded:zt(e,{dir:"right"})}}function eC(e){return{dynamic:!1,encoded:zt(cb(e))}}function tC(e,{signed:t}){return{dynamic:!1,encoded:re(e,{size:32,signed:t})}}function nC(e){const t=ub(e),n=Math.ceil(de(t)/32),r=[];for(let a=0;a<n;a++)r.push(zt(le(t,a*32,(a+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Nt([zt(re(de(t),{size:32})),...r])}}function rC(e,{param:t}){let n=!1;const r=[];for(let a=0;a<t.components.length;a++){const i=t.components[a],s=Array.isArray(e)?a:i.name,o=rl({param:i,value:e[s]});r.push(o),o.dynamic&&(n=!0)}return{dynamic:n,encoded:n?al(r):Nt(r.map(({encoded:a})=>a))}}function fs(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function ya({abi:e,args:t=[],name:n}){const r=e.filter(a=>"name"in a&&a.name===n);if(r.length!==0){if(r.length===1)return r[0];for(const a of r){if(!("inputs"in a))continue;if(!t||t.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0)continue;if(t.every((s,o)=>{const c="inputs"in a&&a.inputs[o];return c?Bc(s,c):!1}))return a}return r[0]}}function Bc(e,t){const n=typeof e,r=t.type;switch(r){case"address":return qn(e);case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((a,i)=>Bc(Object.values(e)[i],a)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(a=>Bc(a,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function il({abi:e,eventName:t,args:n}){let r=e[0];if(t&&(r=ya({abi:e,args:n,name:t}),!r))throw new bp(t,{docsPath:"/docs/contract/encodeEventTopics"});if(r.type!=="event")throw new bp(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const a=bn(r),i=gb(a);let s=[];if(n&&"inputs"in r){const o=r.inputs?.filter(u=>"indexed"in u&&u.indexed),c=Array.isArray(n)?n:o?.map(u=>n[u.name])??[];s=o?.map((u,l)=>Array.isArray(c[l])?c[l].map((d,p)=>vp({param:u,value:c[l][p]})):c[l]?vp({param:u,value:c[l]}):null)??[]}return[i,...s]}function vp({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return Le(zn(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Hk(e.type);return ha([e],[t])}function ms(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:a,status:i,transport:s})=>{i==="success"&&t===r&&(n[a]=s.request)}),r=>n[r]||e.request}async function xb(e,{address:t,abi:n,args:r,eventName:a,fromBlock:i,toBlock:s}){const o=ms(e,{method:"eth_newFilter"}),c=a?il({abi:n,args:r,eventName:a}):void 0,u=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof i=="bigint"?re(i):i,toBlock:typeof s=="bigint"?re(s):s,topics:c}]});return{abi:n,args:r,eventName:a,id:u,request:o(u),type:"event"}}function gn(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const Ab=e=>le(bb(e),0,4);function wn({abi:e,args:t,functionName:n}){let r=e[0];if(n&&(r=ya({abi:e,args:t,name:n}),!r))throw new ci(n,{docsPath:"/docs/contract/encodeFunctionData"});if(r.type!=="function")throw new ci(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const a=bn(r),i=Ab(a),s="inputs"in r&&r.inputs?ha(r.inputs,t??[]):void 0;return nl([i,s??"0x"])}const Eb={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},aC={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},iC={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function kb(e,t){const n=e.substring(2).toLowerCase(),r=Le(pn(n),"bytes"),a=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&a[i]&&(a[i]=a[i].toUpperCase()),(r[i>>1]&15)>=8&&a[i+1]&&(a[i+1]=a[i+1].toUpperCase());return`0x${a.join("")}`}function ar(e,t){if(!qn(e))throw new Ur({address:e});return kb(e)}function hs(e,t){if(t==="0x"&&e.length>0)throw new ds;if(de(t)&&de(t)<32)throw new Yu({data:t,params:e,size:de(t)});return sC({data:t,params:e})}function sC({data:e,params:t}){const n=[];let r=0;for(let a=0;a<t.length;a++){if(r>=de(e))throw new Yu({data:e,params:t,size:de(e)});const i=t[a],{consumed:s,value:o}=Mn({data:e,param:i,position:r});n.push(o),r+=s}return n}function Mn({data:e,param:t,position:n}){const r=fs(t.type);if(r){const[i,s]=r;return cC(e,{length:i,param:{...t,type:s},position:n})}if(t.type==="tuple")return fC(e,{param:t,position:n});if(t.type==="string")return pC(e,{position:n});if(t.type.startsWith("bytes"))return lC(e,{param:t,position:n});const a=le(e,n,n+32,{strict:!0});if(t.type.startsWith("uint")||t.type.startsWith("int"))return dC(a,{param:t});if(t.type==="address")return oC(a);if(t.type==="bool")return uC(a);throw new Uk(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function oC(e){return{consumed:32,value:kb(le(e,-20))}}function cC(e,{param:t,length:n,position:r}){if(!n){const s=Pe(le(e,r,r+32,{strict:!0})),o=Pe(le(e,s,s+32,{strict:!0}));let c=0;const u=[];for(let l=0;l<o;++l){const d=Mn({data:le(e,s+32),param:t,position:c});c+=d.consumed,u.push(d.value)}return{value:u,consumed:32}}if(li(t)){const o=!fs(t.type)?.[0];let c=0;const u=[];for(let l=0;l<n;++l){const d=Pe(le(e,r,r+32,{strict:!0})),p=Mn({data:le(e,d),param:t,position:o?c:l*32});c+=p.consumed,u.push(p.value)}return{value:u,consumed:32}}let a=0;const i=[];for(let s=0;s<n;++s){const o=Mn({data:e,param:t,position:r+a});a+=o.consumed,i.push(o.value)}return{value:i,consumed:a}}function uC(e){return{consumed:32,value:Wk(e)}}function lC(e,{param:t,position:n}){const[r,a]=t.type.split("bytes");if(!a){const s=Pe(le(e,n,n+32,{strict:!0})),o=Pe(le(e,s,s+32,{strict:!0}));return o===0?{consumed:32,value:"0x"}:{consumed:32,value:le(e,s+32,s+32+o,{strict:!0})}}return{consumed:32,value:le(e,n,n+parseInt(a),{strict:!0})}}function dC(e,{param:t}){const n=t.type.startsWith("int");return{consumed:32,value:parseInt(t.type.split("int")[1]||"256")>48?Xu(e,{signed:n}):Pe(e,{signed:n})}}function pC(e,{position:t}){const n=Pe(le(e,t,t+32,{strict:!0})),r=Pe(le(e,n,n+32,{strict:!0}));return r===0?{consumed:32,value:""}:{consumed:32,value:Jk(Rn(le(e,n+32,n+32+r,{strict:!0})))}}function fC(e,{param:t,position:n}){const r=t.components.length===0||t.components.some(({name:s})=>!s),a=r?[]:{};let i=0;if(li(t)){const s=Pe(le(e,n,n+32,{strict:!0}));for(let o=0;o<t.components.length;++o){const c=t.components[o],u=Mn({data:le(e,s),param:c,position:i});i+=u.consumed,a[r?o:c?.name]=u.value}return{consumed:32,value:a}}for(let s=0;s<t.components.length;++s){const o=t.components[s],c=Mn({data:e,param:o,position:n+i});i+=c.consumed,a[r?s:o?.name]=c.value}return{consumed:i,value:a}}function li(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(li);const n=fs(e.type);return!!(n&&li({...e,type:n[1]}))}function mC({abi:e,data:t}){const n=le(t,0,4);if(n==="0x")throw new ds;const a=[...e||[],aC,iC].find(i=>i.type==="error"&&n===Ab(bn(i)));if(!a)throw new Nk(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:a,args:"inputs"in a&&a.inputs&&a.inputs.length>0?hs(a.inputs,le(t,4)):void 0,errorName:a.name}}const He=(e,t,n)=>JSON.stringify(e,(r,a)=>typeof a=="bigint"?a.toString():a,n);function Ib({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((a,i)=>`${r&&a.name?`${a.name}: `:""}${typeof t[i]=="object"?He(t[i]):t[i]}`).join(", ")})`}const hC={gwei:9,wei:18},yC={ether:-9,wei:9};function Cb(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[a,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${a||"0"}${i?`.${i}`:""}`}function Pb(e,t="wei"){return Cb(e,hC[t])}function wt(e,t="wei"){return Cb(e,yC[t])}function sl(e){const t=Object.entries(e).map(([r,a])=>a===void 0||a===!1?null:[r,a]).filter(Boolean),n=t.reduce((r,[a])=>Math.max(r,a.length),0);return t.map(([r,a])=>`  ${`${r}:`.padEnd(n+1)}  ${a}`).join(`
`)}class bC extends U{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class Tb extends U{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:a,index:i}){let s="Transaction";r&&i!==void 0&&(s=`Transaction at block time "${r}" at index "${i}"`),t&&i!==void 0&&(s=`Transaction at block hash "${t}" at index "${i}"`),n&&i!==void 0&&(s=`Transaction at block number "${n}" at index "${i}"`),a&&(s=`Transaction with hash "${a}"`),super(`${s} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class Sb extends U{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class gC extends U{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class Bb extends U{constructor(t,{account:n,docsPath:r,chain:a,data:i,gas:s,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:p}){const f=n?gn(n):void 0,m=sl({from:f?.address,to:d,value:typeof p<"u"&&`${Pb(p)} ${a?.nativeCurrency.symbol||"ETH"}`,data:i,gas:s,gasPrice:typeof o<"u"&&`${wt(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${wt(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${wt(u)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}}class Rb extends U{constructor(t,{abi:n,args:r,contractAddress:a,docsPath:i,functionName:s,sender:o}){const c=ya({abi:n,args:r,name:s}),u=c?Ib({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,l=c?bn(c,{includeName:!0}):void 0,d=sl({address:a&&Pk(a),function:l,args:u&&u!=="()"&&`${[...Array(s?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:o});super(t.shortMessage||`An unknown error occurred while executing the contract function "${s}".`,{cause:t,docsPath:i,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Contract Call:",d].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=a,this.functionName=s,this.sender=o}}class wC extends U{constructor({abi:t,data:n,functionName:r,message:a}){let i,s,o;if(n&&n!=="0x"){i=mC({abi:t,data:n});const{abiItem:c,errorName:u,args:l}=i;if(u==="Error")o=l[0];else if(u==="Panic"){const[d]=l;o=Eb[d]}else{const d=c?bn(c,{includeName:!0}):void 0,p=c&&l?Ib({abiItem:c,args:l,includeFunctionName:!1,includeName:!1}):void 0;s=[d?`Error: ${d}`:"",p&&p!=="()"?`       ${[...Array(u?.length??0).keys()].map(()=>" ").join("")}${p}`:""]}}else a&&(o=a);super(o&&o!=="execution reverted"?[`The contract function "${r}" reverted with the following reason:`,o].join(`
`):`The contract function "${r}" reverted.`,{metaMessages:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.reason=o,this.data=i}}class vC extends U{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class ol extends U{constructor({data:t,message:n}){super(n||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}const xC=3;function zr(e,{abi:t,address:n,args:r,docsPath:a,functionName:i,sender:s}){const{code:o,data:c,message:u,shortMessage:l}=e instanceof ol?e:e instanceof U?e.walk(p=>"data"in p):{};let d=e;return e instanceof ds?d=new vC({functionName:i}):o===xC&&(c||u||l)&&(d=new wC({abi:t,data:typeof c=="object"?c.data:c,functionName:i,message:l??u})),new Rb(d,{abi:t,args:r,contractAddress:n,docsPath:a,functionName:i,sender:s})}class Mb extends U{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:t,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class AC extends U{constructor(t,{account:n,docsPath:r,chain:a,data:i,gas:s,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:p}){const f=sl({from:n?.address,to:d,value:typeof p<"u"&&`${Pb(p)} ${a?.nativeCurrency.symbol||"ETH"}`,data:i,gas:s,gasPrice:typeof o<"u"&&`${wt(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${wt(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${wt(u)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=t}}class Nn extends U{constructor({cause:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(Nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Nn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class di extends U{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${wt(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(di,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Rc extends U{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${wt(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(Rc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Mc extends U{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(Mc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Nc extends U{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(Nc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported/});class Oc extends U{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(Oc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class $c extends U{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty($c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class _c extends U{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(_c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Fc extends U{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(Fc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Lc extends U{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Lc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class pi extends U{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${wt(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${wt(r)} gwei`:""}).`].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(pi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class EC extends U{constructor({cause:t}){super(`An error occurred while executing: ${t?.message}`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}class kr extends U{constructor({body:t,details:n,headers:r,status:a,url:i}){super("HTTP request failed.",{details:n,metaMessages:[a&&`Status: ${a}`,`URL: ${ls(i)}`,t&&`Request body: ${He(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=r,this.status=a,this.url=i}}class kC extends U{constructor({body:t,details:n,url:r}){super("WebSocket request failed.",{details:n,metaMessages:[`URL: ${ls(r)}`,`Request body: ${He(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class qr extends U{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${ls(r)}`,`Request body: ${He(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class jc extends U{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${ls(n)}`,`Request body: ${He(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const IC=-1;class Fe extends U{constructor(t,{code:n,docsPath:r,metaMessages:a,shortMessage:i}){super(i,{cause:t,docsPath:r,metaMessages:a||t?.metaMessages}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.code=t instanceof qr?t.code:n??IC}}class ir extends Fe{constructor(t,n){super(t,n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class CC extends Fe{constructor(t){super(t,{code:-32700,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}class PC extends Fe{constructor(t){super(t,{code:-32600,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}class TC extends Fe{constructor(t){super(t,{code:-32601,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}class SC extends Fe{constructor(t){super(t,{code:-32602,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}class BC extends Fe{constructor(t){super(t,{code:-32603,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}class Nb extends Fe{constructor(t){super(t,{code:-32e3,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}class RC extends Fe{constructor(t){super(t,{code:-32001,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}class MC extends Fe{constructor(t){super(t,{code:-32002,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}class Ob extends Fe{constructor(t){super(t,{code:-32003,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}class xp extends Fe{constructor(t){super(t,{code:-32004,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}class NC extends Fe{constructor(t){super(t,{code:-32005,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}class OC extends Fe{constructor(t){super(t,{code:-32006,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}class $C extends ir{constructor(t){super(t,{code:4001,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}class _C extends ir{constructor(t){super(t,{code:4100,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}class FC extends ir{constructor(t){super(t,{code:4200,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}class LC extends ir{constructor(t){super(t,{code:4900,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}class jC extends ir{constructor(t){super(t,{code:4901,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}class DC extends ir{constructor(t){super(t,{code:4902,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}class UC extends Fe{constructor(t){super(t,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}function $b(e){return e instanceof Ob||e instanceof Nb||e instanceof qr&&e.code===Nn.code}function _b(e,t){const n=e.details.toLowerCase();return di.nodeMessage.test(n)?new di({cause:e,maxFeePerGas:t?.maxFeePerGas}):Rc.nodeMessage.test(n)?new Rc({cause:e,maxFeePerGas:t?.maxFeePerGas}):Mc.nodeMessage.test(n)?new Mc({cause:e,nonce:t?.nonce}):Nc.nodeMessage.test(n)?new Nc({cause:e,nonce:t?.nonce}):Oc.nodeMessage.test(n)?new Oc({cause:e,nonce:t?.nonce}):$c.nodeMessage.test(n)?new $c({cause:e}):_c.nodeMessage.test(n)?new _c({cause:e,gas:t?.gas}):Fc.nodeMessage.test(n)?new Fc({cause:e,gas:t?.gas}):Lc.nodeMessage.test(n)?new Lc({cause:e}):pi.nodeMessage.test(n)?new pi({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):n.match(Nn.nodeMessage)||"code"in e.cause&&e.cause?.code===Nn.code?new Nn({cause:e,message:e.cause.details||e.details}):new EC({cause:e.cause.cause})}function zC(e,{docsPath:t,...n}){let r=e;return $b(e)&&(r=_b(e,n)),new AC(r,{docsPath:t,...n})}function Fb(e,{formatter:t}){return t?Object.keys(t({})).reduce((r,a)=>(e?.hasOwnProperty(a)&&(r[a]=e[a]),r),{}):{}}function ba(e,{formatter:t}){return t(e)}function Lb(e){return{...e,gas:typeof e.gas<"u"?re(e.gas):void 0,gasPrice:typeof e.gasPrice<"u"?re(e.gasPrice):void 0,maxFeePerGas:typeof e.maxFeePerGas<"u"?re(e.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof e.maxPriorityFeePerGas<"u"?re(e.maxPriorityFeePerGas):void 0,nonce:typeof e.nonce<"u"?re(e.nonce):void 0,value:typeof e.value<"u"?re(e.value):void 0}}function cl(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:a,to:i}=e,s=t?gn(t):void 0;if(s&&!qn(s.address))throw new Ur({address:s.address});if(i&&!qn(i))throw new Ur({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof a<"u"))throw new bC;if(r&&r>2n**256n-1n)throw new di({maxFeePerGas:r});if(a&&r&&a>r)throw new pi({maxFeePerGas:r,maxPriorityFeePerGas:a})}class qC extends U{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const jb={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function Db(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Pe(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Pe(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?jb[e.type]:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip2930"&&(delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t}function HC(e){const t=e.transactions?.map(n=>typeof n=="string"?n:Db(n));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,difficulty:e.difficulty?BigInt(e.difficulty):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function Hr(e,{blockHash:t,blockNumber:n,blockTag:r="latest",includeTransactions:a=!1}={}){const i=n!==void 0?re(n):void 0;let s=null;if(t?s=await e.request({method:"eth_getBlockByHash",params:[t,a]}):s=await e.request({method:"eth_getBlockByNumber",params:[i||r,a]}),!s)throw new qC({blockHash:t,blockNumber:n});return ba(s,{formatter:e.chain?.formatters?.block||HC})}async function Ub(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function zb(e,{address:t,blockTag:n="latest",blockNumber:r}){const a=await e.request({method:"eth_getTransactionCount",params:[t,r?re(r):n]});return Pe(a)}const wo=1500000000n;async function GC(e,t){const{account:n,gas:r,gasPrice:a,maxFeePerGas:i,maxPriorityFeePerGas:s,nonce:o}=t;if(!n)throw new Mb;const c=gn(n),u=await Hr(e,{blockTag:"latest"}),l={...t,from:c.address};if(typeof o>"u"&&(l.nonce=await zb(e,{address:c.address,blockTag:"pending"})),u.baseFeePerGas){if(typeof a<"u")throw new U("Chain does not support legacy `gasPrice`.");if(typeof i>"u")l.maxPriorityFeePerGas=s??wo,l.maxFeePerGas=u.baseFeePerGas*120n/100n+l.maxPriorityFeePerGas;else{if(typeof s>"u"&&i<wo)throw new U("`maxFeePerGas` cannot be less than the default `maxPriorityFeePerGas` (1.5 gwei).");l.maxFeePerGas=i,l.maxPriorityFeePerGas=s??wo}}else{if(typeof i<"u"||typeof s<"u")throw new U("Chain does not support EIP-1559 fees.");typeof a>"u"&&(l.gasPrice=await Ub(e)*120n/100n)}return typeof r>"u"&&(l.gas=await ul(e,{...l,account:{address:c.address,type:"json-rpc"}})),cl(l),l}async function ul(e,t){const n=t.account??e.account;if(!n)throw new Mb({docsPath:"/docs/actions/public/estimateGas"});const r=gn(n);try{const{accessList:a,blockNumber:i,blockTag:s,data:o,gas:c,gasPrice:u,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:p,to:f,value:m,...y}=r.type==="local"?await GC(e,t):t,b=(i?re(i):void 0)||s;cl(t);const h=e.chain?.formatters?.transactionRequest,w=ba({from:r.address,accessList:a,data:o,gas:c,gasPrice:u,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:p,to:f,value:m,...Fb(y,{formatter:h})},{formatter:h||Lb}),v=await e.request({method:"eth_estimateGas",params:b?[w,b]:[w]});return BigInt(v)}catch(a){throw zC(a,{...t,account:r,chain:e.chain})}}async function VC(e,{abi:t,address:n,args:r,functionName:a,...i}){const s=wn({abi:t,args:r,functionName:a});try{return await ul(e,{data:s,to:n,...i})}catch(o){const c=i.account?gn(i.account):void 0;throw zr(o,{abi:t,address:n,args:r,docsPath:"/docs/contract/simulateContract",functionName:a,sender:c?.address})}}const vo="/docs/contract/decodeFunctionResult";function sr({abi:e,args:t,functionName:n,data:r}){let a=e[0];if(n&&(a=ya({abi:e,args:t,name:n}),!a))throw new ci(n,{docsPath:vo});if(a.type!=="function")throw new ci(void 0,{docsPath:vo});if(!a.outputs)throw new _k(a.name,{docsPath:vo});const i=hs(a.outputs,r);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const Dc=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],qb=[{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Ap=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Ep=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]}],KC=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],QC="0x82ad56cb";class Uc extends U{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class Hb extends U{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}function or({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new Uc({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Uc({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function WC(e,{docsPath:t,...n}){let r=e;return $b(e)&&(r=_b(e,n)),new Bb(r,{docsPath:t,...n})}const xo=new Map;function JC({fn:e,id:t,shouldSplitBatch:n,wait:r=0}){const a=async()=>{const u=o();i();const l=u.map(({args:d})=>d);l.length!==0&&e(l).then(d=>{u.forEach(({pendingPromise:p},f)=>p.resolve?.([d[f],d]))}).catch(d=>{u.forEach(({pendingPromise:p})=>p.reject?.(d))})},i=()=>xo.delete(t),s=()=>o().map(({args:u})=>u),o=()=>xo.get(t)||[],c=u=>xo.set(t,[...o(),u]);return{flush:i,async schedule(u){const l={},d=new Promise((m,y)=>{l.resolve=m,l.reject=y});return n?.([...s(),u])&&a(),o().length>0?(c({args:u,pendingPromise:l}),d):(c({args:u,pendingPromise:l}),setTimeout(a,r),d)}}}async function ys(e,t){const{account:n,batch:r=!!e.batch?.multicall,blockNumber:a,blockTag:i="latest",accessList:s,data:o,gas:c,gasPrice:u,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:p,to:f,value:m,...y}=t,g=n?gn(n):void 0;try{cl(t);const h=(a?re(a):void 0)||i,w=e.chain?.formatters?.transactionRequest,v=ba({from:g?.address,accessList:s,data:o,gas:c,gasPrice:u,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:p,to:f,value:m,...Fb(y,{formatter:w})},{formatter:w||Lb});if(r&&ZC({request:v}))try{return await YC(e,{...v,blockNumber:a,blockTag:i})}catch(k){if(!(k instanceof Hb)&&!(k instanceof Uc))throw k}const x=await e.request({method:"eth_call",params:h?[v,h]:[v]});return x==="0x"?{data:void 0}:{data:x}}catch(b){const h=XC(b),{offchainLookup:w,offchainLookupSignature:v}=await Ii(async()=>{const{offchainLookup:x,offchainLookupSignature:k}=await import("./ccip-C0axIbWo.js");return{offchainLookup:x,offchainLookupSignature:k}},__vite__mapDeps([4,1,2,3]));if(h?.slice(0,10)===v&&f)return{data:await w(e,{data:h,to:f})};throw WC(b,{...t,account:g,chain:e.chain})}}function ZC({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(QC)||!n||Object.values(r).filter(a=>typeof a<"u").length>0)}async function YC(e,t){const{batchSize:n=1024,wait:r=0}=typeof e.batch?.multicall=="object"?e.batch?.multicall:{},{blockNumber:a,blockTag:i="latest",data:s,multicallAddress:o,to:c}=t;let u=o;if(!u){if(!e.chain)throw new Hb;u=or({blockNumber:a,chain:e.chain,contract:"multicall3"})}const d=(a?re(a):void 0)||i,{schedule:p}=JC({id:`${e.uid}.${d}`,wait:r,shouldSplitBatch(y){return y.reduce((b,{data:h})=>b+(h.length-2),0)>n*2},fn:async y=>{const g=y.map(w=>({allowFailure:!0,callData:w.data,target:w.to})),b=wn({abi:Dc,args:[g],functionName:"aggregate3"}),h=await e.request({method:"eth_call",params:[{data:b,to:u},d]});return sr({abi:Dc,args:[g],functionName:"aggregate3",data:h||"0x"})}}),[{returnData:f,success:m}]=await p({data:s,to:c});if(!m)throw new ol({data:f});return f==="0x"?{data:void 0}:{data:f}}function XC(e){if(!(e instanceof U))return;const t=e.walk();return typeof t.data=="object"?t.data.data:t.data}async function qt(e,{abi:t,address:n,args:r,functionName:a,...i}){const s=wn({abi:t,args:r,functionName:a});try{const{data:o}=await ys(e,{data:s,to:n,...i});return sr({abi:t,args:r,functionName:a,data:o||"0x"})}catch(o){throw zr(o,{abi:t,address:n,args:r,docsPath:"/docs/contract/readContract",functionName:a})}}async function eP(e,{abi:t,address:n,args:r,dataSuffix:a,functionName:i,...s}){const o=s.account?gn(s.account):void 0,c=wn({abi:t,args:r,functionName:i});try{const{data:u}=await ys(e,{batch:!1,data:`${c}${a?a.replace("0x",""):""}`,to:n,...s});return{result:sr({abi:t,args:r,functionName:i,data:u||"0x"}),request:{abi:t,address:n,args:r,functionName:i,...s}}}catch(u){throw zr(u,{abi:t,address:n,args:r,docsPath:"/docs/contract/simulateContract",functionName:i,sender:o?.address})}}const Ao=new Map,kp=new Map;let tP=0;function cr(e,t,n){const r=++tP,a=()=>Ao.get(e)||[],i=()=>{const l=a();Ao.set(e,l.filter(d=>d.id!==r))},s=()=>{const l=kp.get(e);a().length===1&&l&&l(),i()},o=a();if(Ao.set(e,[...o,{id:r,fns:t}]),o&&o.length>0)return s;const c={};for(const l in t)c[l]=(...d)=>{const p=a();p.length!==0&&p.forEach(f=>f.fns[l]?.(...d))};const u=n(c);return typeof u=="function"&&kp.set(e,u),s}async function zc(e){return new Promise(t=>setTimeout(t,e))}function ga(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let a=!0;const i=()=>a=!1;return(async()=>{let o;t&&(o=await e({unpoll:i}));const c=await n?.(o)??r;await zc(c);const u=async()=>{a&&(await e({unpoll:i}),await zc(r),u())};u()})(),i}const nP=new Map,rP=new Map;function aP(e){const t=(a,i)=>({clear:()=>i.delete(a),get:()=>i.get(a),set:s=>i.set(a,s)}),n=t(e,nP),r=t(e,rP);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function iP(e,{cacheKey:t,maxAge:n=1/0}){const r=aP(t),a=r.response.get();if(a&&n>0&&new Date().getTime()-a.created.getTime()<n)return a.data;let i=r.promise.get();i||(i=e(),r.promise.set(i));try{const s=await i;return r.response.set({created:new Date,data:s}),s}finally{r.promise.clear()}}const sP=e=>`blockNumber.${e}`;async function wa(e,{maxAge:t=e.pollingInterval}={}){const n=await iP(()=>e.request({method:"eth_blockNumber"}),{cacheKey:sP(e.uid),maxAge:t});return BigInt(n)}const Ip="/docs/contract/decodeEventLog";function ll({abi:e,data:t,topics:n}){const[r,...a]=n;if(!r)throw new Ok({docsPath:Ip});const i=e.find(p=>p.type==="event"&&r===gb(bn(p)));if(!(i&&"name"in i))throw new $k(r,{docsPath:Ip});const{name:s,inputs:o}=i,c=o?.some(p=>!("name"in p&&p.name));let u=c?[]:{};const l=o.filter(p=>"indexed"in p&&p.indexed);if(a.length>0)for(let p=0;p<l.length;p++){const f=l[p],m=a[p];if(!m)throw new jk({abiItem:i,param:f});u[f.name||p]=oP({param:f,value:m})}const d=o.filter(p=>!("indexed"in p&&p.indexed));if(t&&t!=="0x")try{const p=hs(d,t);if(p)if(c)u=[...u,...p];else for(let f=0;f<d.length;f++)u[d[f].name]=p[f]}catch(p){throw p instanceof Yu?new Lk({data:p.data,params:p.params,size:p.size}):p}return{eventName:s,args:Object.values(u).length>0?u:void 0}}function oP({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(hs([e],t)||[])[0]}function bs(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?BigInt(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?BigInt(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function gs(e,{filter:t}){return(await t.request({method:"eth_getFilterChanges",params:[t.id]})).map(r=>{if(typeof r=="string")return r;try{const{eventName:a,args:i}="abi"in t&&t.abi?ll({abi:t.abi,data:r.data,topics:r.topics}):{eventName:void 0,args:void 0};return bs(r,{args:i,eventName:a})}catch{return}}).filter(Boolean)}async function dl(e,{address:t,blockHash:n,fromBlock:r,toBlock:a,event:i,args:s}={}){let o=[];i&&(o=il({abi:[i],eventName:i.name,args:s}));let c;return n?c=await e.request({method:"eth_getLogs",params:[{address:t,topics:o,blockHash:n}]}):c=await e.request({method:"eth_getLogs",params:[{address:t,topics:o,fromBlock:typeof r=="bigint"?re(r):r,toBlock:typeof a=="bigint"?re(a):a}]}),c.map(u=>{try{const{eventName:l,args:d}=i?ll({abi:[i],data:u.data,topics:u.topics}):{eventName:void 0,args:void 0};return bs(u,{args:d,eventName:l})}catch{return}}).filter(Boolean)}async function ws(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function cP(e,{abi:t,address:n,args:r,batch:a=!0,eventName:i,onError:s,onLogs:o,pollingInterval:c=e.pollingInterval}){const u=He(["watchContractEvent",n,r,a,e.uid,i,c]);return cr(u,{onLogs:o,onError:s},l=>{let d,p,f=!1;const m=ga(async()=>{if(!f){try{p=await xb(e,{abi:t,address:n,args:r,eventName:i})}catch{}f=!0;return}try{let y;if(p)y=await gs(e,{filter:p});else{const g=await wa(e);d&&d!==g?y=await dl(e,{address:n,args:r,fromBlock:d+1n,toBlock:g,event:ya({abi:t,name:i})}):y=[],d=g}if(y.length===0)return;a?l.onLogs(y):y.forEach(g=>l.onLogs([g]))}catch(y){l.onError?.(y)}},{emitOnBegin:!0,interval:c});return async()=>{p&&await ws(e,{filter:p}),m()}})}async function uP(e){const t=await e.request({method:"eth_chainId"});return Pe(t)}async function Gb(e,{address:t,args:n,event:r,fromBlock:a,toBlock:i}={}){const s=ms(e,{method:"eth_newFilter"});let o=[];r&&(o=il({abi:[r],eventName:r.name,args:n}));const c=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof a=="bigint"?re(a):a,toBlock:typeof i=="bigint"?re(i):i,...o.length?{topics:o}:{}}]});return{abi:r?[r]:void 0,args:n,eventName:r?r.name:void 0,id:c,request:s(c),type:"event"}}const Eo="/docs/contract/encodeDeployData";function lP({abi:e,args:t,bytecode:n}){if(!t||t.length===0)return n;const r=e.find(i=>"type"in i&&i.type==="constructor");if(!r)throw new Sk({docsPath:Eo});if(!("inputs"in r))throw new yp({docsPath:Eo});if(!r.inputs||r.inputs.length===0)throw new yp({docsPath:Eo});const a=ha(r.inputs,t);return nl([n,a])}async function dP(e,{address:t,blockNumber:n,blockTag:r="latest"}){const a=n?re(n):void 0,i=await e.request({method:"eth_getBalance",params:[t,a||r]});return BigInt(i)}async function pP(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const a=n!==void 0?re(n):void 0;let i=null;return t?i=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]}):i=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[a||r]}),Pe(i)}async function fP(e,{address:t,blockNumber:n,blockTag:r="latest"}){const a=n!==void 0?re(n):void 0,i=await e.request({method:"eth_getCode",params:[t,a||r]});if(i!=="0x")return i}function Vb(e){let t=new Uint8Array(32).fill(0);if(!e)return ui(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const a=Le(pn(n[r]),"bytes");t=Le(Nt([t,a]),"bytes")}return ui(t)}function vs(e){function t(s){return s==="."||s===".."?1:pn(s.replace(/^\.|\.$/gm,"")).length+2}const n=new Uint8Array(t(e)),r=e.replace(/^\.|\.$/gm,"");if(!r.length)return n;let a=0;const i=r.split(".");for(let s=0;s<i.length;s++){const o=pn(i[s]);n[a]=o.length,n.set(o,a+1),a+=o.length+1}return n}async function mP(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:a}){let i=a;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=or({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const s=await qt(e,{address:i,abi:qb,functionName:"resolve",args:[Kt(vs(r)),wn({abi:Ep,functionName:"addr",args:[Vb(r)]})],blockNumber:t,blockTag:n});if(s[0]==="0x")return null;const o=sr({abi:Ep,functionName:"addr",data:s[0]});return Rn(o)==="0x00"?null:o}async function hP(e,{address:t,blockNumber:n,blockTag:r,universalResolverAddress:a}){let i=a;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=or({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const s=`${t.toLowerCase().substring(2)}.addr.reverse`;try{return(await qt(e,{address:i,abi:[{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],functionName:"reverse",args:[Kt(vs(s))],blockNumber:n,blockTag:r}))[0]}catch(o){if(o instanceof Rb&&o.cause.reason===Eb[50])return null;throw o}}async function yP(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:a}){let i=a;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=or({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[s]=await qt(e,{address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Kt(vs(r))],blockNumber:t,blockTag:n});return s}function bP(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function gP(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:a}){const i=n?re(n):void 0,s=await e.request({method:"eth_feeHistory",params:[re(t),i||r,a]});return bP(s)}async function wP(e,{filter:t}){return(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(r=>{try{const{eventName:a,args:i}="abi"in t&&t.abi?ll({abi:t.abi,data:r.data,topics:r.topics}):{eventName:void 0,args:void 0};return bs(r,{args:i,eventName:a})}catch{return}}).filter(Boolean)}async function vP(e,{address:t,blockNumber:n,blockTag:r="latest",slot:a}){const i=n!==void 0?re(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,a,i||r]})}async function pl(e,{blockHash:t,blockNumber:n,blockTag:r="latest",hash:a,index:i}){const s=n!==void 0?re(n):void 0;let o=null;if(a?o=await e.request({method:"eth_getTransactionByHash",params:[a]}):t?o=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,re(i)]}):(s||r)&&(o=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[s||r,re(i)]})),!o)throw new Tb({blockHash:t,blockNumber:n,blockTag:r,hash:a,index:i});return ba(o,{formatter:e.chain?.formatters?.transaction||Db})}async function xP(e,{hash:t,transactionReceipt:n}){const[r,a]=await Promise.all([wa(e),t?pl(e,{hash:t}):void 0]),i=n?.blockNumber||a?.blockNumber;return i?r-i+1n:0n}const AP={"0x0":"reverted","0x1":"success"};function EP(e){return{...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(t=>bs(t)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Pe(e.transactionIndex):null,status:e.status?AP[e.status]:null,type:e.type?jb[e.type]:null}}async function qc(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!n)throw new Sb({hash:t});return ba(n,{formatter:e.chain?.formatters?.transactionReceipt||EP})}async function kP(e,t){const{allowFailure:n=!0,batchSize:r,blockNumber:a,blockTag:i,contracts:s,multicallAddress:o}=t,c=r??(typeof e.batch?.multicall=="object"&&e.batch.multicall.batchSize||1024),u=s;let l=o;if(!l){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");l=or({blockNumber:a,chain:e.chain,contract:"multicall3"})}const d=[[]];let p=0,f=0;for(let y=0;y<u.length;y++){const{abi:g,address:b,args:h,functionName:w}=u[y];try{const v=wn({abi:g,args:h,functionName:w});f+=v.length,c>0&&f>c&&(p++,f=(v.length-2)/2,d[p]=[]),d[p]=[...d[p],{allowFailure:!0,callData:v,target:b}]}catch(v){const x=zr(v,{abi:g,address:b,args:h,docsPath:"/docs/contract/multicall",functionName:w});if(!n)throw x;d[p]=[...d[p],{allowFailure:!0,callData:"0x",target:b}]}}return(await Promise.all(d.map(y=>qt(e,{abi:Dc,address:l,args:[y],blockNumber:a,blockTag:i,functionName:"aggregate3"})))).flat().map(({returnData:y,success:g},b)=>{const h=d.flat(),{callData:w}=h[b],{abi:v,address:x,functionName:k,args:T}=u[b];try{if(w==="0x")throw new ds;if(!g)throw new ol({data:y});const C=sr({abi:v,data:y,functionName:k});return n?{result:C,status:"success"}:C}catch(C){const A=zr(C,{abi:v,address:x,args:T,docsPath:"/docs/contract/multicall",functionName:k});if(!n)throw A;return{error:A,result:void 0,status:"failure"}}})}function IP(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:a,onError:i,includeTransactions:s=!1,poll:o,pollingInterval:c=e.pollingInterval}){const u=typeof o<"u"?o:e.transport.type!=="webSocket";let l;return u?(()=>{const f=He(["watchBlocks",e.uid,n,r,s,c]);return cr(f,{onBlock:a,onError:i},m=>ga(async()=>{try{const y=await Hr(e,{blockTag:t,includeTransactions:s});if(y.number&&l?.number){if(y.number===l.number)return;if(y.number-l.number>1&&n)for(let g=l?.number+1n;g<y.number;g++){const b=await Hr(e,{blockNumber:g,includeTransactions:s});m.onBlock(b,l),l=b}}(!l?.number||t==="pending"&&!y?.number||y.number&&y.number>l.number)&&(m.onBlock(y,l),l=y)}catch(y){m.onError?.(y)}},{emitOnBegin:r,interval:c}))})():(()=>{let f=!0,m=()=>f=!1;return(async()=>{try{const{unsubscribe:y}=await e.transport.subscribe({params:["newHeads"],onData(g){if(!f)return;const b=g.result;a(b,l),l=b},onError(g){i?.(g)}});m=y,f||m()}catch(y){i?.(y)}})(),m})()}function Kb(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:a,poll:i,pollingInterval:s=e.pollingInterval}){const o=typeof i<"u"?i:e.transport.type!=="webSocket";let c;return o?(()=>{const d=He(["watchBlockNumber",e.uid,t,n,s]);return cr(d,{onBlockNumber:r,onError:a},p=>ga(async()=>{try{const f=await wa(e,{maxAge:0});if(c){if(f===c)return;if(f-c>1&&n)for(let m=c+1n;m<f;m++)p.onBlockNumber(m,c),c=m}(!c||f>c)&&(p.onBlockNumber(f,c),c=f)}catch(f){p.onError?.(f)}},{emitOnBegin:t,interval:s}))})():(()=>{let d=!0,p=()=>d=!1;return(async()=>{try{const{unsubscribe:f}=await e.transport.subscribe({params:["newHeads"],onData(m){if(!d)return;const y=Xu(m.result?.number);r(y,c),c=y},onError(m){a?.(m)}});p=f,d||p()}catch(f){a?.(f)}})(),p})()}function CP(e,{address:t,args:n,batch:r=!0,event:a,onError:i,onLogs:s,pollingInterval:o=e.pollingInterval}){const c=He(["watchEvent",t,n,r,e.uid,a,o]);return cr(c,{onLogs:s,onError:i},u=>{let l,d,p=!1;const f=ga(async()=>{if(!p){try{d=await Gb(e,{address:t,args:n,event:a})}catch{}p=!0;return}try{let m;if(d)m=await gs(e,{filter:d});else{const y=await wa(e);l&&l!==y?m=await dl(e,{address:t,args:n,fromBlock:l+1n,toBlock:y,event:a}):m=[],l=y}if(m.length===0)return;r?u.onLogs(m):m.forEach(y=>u.onLogs([y]))}catch(m){u.onError?.(m)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await ws(e,{filter:d}),f()}})}async function Qb(e){const t=ms(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}function PP(e,{batch:t=!0,onError:n,onTransactions:r,poll:a,pollingInterval:i=e.pollingInterval}){return(typeof a<"u"?a:e.transport.type!=="webSocket")?(()=>{const u=He(["watchPendingTransactions",e.uid,t,i]);return cr(u,{onTransactions:r,onError:n},l=>{let d;const p=ga(async()=>{try{if(!d)try{d=await Qb(e);return}catch(m){throw p(),m}const f=await gs(e,{filter:d});if(f.length===0)return;t?l.onTransactions(f):f.forEach(m=>l.onTransactions([m]))}catch(f){l.onError?.(f)}},{emitOnBegin:!0,interval:i});return async()=>{d&&await ws(e,{filter:d}),p()}})})():(()=>{let u=!0,l=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(p){if(!u)return;const f=p.result;r([f])},onError(p){n?.(p)}});l=d,u||l()}catch(d){n?.(d)}})(),l})()}function Wb(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((a,i)=>{const s=async({count:o=0}={})=>{const c=async({error:u})=>{const l=typeof t=="function"?t({count:o,error:u}):t;l&&await zc(l),s({count:o+1})};try{const u=await e();a(u)}catch(u){if(o<n&&await r({count:o,error:u}))return c({error:u});i(u)}};s()})}async function TP(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:a=e.pollingInterval,timeout:i}){const s=He(["waitForTransactionReceipt",e.uid,n]);let o,c,u,l=!1;return new Promise((d,p)=>{i&&setTimeout(()=>p(new gC({hash:n})),i);const f=cr(s,{onReplaced:r,resolve:d,reject:p},m=>{const y=Kb(e,{emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:a,async onBlockNumber(g){if(l)return;let b=g;const h=async w=>{y(),w(),f()};try{if(u){if(b-u.blockNumber+1n<t)return;h(()=>m.resolve(u));return}if(o||(l=!0,await Wb(async()=>{o=await pl(e,{hash:n}),o.blockNumber&&(b=o.blockNumber)},{delay:({count:w})=>~~(1<<w)*200,retryCount:6}),l=!1),u=await qc(e,{hash:n}),t>0&&b-u.blockNumber+1n<t)return;h(()=>m.resolve(u))}catch(w){if(o&&(w instanceof Tb||w instanceof Sb)){c=o;const x=(await Hr(e,{blockNumber:b,includeTransactions:!0})).transactions.find(({from:T,nonce:C})=>T===c.from&&C===c.nonce);if(!x||(u=await qc(e,{hash:x.hash}),b-u.blockNumber+1n<t))return;let k="replaced";x.to===c.to&&x.value===c.value?k="repriced":x.from===x.to&&x.value===0n&&(k="cancelled"),h(()=>{m.onReplaced?.({reason:k,replacedTransaction:c,transaction:x,transactionReceipt:u}),m.resolve(u)})}else h(()=>m.reject(w))}}});return y})})}const SP=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,BP=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function RP({domain:e,message:t,primaryType:n,types:r}){const a=r,i=(s,o)=>{for(const c of s){const{name:u,type:l}=c,d=l,p=o[u],f=d.match(BP);if(f&&(typeof p=="number"||typeof p=="bigint")){const[g,b,h]=f;re(p,{signed:b==="int",size:parseInt(h)/8})}if(d==="address"&&typeof p=="string"&&!qn(p))throw new Ur({address:p});const m=d.match(SP);if(m){const[g,b]=m;if(b&&de(p)!==parseInt(b))throw new Fk({expectedSize:parseInt(b),givenSize:de(p)})}const y=a[d];y&&i(y,p)}};if(a.EIP712Domain&&e&&i(a.EIP712Domain,e),n!=="EIP712Domain"){const s=a[n];i(s,t)}}const Hc=256;let Fa=Hc,La;function MP(e=11){if(!La||Fa+e>Hc*2){La="",Fa=0;for(let t=0;t<Hc;t++)La+=(256+Math.random()*256|0).toString(16).substring(1)}return La.substring(Fa,Fa+++e)}function NP({chain:e,key:t="base",name:n="Base Client",pollingInterval:r=4e3,transport:a,type:i="base"}){const{config:s,request:o,value:c}=a({chain:e,pollingInterval:r});return{chain:e,key:t,name:n,pollingInterval:r,request:o,transport:{...s,...c},type:i,uid:MP()}}const OP=e=>"code"in e?e.code!==-1&&e.code!==-32004&&e.code!==-32005&&e.code!==-32042&&e.code!==-32603:e instanceof kr&&e.status?e.status!==403&&e.status!==408&&e.status!==413&&e.status!==429&&e.status!==500&&e.status!==502&&e.status!==503&&e.status!==504:!1;function $P(e,{retryDelay:t=150,retryCount:n=3}={}){return async r=>Wb(async()=>{try{return await e(r)}catch(a){const i=a;throw i.code===-32700?new CC(i):i.code===-32600?new PC(i):i.code===-32601?new TC(i):i.code===-32602?new SC(i):i.code===-32603?new BC(i):i.code===-32e3?new Nb(i):i.code===-32001?new RC(i):i.code===-32002?new MC(i):i.code===-32003?new Ob(i):i.code===-32004?new xp(i):i.code===-32005?new NC(i):i.code===-32006?new OC(i):i.code===-32042?new xp(i):i.code===4001?new $C(i):i.code===4100?new _C(i):i.code===4200?new FC(i):i.code===4900?new LC(i):i.code===4901?new jC(i):i.code===4902?new DC(i):a instanceof U?a:new UC(i)}},{delay:({count:a,error:i})=>{if(i&&i instanceof kr){const s=i?.headers?.get("Retry-After");if(s?.match(/\d/))return parseInt(s)*1e3}return~~(1<<a)*t},retryCount:n,shouldRetry:({error:a})=>!OP(a)})}function _P({key:e,name:t,request:n,retryCount:r=3,retryDelay:a=150,timeout:i,type:s},o){return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:a,timeout:i,type:s},request:$P(n,{retryCount:r,retryDelay:a}),value:o}}class FP extends U{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function Jb(e,{errorInstance:t,timeout:n,signal:r}){return new Promise((a,i)=>{(async()=>{let s;try{const o=new AbortController;n>0&&(s=setTimeout(()=>{r?o.abort():i(t)},n)),a(await e({signal:o?.signal}))}catch(o){o.name==="AbortError"&&i(t),i(o)}finally{clearTimeout(s)}})()})}let Zb=0;async function LP(e,{body:t,fetchOptions:n={},timeout:r=1e4}){const{headers:a,method:i,signal:s}=n;try{const o=await Jb(async({signal:u})=>await fetch(e,{...n,body:He({jsonrpc:"2.0",id:Zb++,...t}),headers:{...a,"Content-Type":"application/json"},method:i||"POST",signal:s||(r>0?u:void 0)}),{errorInstance:new jc({body:t,url:e}),timeout:r,signal:!0});let c;if(o.headers.get("Content-Type")?.startsWith("application/json")?c=await o.json():c=await o.text(),!o.ok)throw new kr({body:t,details:He(c.error)||o.statusText,headers:o.headers,status:o.status,url:e});if(c.error)throw new qr({body:t,error:c.error,url:e});return c}catch(o){throw o instanceof kr||o instanceof qr||o instanceof jc?o:new kr({body:t,details:o.message,url:e})}}function jP(e,{body:t,onData:n,onError:r}){if(e.readyState===e.CLOSED||e.readyState===e.CLOSING)throw new kC({body:t,url:e.url,details:"Socket is closed."});const a=Zb++,i=({data:s})=>{const o=JSON.parse(s);typeof o.id=="number"&&a!==o.id||(o.error?r?.(new qr({body:t,error:o.error,url:e.url})):n?.(o),t.method==="eth_subscribe"&&typeof o.result=="string"&&e.subscriptions.set(o.result,i),t.method==="eth_unsubscribe"&&e.subscriptions.delete(t.params?.[0]))};return e.requests.set(a,i),e.send(JSON.stringify({jsonrpc:"2.0",...t,id:a})),e}async function DP(e,{body:t,timeout:n=1e4}){return Jb(()=>new Promise((r,a)=>Yb.webSocket(e,{body:t,onData:r,onError:a})),{errorInstance:new jc({body:t,url:e.url}),timeout:n})}const Yb={http:LP,webSocket:jP,webSocketAsync:DP};function UP(e,t={}){const{fetchOptions:n,key:r="http",name:a="HTTP JSON-RPC",retryDelay:i}=t;return({chain:s,retryCount:o,timeout:c})=>{const u=t.retryCount??o,l=c??t.timeout??1e4,d=e||s?.rpcUrls.default.http[0];if(!d)throw new FP;return _P({key:r,name:a,async request({method:p,params:f}){const{result:m}=await Yb.http(d,{body:{method:p,params:f},fetchOptions:n,timeout:l});return m},retryCount:u,retryDelay:i,timeout:l,type:"http"},{url:e})}}class zP extends U{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class hr extends U{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class fl extends U{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class qP extends U{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const HP=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,GP=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,VP=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,KP=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function QP(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Cp(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Xb({uri:e,gatewayUrls:t}){const n=VP.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Cp(t?.ipfs,"https://ipfs.io"),a=Cp(t?.arweave,"https://arweave.net"),i=e.match(HP),{protocol:s,subpath:o,target:c,subtarget:u=""}=i?.groups||{},l=s==="ipns:/"||o==="ipns/",d=s==="ipfs:/"||o==="ipfs/"||GP.test(e);if(e.startsWith("http")&&!l&&!d){let f=e;return t?.arweave&&(f=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:f,isOnChain:!1,isEncoded:!1}}if((l||d)&&c)return{uri:`${r}/${l?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(s==="ar:/"&&c)return{uri:`${a}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let p=e.replace(KP,"");if(p.startsWith("<svg")&&(p=`data:image/svg+xml;base64,${btoa(p)}`),p.startsWith("data:")||p.startsWith("{"))return{uri:p,isOnChain:!0,isEncoded:!1};throw new fl({uri:e})}function eg(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new zP({data:e});return e.image||e.image_url||e.image_data}async function WP({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(a=>a.json());return await ml({gatewayUrls:e,uri:eg(n)})}catch{throw new fl({uri:t})}}async function ml({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Xb({uri:t,gatewayUrls:e});if(r||await QP(n))return n;throw new fl({uri:t})}function JP(e){e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[t,n,r]=e.split("/"),[a,i]=t.split(":"),[s,o]=n.split(":");if(!a||a.toLowerCase()!=="eip155")throw new hr({reason:"Only EIP-155 supported"});if(!i)throw new hr({reason:"Chain ID not found"});if(!o)throw new hr({reason:"Contract address not found"});if(!r)throw new hr({reason:"Token ID not found"});if(!s)throw new hr({reason:"ERC namespace not found"});return{chainID:parseInt(i),namespace:s.toLowerCase(),contractAddress:o,tokenID:r}}async function ZP(e,{nft:t}){if(t.namespace==="erc721")return qt(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return qt(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new qP({namespace:t.namespace})}async function YP(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?XP(e,{gatewayUrls:t,record:n}):ml({uri:n,gatewayUrls:t})}async function XP(e,{gatewayUrls:t,record:n}){const r=JP(n),a=await ZP(e,{nft:r}),{uri:i,isOnChain:s,isEncoded:o}=Xb({uri:a,gatewayUrls:t});if(s&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const u=o?atob(i.replace("data:application/json;base64,","")):i,l=JSON.parse(u);return ml({uri:eg(l),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),WP({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,c)})}async function tg(e,{blockNumber:t,blockTag:n,name:r,key:a,universalResolverAddress:i}){let s=i;if(!s){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");s=or({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const o=await qt(e,{address:s,abi:qb,functionName:"resolve",args:[Kt(vs(r)),wn({abi:Ap,functionName:"text",args:[Vb(r),a]})],blockNumber:t,blockTag:n});if(o[0]==="0x")return null;const c=sr({abi:Ap,functionName:"text",data:o[0]});return c===""?null:c}async function eT(e,{blockNumber:t,blockTag:n,gatewayUrls:r,name:a,universalResolverAddress:i}){const s=await tg(e,{blockNumber:t,blockTag:n,key:"avatar",name:a,universalResolverAddress:i});if(!s)return null;try{return await YP(e,{record:s,gatewayUrls:r})}catch{return null}}async function tT(e){const t=ms(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}function nT({domain:e,message:t,primaryType:n,types:r}){const a=typeof e>"u"?{}:e,i={EIP712Domain:[a?.name&&{name:"name",type:"string"},a?.version&&{name:"version",type:"string"},a?.chainId&&{name:"chainId",type:"uint256"},a?.verifyingContract&&{name:"verifyingContract",type:"address"},a?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean),...r};RP({domain:a,message:t,primaryType:n,types:i});const s=["0x1901"];return a&&s.push(rT({domain:a,types:i})),n!=="EIP712Domain"&&s.push(ng({data:t,primaryType:n,types:i})),Le(Nt(s))}function rT({domain:e,types:t}){return ng({data:e,primaryType:"EIP712Domain",types:t})}function ng({data:e,primaryType:t,types:n}){const r=rg({data:e,primaryType:t,types:n});return Le(r)}function rg({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],a=[aT({primaryType:t,types:n})];for(const i of n[t]){const[s,o]=ig({types:n,name:i.name,type:i.type,value:e[i.name]});r.push(s),a.push(o)}return ha(r,a)}function aT({primaryType:e,types:t}){const n=Kt(iT({primaryType:e,types:t}));return Le(n)}function iT({primaryType:e,types:t}){let n="";const r=ag({primaryType:e,types:t});r.delete(e);const a=[e,...Array.from(r).sort()];for(const i of a)n+=`${i}(${t[i].map(({name:s,type:o})=>`${o} ${s}`).join(",")})`;return n}function ag({primaryType:e,types:t},n=new Set){const a=e.match(/^\w*/u)?.[0];if(n.has(a)||t[a]===void 0)return n;n.add(a);for(const i of t[a])ag({primaryType:i.type,types:t},n);return n}function ig({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},Le(rg({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},Le(r)];if(n==="string")return[{type:"bytes32"},Le(Kt(r))];if(n.lastIndexOf("]")===n.length-1){const a=n.slice(0,n.lastIndexOf("[")),i=r.map(s=>ig({name:t,type:a,types:e,value:s}));return[{type:"bytes32"},Le(ha(i.map(([s])=>s),i.map(([,s])=>s)))]}return[{type:n},r]}function sT(e,t){const n=typeof e=="string"?pn(e):e.raw instanceof Uint8Array?e.raw:zn(e.raw),r=pn(`Ethereum Signed Message:
${n.length}`);return Le(Nt([r,n]),t)}const oT="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);BigInt(1);BigInt(2);Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function cT(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function uT(e,t){const n=dn(e)?zn(e):e,r=dn(t)?zn(t):t;return cT(n,r)}async function sg(e,{address:t,hash:n,signature:r,...a}){const i=dn(r)?r:Kt(r);try{const{data:s}=await ys(e,{data:lP({abi:KC,args:[t,n,i],bytecode:oT}),...a});return uT(s??"0x0","0x1")}catch(s){if(s instanceof Bb)return!1;throw s}}async function lT(e,{address:t,message:n,signature:r,...a}){const i=sT(n);return sg(e,{address:t,hash:i,signature:r,...a})}async function dT(e,{address:t,signature:n,message:r,primaryType:a,types:i,domain:s,...o}){const c=nT({message:r,primaryType:a,types:i,domain:s});return sg(e,{address:t,hash:c,signature:n,...o})}const pT=e=>({call:t=>ys(e,t),createBlockFilter:()=>tT(e),createContractEventFilter:t=>xb(e,t),createEventFilter:t=>Gb(e,t),createPendingTransactionFilter:()=>Qb(e),estimateContractGas:t=>VC(e,t),estimateGas:t=>ul(e,t),getBalance:t=>dP(e,t),getBlock:t=>Hr(e,t),getBlockNumber:t=>wa(e,t),getBlockTransactionCount:t=>pP(e,t),getBytecode:t=>fP(e,t),getChainId:()=>uP(e),getEnsAddress:t=>mP(e,t),getEnsAvatar:t=>eT(e,t),getEnsName:t=>hP(e,t),getEnsResolver:t=>yP(e,t),getEnsText:t=>tg(e,t),getFeeHistory:t=>gP(e,t),getFilterChanges:t=>gs(e,t),getFilterLogs:t=>wP(e,t),getGasPrice:()=>Ub(e),getLogs:t=>dl(e,t),getStorageAt:t=>vP(e,t),getTransaction:t=>pl(e,t),getTransactionConfirmations:t=>xP(e,t),getTransactionCount:t=>zb(e,t),getTransactionReceipt:t=>qc(e,t),multicall:t=>kP(e,t),readContract:t=>qt(e,t),simulateContract:t=>eP(e,t),verifyMessage:t=>lT(e,t),verifyTypedData:t=>dT(e,t),uninstallFilter:t=>ws(e,t),waitForTransactionReceipt:t=>TP(e,t),watchBlocks:t=>IP(e,t),watchBlockNumber:t=>Kb(e,t),watchContractEvent:t=>cP(e,t),watchEvent:t=>CP(e,t),watchPendingTransactions:t=>PP(e,t)});function fT({batch:e,chain:t,key:n="public",name:r="Public Client",transport:a,pollingInterval:i}){const s={batch:e,...NP({chain:t,key:n,name:r,pollingInterval:i,transport:a,type:"publicClient"})};return{...s,...pT(s)}}function mT(e){let t=0;function n(){return e[t++]<<8|e[t++]}let r=n(),a=1,i=[0,1];for(let x=1;x<r;x++)i.push(a+=n());let s=n(),o=t;t+=s;let c=0,u=0;function l(){return c==0&&(u=u<<8|e[t++],c=8),u>>--c&1}const d=31,p=2**d,f=p>>>1,m=f>>1,y=p-1;let g=0;for(let x=0;x<d;x++)g=g<<1|l();let b=[],h=0,w=p;for(;;){let x=Math.floor(((g-h+1)*a-1)/w),k=0,T=r;for(;T-k>1;){let R=k+T>>>1;x<i[R]?T=R:k=R}if(k==0)break;b.push(k);let C=h+Math.floor(w*i[k]/a),A=h+Math.floor(w*i[k+1]/a)-1;for(;!((C^A)&f);)g=g<<1&y|l(),C=C<<1&y,A=A<<1&y|1;for(;C&~A&m;)g=g&f|g<<1&y>>>1|l(),C=C<<1^f,A=(A^f)<<1|f|1;h=C,w=1+A-C}let v=r-4;return b.map(x=>{switch(x-v){case 3:return v+65792+(e[o++]<<16|e[o++]<<8|e[o++]);case 2:return v+256+(e[o++]<<8|e[o++]);case 1:return v+e[o++];default:return x-1}})}function hT(e){let t=0;return()=>e[t++]}function og(e){return hT(mT(yT(e)))}function yT(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((a,i)=>t[a.charCodeAt(0)]=i);let n=e.length,r=new Uint8Array(6*n>>3);for(let a=0,i=0,s=0,o=0;a<n;a++)o=o<<6|t[e.charCodeAt(a)],s+=6,s>=8&&(r[i++]=o>>(s-=8));return r}function bT(e){return e&1?~e>>1:e>>1}function gT(e,t){let n=Array(e);for(let r=0,a=0;r<e;r++)n[r]=a+=bT(t());return n}function Ht(e,t=0){let n=[];for(;;){let r=e(),a=e();if(!a)break;t+=r;for(let i=0;i<a;i++)n.push(t+i);t+=a+1}return n}function cg(e){return Gr(()=>{let t=Ht(e);if(t.length)return t})}function ug(e){let t=[];for(;;){let n=e();if(n==0)break;t.push(wT(n,e))}for(;;){let n=e()-1;if(n<0)break;t.push(vT(n,e))}return t.flat()}function Gr(e){let t=[];for(;;){let n=e(t.length);if(!n)break;t.push(n)}return t}function lg(e,t,n){let r=Array(e).fill().map(()=>[]);for(let a=0;a<t;a++)gT(e,n).forEach((i,s)=>r[s].push(i));return r}function wT(e,t){let n=1+t(),r=t(),a=Gr(t);return lg(a.length,1+e,t).flatMap((s,o)=>{let[c,...u]=s;return Array(a[o]).fill().map((l,d)=>{let p=d*r;return[c+d*n,u.map(f=>f+p)]})})}function vT(e,t){let n=1+t();return lg(n,1+e,t).map(a=>[a[0],a.slice(1)])}var Ge=og("AEgSbwjEDVYByQKaAQsBOQDpATQAngDUAHsAoABoANQAagCNAEQAhABMAHIAOwA9ACsANgAmAGIAHgAvACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGAAeABMAFwAXAA0ADgAWAA8AFAAVBFsF1QEXE0o3xAXUALIArkABaACmAgPGAK6AMDAwMAE/qAYK7P4HQAblMgVYBVkAPSw5Afa3EgfJwgAPA8meNALGCjACjqIChtk/j2+KAsXMAoPzASDgCgDyrgFCAi6OCkCQAOQA4woWABjVuskNDD6eBBx4AP4COhi+D+wKBirqBgSCaA0cBy4ArABqku+mnIAAXAaUJAbqABwAPAyUFvyp/Mo8INAIvCoDshQ8APcubKQAon4ZABgEJtgXAR4AuhnOBPsKIE04CZgJiR8cVlpM5INDABQADQAWAA9sVQAiAA8ASO8W2T30OVnKluYvChEeX05ZPe0AFAANABYAD2wgXUCYAMPsABwAOgzGFryp/AHauQVcBeMC0KACxLEKTR2kZhR0Gm5M9gC8DmgC4gAMLjSKF8qSAoF8ARMcAL4OaALiAAwuAUlQJpJMCwMt/AUpCthqGK4B2EQAciwSeAIyFiIDKCi6OGwAOuIB9iYAyA7MtgEcZIIAsgYABgCK1EoFHNZsGACoKNIBogAAAAAAKy4DnABoAQoaPu43dQQZGACrAcgCIgDgLBJ0OvRQsTOiKDVJBfsoBVoFWbC5BWo7XkITO1hCmHuUZmCh+QwUA8YIJvJ4JASkTAJUVAJ2HKwoAZCkpjZcA0YYBIRiCgDSBqxAMCQHKgI6XgBsAWIgcgCEHhoAlgFKuAAoahgBsMYDOC4iRFQBcFoGZgJmAPJKGAMqAgYASkIArABeAHQALLYGCPTwGo6AAAAKIgAqALQcSAHSAdwIDDKXeYHpAAsAEgA1AD4AOTR3etTBEGAQXQJNCkxtOxUMAq0PpwvmERYM0irM09kANKoH7ANUB+wDVANUB+wH7ANUB+wDVANUA1QDVBwL8BvUwRBgD0kEbgWPBYwE1wiEJkoRggcpCNNUDnQfHEgDRgD9IyZJHTuUMwwlQ0wNTQQH/TZDbKh9OQNIMaxU9pCjA8wyUDltAh5yEqEAKw90HTW2Tn96SHGhCkxPr7WASWNOaAK/Oqk/+QoiCZRvvHdPBj4QGCeiEPQMMAGyATgN6kvVBO4GOATGH3oZFg/KlZkIoi3aDOom4C6egFcj8iqABepL8TzaC0pRZQ9WC2IJ4DpggUsDHgEKIogK2g02CGoQ8ArGaA3iEUIHNgPSSZcAogb+Cw4dMhWyJg1iqQsGOXQG+BrzC4wmrBMmevkF0BoeBkoBJhr8AMwu5IWtWi5cGU9cBgALIiPEFKVQHQ0iQLR4RRoYBxIlpgKOQ21KhFEzHpAh8zw6DWMuEFF5B/I8AhlMC348m0aoRQsRzz6KPUUiRkwpBDJ8LCwniAnMD4IMtnxvAVYJHgmuDG4TLhEUN8IINgcWKpchJxIIHkaSYJcE9JwD8BPOAwgFPAk+BxADshwqEysVJgUKgSHUAvA20i6wAoxWfQEUBcgPIh/cEE1H3Q7mCJgCYgOAJegAKhUeABQimAhAYABcj9VTAi7ICMRqaSNxA2QU5F4RcAeODlQHpBwwFbwc3nDFXgiGBSigrAlYAXIJlgFcBOAIBjVYjJ0gPmdQi1UYmCBeQTxd+QIuDGIVnES6h3UCiA9oEhgBMgFwBzYM/gJ0EeoRaBCSCOiGATWyM/U6IgRMIYAgDgokA0xsywskJvYM9WYBoBJfAwk0OnfrZ6hgsyEX+gcWMsJBXSHuC49PygyZGr4YP1QrGeEHvAPwGvAn50FUBfwDoAAQOkoz6wS6C2YIiAk8AEYOoBQH1BhnCm6MzQEuiAG0lgNUjoACbIwGNAcIAGQIhAV24gAaAqQIoAACAMwDVAA2AqoHmgAWAII+AToDJCwBHuICjAOQCC7IAZIsAfAmBBjADBIA9DRuRwLDrgKAZ2afBdpVAosCRjIBSiIEAktETgOsbt4A2ABIBhDcRAESqEfIF+BAAdxsKADEAPgAAjIHAj4BygHwagC0AVwLLgmfsLIBSuYmAIAAEmgB1AKGANoAMgB87gFQAEoFVvYF0AJMRgEOLhUoVF4BuAMcATABCgB2BsiKosYEHARqB9ACEBgV3gLvKweyAyLcE8pCwgK921IAMhMKNQqkCqNgWF0wAy5vPU0ACx+lPsQ/SwVOO1A7VTtQO1U7UDtVO1A7VTtQO1UDlLzfvN8KaV9CYegMow3RRMU6RhPYYE5gLxPFLbQUvhXLJVMZOhq5JwIl4VUGDwEt0GYtCCk0che5ADwpZYM+Y4MeLQpIHORTjlT1LRgArkufM6wNqRsSRD0FRHXqYicWCwofAmR+AmI/WEqsWDcdAqH0AmiVAmYGAp+BOBgIAmY4AmYjBGsEfAN/EAN+jzkDOXQUOX86ICACbBoCMjM4BwJtxAJtq+yHMGRCKAFkANsA3gBHAgeVDIoA+wi/AAqyAncsAnafPAJ5SEACeLcaWdhFq0bwAnw8AnrFAn0GAnztR/1IemAhACgSSVVKWBIUSskC0P4C0MlLJAOITAOH40TCkS8C8p5dAAMDq0vLTCoiAMxNSU2sAos8AorVvhgEGkBkArQCjjQCjlk9lH4CjtYCjll1UbFTMgdS0VSCApP4ApMJAOYAGVUbVaxVzQMsGCmSgzLeeGNFODYCl5wC769YHqUAViIClowClnmZAKZZqVoGfkoAOAKWsgKWS1xBXM4CmcgCmWFcx10EFgKcmDm/OpoCnBMCn5gCnrWHABoMLicMAp3uAp6PALI6YTFh7AKe0AKgawGmAp6cHAKeS6JjxWQkIigCJ6wCJnsCoPgCoEnUAqYsAqXLAqf8AHoCp+9oeWiuAABGahlqzgKs4AKsqwKtZAKs/wJXGgJV2QKx3tQDH0tslAKyugoCsuUUbN1tYG1FXAMlygK2WTg8bo0DKUICuFsCuUQSArkndHAzcN4CvRYDLa8DMg4CvoVx/wMzbgK+F3Mfc0wCw8gCwwFzf3RIMkJ03QM8pAM8lwM9vALFeQLGRALGDYYCyGZOAshBAslMAskrAmSaAt3PeHZeeKt5IkvNAxigZv8CYfEZ8JUhewhej164DgLPaALPaSxIUM/wEJwAw6oCz3ABJucDTg9+SAIC3CQC24cC0kwDUlkDU1wA/gNViYCGPMgT6l1CcoLLg4oC2sQC2duEDYRGpzkDhqIALANkC4ZuVvYAUgLfYgLetXB0AuIs7REB8y0kAfSYAfLPhALr8ALpbXYC6vYC6uEA9kQBtgLuhgLrmZanlwAC7jwDhd2YdnDdcZ4C8wAAZgOOE5mQAvcQA5FrA5KEAveVAvnWAvhjmhmaqLg0mxsDnYAC/vcBGAA2nxmfsAMFigOmZwOm1gDOwgMGZ6GFogIGAwxGAQwBHAdqBl62ZAIAuARovA6IHrAKABRyNgAgAzASSgOGfAFgJB4AjOwAHgDmoAScjgi0BhygwgCoBRK86h4+PxZ5BWk4P0EsQiJCtV9yEl+9AJbGBTMAkE0am7o7J2AzErrQDjAYxxiKyfcFWAVZBVgFWQVkBVkFWAVZBVgFWQVYBVkFWAVZRxYI2IZoAwMDCmVe6iwEygOyBjC8vAC8BKi8AOhBKhazBUc+aj5xQkBCt192OF/pAFgSM6wAjP/MbMv9puhGez4nJAUsFyg3Nn5u32vB8hnDLGoBbNdvMRgFYAVrycLJuQjQSlwBAQEKfV5+jL8AND+CAAQW0gbmriQGAIzEDAMCDgDlZh4+JSBLQrJCvUI5JF8oYDcoOSQJwj4KRT9EPnk+gj5xPnICikK9SkM8X8xPUGtOCy1sVTBrDG8gX+E0OxwJaJwKYyQsPR4nQqxCvSzMAsv9X8oPIC8KCQoAACN+nt9rOy5LGMmsya0JZsLMzQphQWAP5hCkEgCTjh5GQiYbqm06zjkKND9EPnFCQBwICx5NSG1cLS5a4rwTCn7uHixCQBxeCUsKDzRVREM4BTtEnC0KghwuQkAb9glUIyQZMTIBBo9i8F8KcmTKYAxgLiRvAERgGjoDHB9gtAcDbBFmT2BOEgIAZOhgFmCWYH5gtGBMYJJpFhgGtg/cVqq8WwtDF6wBvCzOwgMgFgEdBB8BegJtMDGWU4EBiwq5SBsA5SR0jwvLDqdN6wGcAoidUAVBYAD4AD4LATUXWHsMpg0lILuwSABQDTUAFhO4NVUC0wxLZhEcANlPBnYECx9bADIAtwKbKAsWcKwzOaAaAVwBhwn9A9ruEAarBksGugAey1aqWwq7YhOKCy1ADrwBvAEjA0hbKSkpIR8gIi0TJwciDY4AVQJvWJFKlgJvIA9ySAHUdRDPUiEaqrFN6wcSBU1gAPgAPgsBewAHJW0LiAymOTEuyLBXDgwAYL0MAGRKaFAiIhzAADIAtwKbKC08D88CkRh8ULxYyXRzjtilnA72mhU+G+0S2hIHDxwByAk7EJQGESwNNwwAPAC0zwEDAKUA4gCbizAAFQBcG8cvbXcrDsIRAzwlRNTiHR8MG34CfATCC6vxbQA4Oi4Opzkuz6IdB7wKABA7Ls8SGgB9rNsdD7wbSBzOoncfAT4qYB0C7KAJBE3z5R9mDL0M+wg9Cj8ABcELPgJMDbwIvQ09CT0KvS7PoisOvAaYAhwPjBriBBwLvBY8AKELPBC8BRihe90AO2wMPQACpwm9BRzR9QYFB2/LBnwAB7wSXBISvQECAOsCAAB1FVwHFswV/HAXvBg8AC68AuyovAAevAJWISuAAAG8AALkFT0VvCvso7zJqDwEAp8nTAACXADn3hm8CaVcD7/FAPUafAiiBQv/cQDfvKe8GNwavKOMeXMG/KmchAASvAcbDAADlABtvAcAC7ynPAIaPLsIopzLDvwHwak8AOF8L7dtvwNJAAPsABW8AAb8AAm8AGmMABq8AA68Axi8jmoV/AABXAAObAAuTB8ABrwAF7wIIgANSwC6vCcAA7wADpwq7ACyWwAcHAAbvAAB7AqiAAXHCxYV3AAHnABCvAEDAGm8AAt8AB28AAi8CaIABcsAbqAZ1gCSCCIABcsAATwAB9wAHZwIIgAGmwAJfAAbLABtHADmvIEACFwACDwAFLwAaPwJIgAGywDjjAAJPAuiDsX7YAAHPABunUBJAEgACrwFAAM8AAmuAzgABxwAGXwAAgym/AAKHAAKPAAJ/KfsBrwACRwAAwwAEDwBABQ8ABFsAA+MAA3sAA28ABkMBxYcABU8AG6cFrQBvAC7ABM8BABpLAsA4UwAAjwABFMAF3wFHAAG0QAYvB8BfClTADpGALAJBw4McwApK3EBpQYIXwJtJA0ACghwTG1gK4oggRVjLjcDogq1AALZABcC/ARvAXdzSFMVIgNQAhY/AS0GBHRHvnxTe0EAKgAyAvwAVAvcAHyRLQEsAHfmDhIzRwJLAFgGAAJRAQiLzQB5PAQhpgBbANcWAJZpOCCMAM5ssgDQ1RcJw3Z0HBlXHgrSAYmRrCNUVE5JEz3DivoAgB04QSos4RKYUABzASosMSlDGhADMVYE+MbvAExm3QBrAnICQBF7Osh4LzXWBhETIAUVCK6v/xPNACYAAQIbAIYAiQCONgDjALQA1QCdPQC7AKsApgChAOcAnwDTAJwA4AEBAPwAwAB6AFsAywDNAPwA1wDrAIkAogEqAOMA2ADVBAIIKzTT09PTtb/bzM/NQjEWAUsBVS5GAVMBYgFhAVQBRUpCRGcMAUwUBgkEMzcMBwAgDSQmKCs3OTk8PDw9Pg0/HVBQUFBSUlFSKFNUVlVVHFxgYF9hYCNlZ29ucXFxcXFxc3Nzc3Nzc3Nzc3N1dXZ1dFsAPesAQgCTAHEAKwBf8QCHAFAAUAAwAm/oAIT+8fEAXQCM6wCYAEgAWwBd+PipAH4AfgBiAE8AqgAdAK8AfAI5AjwA9QDgAPcA9wDhAPgA4gDiAOEA3wAoAnQBSgE5ATcBTQE3ATcBNwEyATEBMQExARUBURAAKgkBAEwYCxcEFhcPAIcAjwCfAEoAYxkCKgBvAGgAkAMOAyArAxpCP0gqAIoCSADAAlACnQC5Ao8CjwKPAo8CjwKPAoQCjwKPAo8CjwKPAo8CjgKOApECmQKQAo8CjwKNAo0CjQKNAosCjgJuAc0CkAKYAo8CjwKOF3oMAPcGA5gCWgIzGAFNETYC2xILLBQBRzgUTpIBdKU9AWJaAP4DOkgA/wCSKh4ZkGsAKmEAagAvAIoDlcyM8K+FWwa7LA/DEgKe1nUrCwQkWwGzAN5/gYB/gX+Cg4N/hIeFf4aJh4GIg4mDin+Lf4x/jYuOf49/kIORf5J/k3+Uf5WElomXg5h/AIMloQCEBDwEOQQ7BD4EPARCBD8EOgRABEIEQQQ9BD8EQgCkA4gAylIA0AINAPdbAPcBGgD3APUA9QD2APXVhSRmvwD3APUA9QD2APUdAIpbAPcAigEaAPcAigLtAPcAitWFJGa/HQD4WwEaAPcA9wD1APUA9gD1APgA9QD1APYA9dWFJGa/HQCKWwEaAPcAigD3AIoC7QD3AIrVhSRmvx0CRAE3AksBOgJMwgOfAu0Dn9WFJGa/HQCKWwEaA58AigOfAIoC7QOfAIrVhSRmvx0EMQCKBDIAigeOMm4hLQCKAT9vBCQA/gDHWwMAVVv/FDMDAIoDPtkASgMAigMAl2dBtv/TrfLzakaPh3aztmIuZQrR3ER2n5Yo+qNR2jK/aP/V04UK1njIJXLgkab9PjOxyJDVbIN3R/FZLoZVl2kYFQIZ7V6LpRqGDt9OdDohnJKp5yX/HLj0voPpLrneDaN11t5W3sSM4ALscgSw8fyWLVkKa/cNcQmjYOgTLZUgOLi2F05g4TR0RfgZ4PBdntxdV3qvdxQt8DeaMMgjJMgwUxYN3tUNpUNx21AvwADDAIa0+raTWaoBXmShAl5AThpMi282o+WzOKMlxjHj7a+DI6AM6VI9w+xyh3Eyg/1XvPmbqjeg2MGXugHt8wW03DQMRTd5iqqOhjLvyOCcKtViGwAHVLyl86KqvxVX7MxSW8HLq6KCrLpB8SspAOHO9IuOwCh9poLoMEha9CHCxlRAXJNDobducWjqhFHqCkzjTM2V9CHslwq4iU19IxqhIFZMve15lDTiMVZIPdADXGxTqzSTv0dDWyk1ht430yvaYCy9qY0MQ3cC5c1uw4mHcTGkMHTAGC99TkNXFAiLQgw9ZWhwKJjGCe+J5FIaMpYhhyUnEgfrF3zEtzn40DdgCIJUJfZ0mo3eXsDwneJ8AYCr7Vx2eHFnt2H6ZEyAHs9JoQ4Lzh5zBoGOGwAz37NOPuqSNmZf51hBEovtpm2T1wI79OBWDyvCFYkONqAKGVYgIL0F+uxTcMLSPtFbiNDbBPFgip8MGDmLLHbSyGXdCMO6f7teiW9EEmorZ+75KzanZwvUySgjoUQBTfHlOIerJs6Y9wLlgDw18AB1ne0tZRNgGjcrqHbtubSUooEpy4hWpDzTSrmvqw0H9AoXQLolMt9eOM+l9RitBB1OBnrdC1XL4yLFyXqZSgZhv7FnnDEXLUeffb4nVDqYTLY6X7gHVaK4ZZlepja2Oe6OhLDI/Ve5SQTCmJdH3HJeb14cw99XsBQAlDy5s5kil2sGezZA3tFok2IsNja7QuFgM30Hff3NGSsSVFYZLOcTBOvlPx8vLhjJrSI7xrNMA/BOzpBIJrdR1+v+zw4RZ7ry6aq4/tFfvPQxQCPDsXlcRvIZYl+E5g3kJ+zLMZon0yElBvEOQTh6SaAdIO6BwdqJqfvgU+e8Y65FQhdiHkZMVt9/39N2jGd26J6cNjq8cQIyp6RonRPgVn2fl89uRDcQ27GacaN0MPrcNyRlbUWelKfDfyrNVVGBG5sjd3jXzTx06ywyzuWn5jbvEfPPCTbpClkgEu9oPLKICxU5HuDe3jA1XnvU85IYYhaEtOU1YVWYhEFsa4/TQj3rHdsU2da2eVbF8YjSI0m619/8bLMZu3xildwqM7zf1cjn4Whx0PSYXcY5bR7wEQfGC7CTOXwZdmsdTO8q3uGm7Rh/RfCWwpzBHCAaVfjxgibL5vUeL0pH6bzDmI9yCXKC/okkmbc28OJvI87L/bjFzpq0DHepw4kT1Od+fL7cyuFaRgfaUWB2++TCFvz11J0leEtrGkpccfX9z2LY39sph4PBHCjNOOkd0ybUm+ZzS8GkFbqMpq8uiX2yHpa0jllTLfGTDBMYR6FT5FWLLDPMkYxt1Q0eyMvxJWztDjy0m6VvZPvamrFXjHmPpU6WxrZqH6WW//I37RwvqPQhPz8I3RPuXAk1C94ZprQWm9iGM/KgiGDO6SV9sjp+Jmk4TBajMNJ5zzWZ1k1jrteQQBp9C2dOvmbIeeEME8y573Q8TgGe+ZCzutM45gYLBzYm2LNvgq2kebAbMpHRDSyh6dQ27GbsAAdCqQVVXWC1C+zpwBM2Lr4eqtobmmu1vJEDlIQR1iN8CUWpztq50z7FFQBn3SKViX6wSqzVQCoYvAjByjeSa+h1PRnYWvBinTDB9cHt4eqDsPS4jcD3FwXJKT0RQsl8EvslI2SFaz2OtmYLFV8FwgvWroZ3fKmh7btewX9tfL2upXsrsqpLJzpzNGyNlnuZyetg7DIOxQTMBR7dqlrTlZ6FWi1g4j1NSjA2j1Yd7fzTH6k9LxCyUCneAKYCU581bnvKih6KJTeTeCX4Zhme/QIz7w2o+AdSgtLAkdrLS9nfweYEqrMLsrGGSWXtgWamAWp6+x6GM/Z8jNw3BqPNQ39hrzYLECn3tPvh/LqKbRSCiDGauDKBBj/kGbpnM1Bb/my8hv4NWStclkwjfl57y4oNDgw1JAG9VOti3QVVoSziMEsSdfEjaCPIDb7SgpLXykQsM+nbqbt97I0mIlzWv0uqFobLMAq8Rd9pszUBKxFhBPwOjf//gVOz2r7URJ2OnpviCXv9iz3a4X/YLBYbXoYwxBv/Kq0a5s4utQHzoTerJ7PmFW/no/ZAsid/hRIV82tD+Qabh5F1ssIM8Ri3chu0PuPD3sSJRMjDoxLAbwUbroiPAz/V52e8s3DIixxlO7OrvhMj3qfzA0kKxzwicr5wJmZwJxTXgrwYsqhRvpgC2Nfdyd+TYYxJSZgk+gk2g9KyHSlwQVAyPtWWgvVGyVBqsU2LpDlLNosSAtolC1uBKt5pQZLhAxTjeGCWIC/HVpagc5rRwkgpCHKEsjA8d+scp8aiMewwQBhp5dYTV5t/Nvl+HbDMu8F3S0psPyZb1bSnqlHPFUnMQeQqSqwDBT23fJO9gO3aVaa1icrXU0PKwlMM5K+iL3ATcVq2fFWKk0irCTF4LDVDG4gUpkyplq6efcZS+WDR1woApjD18x+2JQR9oOXzuA7uy4b+/91WsJd/tSd1QcAH8PVPXApieA37B7YXPhDPH1azP3PKR+HfHmOoDYLeuKsIi/ssSsdYs62qJo14Hw1P2N/6zpr8F3FTWmJ4ysAVcl84Iv/tl///Z8FaAWbBQbyMNDZjrZ2JwdRjtd1jOeNumSodFtr4/Zf45iRJf/8HSW+KIB/+GlKu8Rv1BPLr/4duoL+kFPRqrstEr41gfJupoJRf4hcYDWX93FOcfEBiIivxtjtV8g7mvOReiamYWKE7vfPbv3v2L9Kwq3cIDFGLyhyfOGuf/9vA5muH6Pjg7B4SUj2ydDXra9fSBI+DrsNHA6l51wfHssJb+11TfNk7B8OleUe3Y+ZmHboMFHdv7FFP2cfISFyeAQR0sk/Xv62HBTdW4HmnGSLFk/cqyWVVFJkdIIa+4hos3JRHcqLoRKM5h2Qtk1RZtzISMtlXTfTqIc77YsCCgQD0r61jtxskCctwJOtjE/pL8wC4LBD4AZFjh2wzzFCrT/PNqW0/DeBbkfMfzVm9yy06WiF+1mTdNNEAytVtohBKg3brWd2VQa+aF+cQ0mW5CvbwOlWCT07liX226PjiVLwFCRs/Ax2/u+ZNPjrNFIWIPf5GjHyUKp60OeXe9F01f7IaPf/SDTvyDAf7LSWWejtiZcsqtWZjrdn6A2MqBwnSeKhrZOlUMmgMionmiCIvXqKZfmhGZ1MwD3uMF4n9KJcfWLA3cL5pq48tm5NDYNh3SS/TKUtmFSlQR89MR4+kxcqJgpGbhm9gXneDELkyqAN5nitmIzTscKeJRXqd64RiaOALR2d295NWwbjHRNG2AU5oR9OS2oJg/5CY6BFPc1JvD2Mxdhp2/MZdI8dLePxiP4KRIp8VXmqfg+jqd/RNG7GNuq1U2SiI4735Bdc0MVFx6mH5UOWEa5HuhYykd6t4M1gYLVS8m1B+9bUqi5DziQq7qT8d94cxB6AB4WqMCOF/zPPtRSZUUaMSsvHOWxGASufywTX8ogy6HgUf9p+Z30wUEosl8qgmwm6o2AV6nO9HKQjRHpN6SUegI5pvR61RLnUJ1lqCtmfcsRQutEizVpAaPXN7xMp5UQ5OSZK6tniCK9CpyMd7LjR6+MxfoMEDPpWdf2p2m5N3KO4QMxf+V7vGdYjemQczQ+m2MGIkFNYDMf0Yop2eSx81sP36WHUczqEhKysp2iJSYAvfgJjinKwToPvRKb+HBi+7cJ96S5ngfLOXaHAFRLkulo4TnXTFO51gX0TCCo4ZUHdbpdgkMEwUZAPjh6M+hA8DzycbtxAgH3uD6i0nN1aTiIuQ4BYCE9dEHHwAmINU+4YEWx4EC3OZwFGfYZMPLScVlb+BAAJeARUh+gdWA3/gRqCrf1jecgqeFf1MdzrrP4SVlGm5mMihSP+zYYksAB7O+SBPwNQqSNMiLnkviY/klwgcRmvqtCqeWeA0gjuir4CMZqmw/ntP6M+l0pdN8/P9xI53aP7x/zavJbbKOz8VzO/nXxIr1tjparMnqd6iWdByHKw4lF4p/u57Yv07WeZPDnRl7wgmDVZZ44fQsjdYO/gmXQ+940PRGst8UMQApFC4OOV22e4N+lVOPyFLAOj4t8R3PFw/FjbSWy0ELuAFReNkee8ORcBOT2NPDcs7OfpUmzvn/F9Czk9o9naMyVYy/j8I5qVFmQDFcptBp65J/+sJA3w/j6y/eqUkKxTsf0CZjtNdRSBEmJ2tmfgmJbqpcsSagk+Ul9qdyV+NnqFBIJZFCB1XwPvWGDBOjVUmpWGHsWA5uDuMgLUNKZ4vlq5qfzY1LnRhCc/mh5/EX+hzuGdDy5aYYx4BAdwTTeZHcZpl3X0YyuxZFWNE6wFNppYs3LcFJePOyfKZ8KYb7dmRyvDOcORLPH0sytC6mH1US3JVj6paYM1GEr+CUmyHRnabHPqLlh6Kl0/BWd3ebziDfvpRQpPoR7N+LkUeYWtQ6Rn5v5+NtNeBPs2+DKDlzEVR5aYbTVPrZekJsZ9UC9qtVcP99thVIt1GREnN8zXP8mBfzS+wKYym8fcW6KqrE702Zco+hFQAEIR7qimo7dd7wO8B7R+QZPTuCWm1UAwblDTyURSbd85P4Pz+wBpQyGPeEpsEvxxIZkKsyfSOUcfE3UqzMFwZKYijb7sOkzpou+tC4bPXey5GI1GUAg9c3vLwIwAhcdPHRsYvpAfzkZHWY20vWxxJO0lvKfj6sG2g/pJ1vd/X2EBZkyEjLN4nUZOpOO7MewyHCrxQK8d5aF7rCeQlFX+XksK6l6z971BPuJqwdjj68ULOj9ZTDdOLopMdOLL0PFSS792SXE/EC9EDnIXZGYhr52aQb+9b2zEdBSnpkxAdBUkwJDqGCpZk/HkRidjdp0zKv/Cm52EenmfeKX6HkLUJgMbTTxxIZkIeL/6xuAaAAHbA7mONVduTHNX/UJj1nJEaI7f3HlUyiqKn7VfBE+bdb4HWln1HPJx001Ulq1tOxFf8WZEARvq5Da1+pE7fPVxLntGACz3nkoLsKcPdUqdCwwiyWkmXTd5+bv3j7HaReRt3ESn783Ew3SWsvkEjKtbocNksbrLmV+GVZn1+Uneo35MT1/4r8fngQX5/ptORfgmWfF6KSB/ssJmUSijXxQqUpzkANEkSkYgYj560OOjJr6uqckFuO15TRNgABEwNDjus1V3q2huLPYERMCLXUNmJJpbMrUQsSO7Qnxta55TvPWL6gWmMOvFknqETzqzFVO8SVkovEdYatypLGmDy9VWfgAc0KyIChiOhbd7UlbAeVLPZyEDp4POXKBwN/KP5pT6Cyqs6yaI00vXMn1ubk9OWT9Q/O2t/C25qlnO/zO0xcBzpMBCAB8vsdsh3U8fnPX1XlPEWfaYJxKVaTUgfCESWl4CCkIyjE6iQ5JFcwU6S4/IH0/Agacp8d5Gzq2+GzPnJ7+sqk40mfFQpKrDbAKwLlr3ONEati2k/ycLMSUu7V/7BBkDlNyXoN9tvqXCbbMc4SSQXgC/DBUY9QjtrCtQ+susEomCq8xcNJNNMWCH31GtlTw2BdCXkJBjT+/QNWlBWwQ5SWCh1LdQ99QVii/DyTxjSR6rmdap3l3L3aiplQpPYlrzNm9er88fXd2+ao+YdUNjtqmxiVxmyYPzJxl67OokDcTezEGqldkGgPbRdXA+fGcuZVkembZByo7J1dMnkGNjwwCny+FNcVcWvWYL9mg8oF7jACVWI3bA64EXpdM8bSIEVIAs5JJH+LHXgnCsgcMGPZyAAVBncvbLiexzg9YozcytjPXVlAbQAC7Tc4S0C8QN4LlAGjj4pQAVWrwkaDoUYGxxvkCWKRRHkdzJB5zpREleBDL1oDKEvAqmkDibVC4kTqF89YO6laUjgtJPebBfzr16tg4t10GmN1sJ5vezk2sUOq8blCn5mPZyT3ltaDcddKupQjqusNM9wtFVD0ABzv17fZDn7GPT1nkCtdcgYejcK1qOcTGtPxnCX1rErEjVWCnEJv5HaOAUjgpiKQjUKkQi64D5g2COgwas8FcgIl0Pw95H9dWxE3QG0VbMNffh6BPlAojLDf4es2/5Xfq7hw5NGcON2g8Qsy2UQm94KddKyy3kdJxWgpNaEc15xcylbLC3vnT26u8qS90qc2MU8LdOJc5VPF5KnSpXIhnj1eJJ/jszjZ01oR6JDFJRoeTPO/wh4IPFbdG9KljuSzeuI92p8JF/bpgDE8wG86/W2EBKgPrmzdLijxssQn8mM44ky/KLGOJcrSwXIpZa/Z3v7W6HCRk7ewds99LTsUW1LbeJytw8Q/BFZVZyfO9BUHOCe2suuEkO8DU4fLX0IQSQ2TdOkKXDtPf3sNV9tYhYFueuPRhfQlEEy+aYM/MCz7diDNmFSswYYlZZPmKr2Q5AxLsSVEqqBtn6hVl1BCFOFExnqnIsmyY/NA8jXnDaNzr7Zv3hu+I1Mf/PJjk0gALN2G8ABzdf9FNvWHvZHhv6xIoDCXf964MxG92vGZtx/LYU5PeZqgly8tT5tGeQGeJzMMsJc5p+a5Rn2PtEhiRzo/5Owjy1n0Lzx3ev8GHQmeWb8vagG6O5Qk5nrZuQTiKODI4UqL0LLAusS2Ve7j1Ivdxquu1BR9Rc4QkOiUPwQXJv6du2E8i5pDhVoQpUhyMWGUT2O2YODIhjAfI71gxep5r5zAY7GBUZpy51hAw0pcCCrhOmU8Wp6ujQTdZQsCjtq6SHX8QAMNiPCIIkoxhHEZPgsBcOlP4aErJZPhF7qvx6gHrn8hEwPwYbx8YmT/n7lbcmTip1v8kgsrIjFTAlvLY4Nuil0KDmgz3svYs0ZJ3O3Is/vSx4xpxF1e2VAtZE8dJxGYEIhCSuPvCjP54l/NSNDnwlKvAW8mG+AQkgp7a87Igh26uKMFGD0PoPHTSvoWxiHuk+su8XkQiHIjeYKl/RdcOHpxhQH3zHCNE3aARm83Bl6zGxU/vMltlVPQhubcqhW4RYkl6uXk5JdP/QpzaKFpw2M8zvysv2qj7xaQECuu2akM0Cssj/uB9+wDR7uA6XOnLNaoczalHoMj33eiiu+DRaFsUmlmUZuh9bjDY4INMNSSAivSh03uJvny4Gj+D+neudoa7iJi7c4VFlZ/J5gUR82308zSNAt/ZroBXDWw0fV3eVPAn3aX0mtJabF6RsUZmL+Ehn+wn51/4QipMjD+6y64t7bjL6bjENan2prQ4h7++hBJ9NXvX8CUocJqMC937IasLzm5K0qwXeFMAimMHkEIQIQI2LrQ9sLBfXuyp66zWvlsh74GPv7Xpabj993pRNNDuFud5oIcn/92isbADXdpRPbjmbCNOrwRbxGZx2XmYNGMiV5kjF4IKyxCBvKier9U4uVoheCdmk83rp5G0PihAm2fAtczI4b9BWqX+nrZTrJX5kSwQddi93NQrXG+Cl3eBGNkM77VBsMpEolhXex1MVvMkZN9fG59GGbciH11FEXaY1MxrArovaSjE/lUUqBg2cZBNmiWbvzCHCPJ4RVGFK2dTbObM1m+gJyEX53fa7u3+TZpm74mNEzWbkVL4vjNwfL9uzRCu1cgbrNx5Yv5dDruNrIOgwIk+UZWwJfdbu/WHul6PMmRflVCIzd7B37Pgm/Up/NuCiQW7RXyafevN3AL6ycciCc4ZPlTRzEu+aURGlUBOJbUEsheX7PPyrrhdUt5JAG12EEEZpY/N3Vhbl5uLAfT0CbC2XmpnryFkxZmBTs5prvEeuf0bn73i3O82WTiQtJWEPLsBXnQmdnKhB06NbbhLtlTZYJMxDMJpFeajSNRDB2v61BMUHqXggUwRJ19m6p5zl51v11q34T74lTXdJURuV6+bg2D6qpfGnLy7KGLuLZngobM4pIouz4+n0/UzFKxDgLM4h+fUwKZozQ9UGrHjcif51Ruonz7oIVZ56xWtZS8z7u5zay6J2LD4gCYh2RXoBRLDKsUlZ80R8kmoxlJiL8aZCy2wCAonnucFxCLT1HKoMhbPKt34D97EXPPh0joO93iJVF1Uruew61Qoy3ZUVNX9uIJDt9AQWKLLo+mSzmTibyLHq0D6hhzpvgUgI6ekyVEL3FD+Fi5R3A8MRHPXspN1VyKkfRlC+OGiNgPC4NREZpFETgVmdXrQ2TxChuS3aY+Ndc7CiYv5+CmzfiqeZrWIQJW/C4RvjbGUoJFf1K6ZdR2xL/bG4kVq1+I4jQWX+26YUijpp+lpN7o5c6ZodXJCF56UkFGsqz44sIg8jrdWvbjRCxi2Bk0iyM3a7ecAV93zB6h1Ei38c0s6+8nrbkopArccGP8vntQe1bFeEh2nJIFOHX/k3/UHb5PtKGpnzbkmnRETMX+9X/QduLZWw/feklW/kH/JnzToJe9Kgu9Hct1UGbH5BPCLo4OOtQnZonW0xnyCcdtKyPQ/sbLiSTYJdSx4sJqWLMnfn6fIqPB3WAgk00J+fCOkomPHqtS67pf0mFmKoItYZUlJu6BihSZ8qve8+/X+LX1MhQXF95AshfUleCtmdn6l6QFXzLg2sgLn1oyVFuZecv7fzsIHzoRlAGp0gwYDOn1S4qabWvB5xUaE+Svw4KmjWtxdnuQbI32dw87D4N95u8qQRJTSQg0wLxOLkxSrPMLEn1UIhNKjAa9VLs3WLaXGrtCIt8bKY2AQP/ZdyRU6zT/E8qP2ltyBE2CCZPgWgEYDoJJO4n92y61ylNaSFXKohJhLjkfvYWm592539sIpmBNLlDo1bExFBfmHJJ0lFEiC/fj8v42OoMC9Mo3whIoWvyHfq6Uacqq55mzFf/EGC+NP/gHjhd6urc6R0hES27VXux7UY8CGKPohplWIZtTrFSaPWslCWy78E22Pw8fvReSUZx/txqLtHrFqg1DY/Eus6Iq1heZdrdcqE0/c971Bz1HW/XNXHsXpUIbI4kHdOfCc6T5zHZzvzQJB0ggMFL6IGPAilU9bj/ASdPk6fNvNtZqPuwEDhMBtBnhCexo6D6VAGIOPvJPPV523Y8R8a9vCqZbswSZKzOT1291BsUbmUWehtbb1fdRX9hiJKXvwr1QX6GjnZMgyMvnwOo2Dr24amr7FqEAbVeJAjRNOceM2EQ1Mna9fInqPJ5mh5X8CzT1aDOv08An0blz0fF5Gq4mS2cwq5glwIOlY5nznE8X4j/UdZ3FJsVIXte1JH0A7iibuPfazStM5O/Vo3KXIpXBeGORV0M9XDXFvsYZUHGvFCUubWzTw248EHE0cpQM2zNg6rjavreq3NHCAWsoZ7wvVy7l5gvtKRmIj1MnvfWEm0yFnGcuOq192350a5WefpfKCcX3Sn+AgHU+qnpstNtddbdVebagJU390lq9ko4aI9rqdaWXYG8tv5O/ZQHSqDRYHC6zfH10l5z++opso7aOSaIczlQ13iAzXvLdEu0V7kwNUZ1c8Y8aq7SeIEe5p902FlNkW8DnwHyueHchbK8vVFJfmr9mz7P8nUSccl1ULaoWMRSI1ls32kvlK0h46h3J25Yd9AzfcJbp9qYF/SEt3H5j69mMdcsNxZcAzT/A89ov3tglTX54y/EwjMfuoDoxPwLJDm5I7q6F9Kp469yNy1zSxz0N4HbRRBj9xFFuogvBspv7DXUNIsGxTINEQfmctb42XImWAODgARNo7dfcTqFKq6aTfivmvunLmzP9f8yLsJvXD3JbcPcDGNriMAcjzeDTNr65t8YB5tsnFDFLa0Uwmd2OvUdkLMX9TsAUYUfooSv47sw5J88j7CpahRjjO3/UhOXjTS39W5YZAel2KTbQd1h7INOw9P23GW7GDAe4agIUFHP48MZr7ubq0efFmmtwYMyk7D0r1oeG/CGOODgb9Ur+JMHxkwzPbtCX2ZnENQuI0RN5SyTIZuoY4XS9Rd/tPe3vNAZGSHM/YYwqs9xkkENx0O+eC2YVW1cwOJ3ckE890nbQeHLKlW15L0P0W2VliyYrfNr0nrIYddoRyGaCtj4OYd2MT7ebApqZOAQIaSHJM4mphhfjNjtnjg6YRyx9qM2FT3xOiYIMqXPFWdzhSgFF8ItocqVV09CmIoO8k6U/oJB7++wSX/YksxfPXHyjSgAGZOj1aKEq9fSvXBqtp2wu8/FxEf5AxapAD06pPGuLVUYLdgEzHR8wqRGYEwiUO9MyYbgswstuLYhwYFpSVKOdzAihZ9LuHtD598EGhINU9xc9xhL+QgTLAstmPIvvm2xyRw/WTUPXkP3ZHu6GyPmj5xFH9/QGpkglKXRVUBgVmLOJx8uZO2AstxQYocZH2JhORlxawj66BAXUEs7K/gPxINIRAFyK3WLuyq9oBTF9wEbnmCot82WjIg7CPNwYK3KrZMrKAz5yFszg4wCVLJVnIL8+OYA0xRDH8cHQjQUiQ2i1mr/be32k/3Xej9sdf3iuGvZHyLFSJvPSqz/wltnxumTJYKZsrWXtx/Rmu39jjV9lFaJttfFn57/No2h/unsJmMHbrnZ8csxkp5HQ4xR1s0HH+t3Iz82a3iQWTUDGq/+l2W3TUYLE8zNdL8Y+5oXaIH/Y2UUcX67cXeN4WvENZjz4+8q7vjhowOI3rSjFhGZ6KzwmU7+5nFV+kGWAZ5z2UWvzq0TK0pk1hPwAN4jbw//1CApRvIaIjhSGhioY6TUmsToek9cF9XjJdHvLPcyyCV3lbR5Jiz/ts46ay2F820VjTXvllElwrGzKcNSyvQlWDXdwrUINXmHorAM3fE19ngLZmgeUaCJLsSITf2VcfAOuWwX7mTPdP8Zb/04KqRniufCpwnDUk7sP0RX6cud/sanFMagnzKInSRVey0YzlVSOtA/AjrofmSH6RYbJQ8b4NDeTkIGc6247+Mnbez/qhJ9GAv9fGNFercPnnrf285Qgs+UqThLRgflcAKFuqWhLzZaR4QqvSwa3xe0LPkqj9xJWub195r7NrrR0e78FR+0mRBNMPsraqZctAUVAJfYKehTDV1MGGQSeDsOK9J3sbUuKRIS/WilX/64CBms9jCZocBlsBSZaIAjWm/SUZ8daWL2a/cJFyUOFqE3Epc2RWbtjNyPwOGpWtzu32kUooUqsJud7IV4E8rstUBXM7tGEtBx99x60g1duhyvxeKJSl8s5E34HTMmADT0836aEdg5Dv9rVyCz8i2REOmiz6wtIVFN0HsjAoN37SrY0bV1Ms8CRUILhvZvvRaDzoVCaSI0u8EPuTe4b7OPowgRGODl22UBBmHSTUY8e4DyL+Bc7bngo+2T8HtNvzyATSL5iJZgFPKpmUyZv54vVL90+/RQGATUmNKnrIvcJMYON9fl83naW5sf6hRkbbTC9RUEE6XADwjgA46wWfUQ+QWZl0J4PVTWAln/YfAz/SV3q3J9+yCYDleruoN5uoc/wT2f4YONGTb6zTGq3V+3JqzmCOjwebKln+fExVLN7sqtqfMnsKVXWbb2Ai5m3D/fCTgX7oKYzTZvj+m28XnDqPbXuP4MyWdmPezcesdrh7rCzA7BWdObiuyDEKjjzBbQ0qnuwjliz+b+j7aPMKlkXyIznV3tGzAfYwIbzGGt098oh4eq3ruDjdgHtjxfFCjHrjjRbHajoz/YOY4raojPFQ910GIlBV7hq47UDgpyajBxQUmD8NctiLV1rTSLAEsQDLTeRKcmPBMVMFF0SPBBhZ5oXoxtD3lMhuAQXmA+57OcciczVW9e9zwSIAHS+FJmvfXMJGF1dMBsIUMaPjvgaVqUc3p32qVCMQYFEiRLzlVSOGMCmv/HJIxAHe3mL/XnoZ1IkWLeRZfgyByjnDbbeRK5KL7bYHSVJZ9UFq+yCiNKeRUaYjgbC3hVUvfJAhy/QNl/JqLKVvGMk9ZcfyGidNeo/VTxK9vUpodzfQI9Z2eAre4nmrkzgxKSnT5IJ1D69oHuUS5hp7pK9IAWuNrAOtOH0mAuwCrY8mXAtVXUeaNK3OXr6PRvmWg4VQqFSy+a1GZfFYgdsJELG8N0kvqmzvwZ02Plf5fH9QTy6br0oY/IDsEA+GBf9pEVWCIuBCjsup3LDSDqI+5+0IKSUFr7A96A2f0FbcU9fqljdqvsd8sG55KcKloHIFZem2Wb6pCLXybnVSB0sjCXzdS8IKvE");const Pp=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Tp=4;function xT(e){return e.toString(16).toUpperCase().padStart(2,"0")}function dg(e){return`{${xT(e)}}`}function AT(e){let t=[];for(let n=0,r=e.length;n<r;){let a=e.codePointAt(n);n+=a<65536?1:2,t.push(a)}return t}function Vr(e){let n=e.length;if(n<4096)return String.fromCodePoint(...e);let r=[];for(let a=0;a<n;)r.push(String.fromCodePoint(...e.slice(a,a+=4096)));return r.join("")}var hl=og("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");function br(e){return e>>24&255}function pg(e){return e&16777215}const ET=new Map(cg(hl).flatMap((e,t)=>e.map(n=>[n,t+1<<24]))),kT=new Set(Ht(hl)),fg=new Map,Gc=new Map;for(let[e,t]of ug(hl)){if(!kT.has(e)&&t.length==2){let[n,r]=t,a=Gc.get(n);a||(a=new Map,Gc.set(n,a)),a.set(r,e)}fg.set(e,t.reverse())}const Kr=44032,fi=4352,mi=4449,hi=4519,mg=19,hg=21,Hn=28,yi=hg*Hn,IT=mg*yi,CT=Kr+IT,PT=fi+mg,TT=mi+hg,ST=hi+Hn;function yg(e){return e>=Kr&&e<CT}function BT(e,t){if(e>=fi&&e<PT&&t>=mi&&t<TT)return Kr+(e-fi)*yi+(t-mi)*Hn;if(yg(e)&&t>hi&&t<ST&&(e-Kr)%Hn==0)return e+(t-hi);{let n=Gc.get(e);return n&&(n=n.get(t),n)?n:-1}}function bg(e){let t=[],n=[],r=!1;function a(i){let s=ET.get(i);s&&(r=!0,i|=s),t.push(i)}for(let i of e)for(;;){if(i<128)t.push(i);else if(yg(i)){let s=i-Kr,o=s/yi|0,c=s%yi/Hn|0,u=s%Hn;a(fi+o),a(mi+c),u>0&&a(hi+u)}else{let s=fg.get(i);s?n.push(...s):a(i)}if(!n.length)break;i=n.pop()}if(r&&t.length>1){let i=br(t[0]);for(let s=1;s<t.length;s++){let o=br(t[s]);if(o==0||i<=o){i=o;continue}let c=s-1;for(;;){let u=t[c+1];if(t[c+1]=t[c],t[c]=u,!c||(i=br(t[--c]),i<=o))break}i=br(t[s])}}return t}function RT(e){let t=[],n=[],r=-1,a=0;for(let i of e){let s=br(i),o=pg(i);if(r==-1)s==0?r=o:t.push(o);else if(a>0&&a>=s)s==0?(t.push(r,...n),n.length=0,r=o):n.push(o),a=s;else{let c=BT(r,o);c>=0?r=c:a==0&&s==0?(t.push(r),r=o):(n.push(o),a=s)}}return r>=0&&t.push(r,...n),t}function gg(e){return bg(e).map(pg)}function MT(e){return RT(bg(e))}const Vc=65039,wg=".",vg=1,Sp=45;function ur(){return new Set(Ht(Ge))}const NT=new Map(ug(Ge)),OT=ur(),bi=ur(),Bp=new Set(Ht(Ge).map(function(e){return this[e]},[...bi])),$T=ur();ur();const _T=cg(Ge);function Rp(){return new Set([Ht(Ge).map(e=>_T[e]),Ht(Ge)].flat(2))}const FT=Ge(),Qr=Gr(e=>{let t=Gr(Ge).map(n=>n+96);if(t.length){let n=e>=FT;t[0]-=32,t=Vr(t),n&&(t=`Restricted[${t}]`);let r=Rp(),a=Rp(),i=[...r,...a].sort((o,c)=>o-c),s=!Ge();return{N:t,P:r,M:s,R:n,V:new Set(i)}}}),Mp=ur(),Wr=new Map;[...Mp,...ur()].sort((e,t)=>e-t).map((e,t,n)=>{let r=Ge(),a=n[t]=r?n[t-r]:{V:[],M:new Map};a.V.push(e),Mp.has(e)||Wr.set(e,a)});for(let{V:e,M:t}of new Set(Wr.values())){let n=[];for(let a of e){let i=Qr.filter(o=>o.V.has(a)),s=n.find(({G:o})=>i.some(c=>o.has(c)));s||(s={G:new Set,V:[]},n.push(s)),s.V.push(a),i.forEach(o=>s.G.add(o))}let r=n.flatMap(({G:a})=>[...a]);for(let{G:a,V:i}of n){let s=new Set(r.filter(o=>!a.has(o)));for(let o of i)t.set(o,s)}}let Jr=new Set,xg=new Set;for(let e of Qr)for(let t of e.V)(Jr.has(t)?xg:Jr).add(t);for(let e of Jr)!Wr.has(e)&&!xg.has(e)&&Wr.set(e,vg);const LT=new Set([...Jr,...gg(Jr)]),jT=Ht(Ge),DT=Ag([]);function Ag(e){let t=Gr(()=>{let o=Ht(Ge).map(c=>jT[c]);if(o.length)return Ag(o)}).sort((o,c)=>c.Q.size-o.Q.size),n=Ge(),r=n%3;n=n/3|0;let a=n&1;n>>=1;let i=n&1,s=n&2;return{B:t,V:r,F:a,S:i,C:s,Q:new Set(e)}}class UT extends Array{get is_emoji(){return!0}}function xs(e,t=dg){let n=[];HT(e[0])&&n.push("◌");let r=0,a=e.length;for(let i=0;i<a;i++){let s=e[i];Eg(s)&&(n.push(Vr(e.slice(r,i))),n.push(t(s)),r=i+1)}return n.push(Vr(e.slice(r,a))),n.join("")}function yl(e){return(Eg(e)?"":`${bl(xs([e]))} `)+dg(e)}function bl(e){return`"${e}"‎`}function zT(e){if(e.length>=4&&e[2]==Sp&&e[3]==Sp)throw new Error("invalid label extension")}function Np(e){for(let n=e.lastIndexOf(95);n>0;)if(e[--n]!==95)throw new Error("underscore allowed only at start")}function qT(e){let t=e[0],n=Pp.get(t);if(n)throw Ir(`leading ${n}`);let r=e.length,a=-1;for(let i=1;i<r;i++){t=e[i];let s=Pp.get(t);if(s){if(a==i)throw Ir(`${n} + ${s}`);a=i+1,n=s}}if(a==r)throw Ir(`trailing ${n}`)}function HT(e){return bi.has(e)}function Eg(e){return $T.has(e)}function GT(e){return WT(VT(e))}function VT(e,t){let n=0;return e.split(wg).map(r=>{let a=AT(r),i={input:a,offset:n};n+=a.length+1;let s;try{let o=i.tokens=ZT(a,MT),c=o.length,u;if(c){let l=o[0],d=c>1||l.is_emoji;if(!d&&l.every(p=>p<128))s=l,Np(s),zT(s),u="ASCII";else if(d&&(i.emoji=!0,l=o.flatMap(p=>p.is_emoji?[]:p)),s=o.flatMap(p=>!t&&p.is_emoji?YT(p):p),Np(s),!l.length)u="Emoji";else{if(bi.has(s[0]))throw Ir("leading combining mark");for(let m=1;m<c;m++){let y=o[m];if(!y.is_emoji&&bi.has(y[0]))throw Ir(`emoji + combining mark: "${Vr(o[m-1])} + ${xs([y[0]])}"`)}qT(s);let p=[...new Set(l)],[f]=QT(p);JT(f,l),KT(f,p),u=f.N}}else throw new Error("empty label");i.type=u}catch(o){i.error=o}return i.output=s,i})}function KT(e,t){let n,r=[];for(let a of t){let i=Wr.get(a);if(i===vg)return;if(i){let s=i.M.get(a);if(n=n?n.filter(o=>s.has(o)):[...s],!n.length)return}else r.push(a)}if(n){for(let a of n)if(r.every(i=>a.V.has(i)))throw new Error(`whole-script confusable: ${e.N}/${a.N}`)}}function QT(e){let t=Qr;for(let n of e){let r=t.filter(a=>a.V.has(n));if(!r.length)throw t===Qr?kg(n):Ig(t[0],n);if(t=r,r.length==1)break}return t}function WT(e){return e.map(({input:t,error:n,output:r})=>{if(n){let a=n.message;throw new Error(e.length==1?a:`Invalid label ${bl(xs(t))}: ${a}`)}return Vr(r)}).join(wg)}function kg(e){return new Error(`disallowed character: ${yl(e)}`)}function Ig(e,t){let n=yl(t),r=Qr.find(a=>a.P.has(t));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${e.N} + ${n}`)}function Ir(e){return new Error(`illegal placement: ${e}`)}function JT(e,t){let{V:n,M:r}=e;for(let a of t)if(!n.has(a))throw Ig(e,a);if(r){let a=gg(t);for(let i=1,s=a.length;i<s;i++)if(Bp.has(a[i])){let o=i+1;for(let c;o<s&&Bp.has(c=a[o]);o++)for(let u=i;u<o;u++)if(a[u]==c)throw new Error(`non-spacing marks: repeated ${yl(c)}`);if(o-i>Tp)throw new Error(`non-spacing marks: too many ${bl(xs(a.slice(i-1,o)))} (${o-i}/${Tp})`);i=o}}}function ZT(e,t){let n=[],r=[];for(e=e.slice().reverse();e.length;){let a=XT(e);if(a)r.length&&(n.push(t(r)),r=[]),n.push(a);else{let i=e.pop();if(LT.has(i))r.push(i);else{let s=NT.get(i);if(s)r.push(...s);else if(!OT.has(i))throw kg(i)}}}return r.length&&n.push(t(r)),n}function YT(e){return e.filter(t=>t!=Vc)}function XT(e,t){let n=DT,r,a,i=[],s=e.length;for(;s;){let o=e[--s];if(n=n.B.find(c=>c.Q.has(o)),!n)break;if(n.S)a=o;else if(n.C&&o===a)break;i.push(o),n.F&&(i.push(Vc),s>0&&e[s-1]==Vc&&s--),n.V&&(r=eS(i,n),e.length=s)}return r}function eS(e,t){let n=UT.from(e);return t.V==2&&n.splice(1,1),n}function tS(e){return GT(e)}var nS={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xE4Acdd618deED4e6d2f03b9bf62dc6118FC9A4da",blockCreated:16773775},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}};const rS=nS;var gr={NAME:"Name",OPERATION_DEFINITION:"OperationDefinition",FIELD:"Field"};class Kc extends Error{constructor(t,n,r,a,i,s,o){super(t),this.name="GraphQLError",this.message=t,i&&(this.path=i),n&&(this.nodes=Array.isArray(n)?n:[n]),r&&(this.source=r),a&&(this.positions=a),s&&(this.originalError=s);var c=o;if(!c&&s){var u=s.extensions;u&&typeof u=="object"&&(c=u)}this.extensions=c||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}}var H,_;function Ie(e){return new Kc(`Syntax Error: Unexpected token at ${_} in ${e}`)}function Op(e){if(e.lastIndex=_,e.test(H))return H.slice(_,_=e.lastIndex)}var ja=/ +(?=[^\s])/y;function aS(e){for(var t=e.split(`
`),n="",r=0,a=0,i=t.length-1,s=0;s<t.length;s++)ja.lastIndex=0,ja.test(t[s])&&(s&&(!r||ja.lastIndex<r)&&(r=ja.lastIndex),a=a||s,i=s);for(var o=a;o<=i;o++)o!==a&&(n+=`
`),n+=t[o].slice(r).replace(/\\"""/g,'"""');return n}function ne(){for(var e=0|H.charCodeAt(_++);e===9||e===10||e===13||e===32||e===35||e===44||e===65279;e=0|H.charCodeAt(_++))if(e===35)for(;(e=0|H.charCodeAt(_++))&&e!==10&&e!==13;);_--}function gl(){for(var e=_,t=0|H.charCodeAt(_++);t>=48&&t<=57||t>=65&&t<=90||t===95||t>=97&&t<=122;t=0|H.charCodeAt(_++));if(e===_-1)throw Ie("Name");var n=H.slice(e,--_);return ne(),n}function Be(){return{kind:"Name",value:gl()}}var iS=/(?:"""|(?:[\s\S]*?[^\\])""")/y,sS=/(?:(?:\.\d+)?[eE][+-]?\d+|\.\d+)/y;function Gn(e){var t;switch(H.charCodeAt(_)){case 91:_++,ne();for(var n=[];H.charCodeAt(_)!==93;)n.push(Gn(e));return _++,ne(),{kind:"ListValue",values:n};case 123:_++,ne();for(var r=[];H.charCodeAt(_)!==125;){var a=Be();if(H.charCodeAt(_++)!==58)throw Ie("ObjectField");ne(),r.push({kind:"ObjectField",name:a,value:Gn(e)})}return _++,ne(),{kind:"ObjectValue",fields:r};case 36:if(e)throw Ie("Variable");return _++,{kind:"Variable",name:Be()};case 34:if(H.charCodeAt(_+1)===34&&H.charCodeAt(_+2)===34){if(_+=3,(t=Op(iS))==null)throw Ie("StringValue");return ne(),{kind:"StringValue",value:aS(t.slice(0,-3)),block:!0}}else{var i=_,s;_++;var o=!1;for(s=0|H.charCodeAt(_++);s===92&&(_++,o=!0)||s!==10&&s!==13&&s!==34&&s;s=0|H.charCodeAt(_++));if(s!==34)throw Ie("StringValue");return t=H.slice(i,_),ne(),{kind:"StringValue",value:o?JSON.parse(t):t.slice(1,-1),block:!1}}case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:for(var c=_++,u;(u=0|H.charCodeAt(_++))>=48&&u<=57;);var l=H.slice(c,--_);if((u=H.charCodeAt(_))===46||u===69||u===101){if((t=Op(sS))==null)throw Ie("FloatValue");return ne(),{kind:"FloatValue",value:l+t}}else return ne(),{kind:"IntValue",value:l};case 110:if(H.charCodeAt(_+1)===117&&H.charCodeAt(_+2)===108&&H.charCodeAt(_+3)===108)return _+=4,ne(),{kind:"NullValue"};break;case 116:if(H.charCodeAt(_+1)===114&&H.charCodeAt(_+2)===117&&H.charCodeAt(_+3)===101)return _+=4,ne(),{kind:"BooleanValue",value:!0};break;case 102:if(H.charCodeAt(_+1)===97&&H.charCodeAt(_+2)===108&&H.charCodeAt(_+3)===115&&H.charCodeAt(_+4)===101)return _+=5,ne(),{kind:"BooleanValue",value:!1};break}return{kind:"EnumValue",value:gl()}}function Cg(e){if(H.charCodeAt(_)===40){var t=[];_++,ne();do{var n=Be();if(H.charCodeAt(_++)!==58)throw Ie("Argument");ne(),t.push({kind:"Argument",name:n,value:Gn(e)})}while(H.charCodeAt(_)!==41);return _++,ne(),t}}function Dt(e){if(H.charCodeAt(_)===64){var t=[];do _++,t.push({kind:"Directive",name:Be(),arguments:Cg(e)});while(H.charCodeAt(_)===64);return t}}function oS(){for(var e=0;H.charCodeAt(_)===91;)e++,_++,ne();var t={kind:"NamedType",name:Be()};do if(H.charCodeAt(_)===33&&(_++,ne(),t={kind:"NonNullType",type:t}),e){if(H.charCodeAt(_++)!==93)throw Ie("NamedType");ne(),t={kind:"ListType",type:t}}while(e--);return t}function gi(){if(H.charCodeAt(_++)!==123)throw Ie("SelectionSet");return ne(),wi()}function wi(){var e=[];do if(H.charCodeAt(_)===46){if(H.charCodeAt(++_)!==46||H.charCodeAt(++_)!==46)throw Ie("SelectionSet");switch(_++,ne(),H.charCodeAt(_)){case 64:e.push({kind:"InlineFragment",typeCondition:void 0,directives:Dt(!1),selectionSet:gi()});break;case 111:H.charCodeAt(_+1)===110?(_+=2,ne(),e.push({kind:"InlineFragment",typeCondition:{kind:"NamedType",name:Be()},directives:Dt(!1),selectionSet:gi()})):e.push({kind:"FragmentSpread",name:Be(),directives:Dt(!1)});break;case 123:_++,ne(),e.push({kind:"InlineFragment",typeCondition:void 0,directives:void 0,selectionSet:wi()});break;default:e.push({kind:"FragmentSpread",name:Be(),directives:Dt(!1)})}}else{var t=Be(),n=void 0;H.charCodeAt(_)===58&&(_++,ne(),n=t,t=Be());var r=Cg(!1),a=Dt(!1),i=void 0;H.charCodeAt(_)===123&&(_++,ne(),i=wi()),e.push({kind:"Field",alias:n,name:t,arguments:r,directives:a,selectionSet:i})}while(H.charCodeAt(_)!==125);return _++,ne(),{kind:"SelectionSet",selections:e}}function cS(){if(ne(),H.charCodeAt(_)===40){var e=[];_++,ne();do{var t=void 0;if(H.charCodeAt(_)===34&&(t=Gn(!0)),H.charCodeAt(_++)!==36)throw Ie("Variable");var n=Be();if(H.charCodeAt(_++)!==58)throw Ie("VariableDefinition");ne();var r=oS(),a=void 0;H.charCodeAt(_)===61&&(_++,ne(),a=Gn(!0)),ne();var i={kind:"VariableDefinition",variable:{kind:"Variable",name:n},type:r,defaultValue:a,directives:Dt(!0)};t&&(i.description=t),e.push(i)}while(H.charCodeAt(_)!==41);return _++,ne(),e}}function uS(e){var t=Be();if(H.charCodeAt(_++)!==111||H.charCodeAt(_++)!==110)throw Ie("FragmentDefinition");ne();var n={kind:"FragmentDefinition",name:t,typeCondition:{kind:"NamedType",name:Be()},directives:Dt(!1),selectionSet:gi()};return e&&(n.description=e),n}function $p(){var e=[];do{var t=void 0;if(H.charCodeAt(_)===34&&(t=Gn(!0)),H.charCodeAt(_)===123){if(t)throw Ie("Document");_++,ne(),e.push({kind:"OperationDefinition",operation:"query",name:void 0,variableDefinitions:void 0,directives:void 0,selectionSet:wi()})}else{var n=gl();switch(n){case"fragment":e.push(uS(t));break;case"query":case"mutation":case"subscription":var r,a=void 0;(r=H.charCodeAt(_))!==40&&r!==64&&r!==123&&(a=Be());var i={kind:"OperationDefinition",operation:n,name:a,variableDefinitions:cS(),directives:Dt(!1),selectionSet:gi()};t&&(i.description=t),e.push(i);break;default:throw Ie("Document")}}}while(_<H.length);return e}function lS(e,t){return H=e.body?e.body:e,_=0,ne(),t&&t.noLocation?{kind:"Document",definitions:$p()}:{kind:"Document",definitions:$p(),loc:{start:0,end:H.length,startToken:void 0,endToken:void 0,source:{body:H,name:"graphql.web",locationOffset:{line:1,column:1}}}}}function Se(e,t,n){for(var r="",a=0;a<e.length;a++)a&&(r+=t),r+=n(e[a]);return r}function dS(e){return JSON.stringify(e)}function pS(e){return`"""
`+e.replace(/"""/g,'\\"""')+`
"""`}var yt=`
`,ce={OperationDefinition(e){var t="";e.description&&(t+=ce.StringValue(e.description)+`
`),t+=e.operation,e.name&&(t+=" "+e.name.value),e.variableDefinitions&&e.variableDefinitions.length&&(e.name||(t+=" "),t+="("+Se(e.variableDefinitions,", ",ce.VariableDefinition)+")"),e.directives&&e.directives.length&&(t+=" "+Se(e.directives," ",ce.Directive));var n=ce.SelectionSet(e.selectionSet);return t!=="query"?t+" "+n:n},VariableDefinition(e){var t="";return e.description&&(t+=ce.StringValue(e.description)+" "),t+=ce.Variable(e.variable)+": "+Pt(e.type),e.defaultValue&&(t+=" = "+Pt(e.defaultValue)),e.directives&&e.directives.length&&(t+=" "+Se(e.directives," ",ce.Directive)),t},Field(e){var t=e.alias?e.alias.value+": "+e.name.value:e.name.value;if(e.arguments&&e.arguments.length){var n=Se(e.arguments,", ",ce.Argument);t.length+n.length+2>80?t+="("+(yt+="  ")+Se(e.arguments,yt,ce.Argument)+(yt=yt.slice(0,-2))+")":t+="("+n+")"}return e.directives&&e.directives.length&&(t+=" "+Se(e.directives," ",ce.Directive)),e.selectionSet&&e.selectionSet.selections.length&&(t+=" "+ce.SelectionSet(e.selectionSet)),t},StringValue(e){return e.block?pS(e.value).replace(/\n/g,yt):dS(e.value)},BooleanValue:e=>""+e.value,NullValue:e=>"null",IntValue:e=>e.value,FloatValue:e=>e.value,EnumValue:e=>e.value,Name:e=>e.value,Variable:e=>"$"+e.name.value,ListValue:e=>"["+Se(e.values,", ",Pt)+"]",ObjectValue:e=>"{"+Se(e.fields,", ",ce.ObjectField)+"}",ObjectField:e=>e.name.value+": "+Pt(e.value),Document(e){return!e.definitions||!e.definitions.length?"":Se(e.definitions,`

`,Pt)},SelectionSet:e=>"{"+(yt+="  ")+Se(e.selections,yt,Pt)+(yt=yt.slice(0,-2))+"}",Argument:e=>e.name.value+": "+Pt(e.value),FragmentSpread(e){var t="..."+e.name.value;return e.directives&&e.directives.length&&(t+=" "+Se(e.directives," ",ce.Directive)),t},InlineFragment(e){var t="...";return e.typeCondition&&(t+=" on "+e.typeCondition.name.value),e.directives&&e.directives.length&&(t+=" "+Se(e.directives," ",ce.Directive)),t+=" "+ce.SelectionSet(e.selectionSet)},FragmentDefinition(e){var t="";return e.description&&(t+=ce.StringValue(e.description)+`
`),t+="fragment "+e.name.value,t+=" on "+e.typeCondition.name.value,e.directives&&e.directives.length&&(t+=" "+Se(e.directives," ",ce.Directive)),t+" "+ce.SelectionSet(e.selectionSet)},Directive(e){var t="@"+e.name.value;return e.arguments&&e.arguments.length&&(t+="("+Se(e.arguments,", ",ce.Argument)+")"),t},NamedType:e=>e.name.value,ListType:e=>"["+Pt(e.type)+"]",NonNullType:e=>Pt(e.type)+"!"},Pt=e=>ce[e.kind](e);function fS(e){return yt=`
`,ce[e.kind]?ce[e.kind](e):""}var Pg=()=>{},De=Pg;function ut(e){return{tag:0,0:e}}function va(e){return{tag:1,0:e}}var _p=()=>typeof Symbol=="function"&&Symbol.asyncIterator||"@@asyncIterator",mS=e=>e;function Me(e){return t=>n=>{var r=De;t(a=>{a===0?n(0):a.tag===0?(r=a[0],n(a)):e(a[0])?n(a):r(0)})}}function Cr(e){return t=>n=>t(r=>{r===0||r.tag===0?n(r):n(va(e(r[0])))})}function Tg(e){return t=>n=>{var r=[],a=De,i=!1,s=!1;t(o=>{s||(o===0?(s=!0,r.length||n(0)):o.tag===0?a=o[0]:(i=!1,function(u){var l=De;u(d=>{if(d===0){if(r.length){var p=r.indexOf(l);p>-1&&(r=r.slice()).splice(p,1),r.length||(s?n(0):i||(i=!0,a(0)))}}else d.tag===0?(r.push(l=d[0]),l(0)):r.length&&(n(d),l(0))})}(e(o[0])),i||(i=!0,a(0))))}),n(ut(o=>{if(o===1){s||(s=!0,a(1));for(var c=0,u=r,l=r.length;c<l;c++)u[c](1);r.length=0}else{!s&&!i?(i=!0,a(0)):i=!1;for(var d=0,p=r,f=r.length;d<f;d++)p[d](0)}}))}}function hS(e){return Tg(mS)(e)}function Zr(e){return hS(wS(e))}function Sg(e){return t=>n=>{var r=!1;t(a=>{if(!r)if(a===0)r=!0,n(0),e();else if(a.tag===0){var i=a[0];n(ut(s=>{s===1?(r=!0,i(1),e()):i(s)}))}else n(a)})}}function Bg(e){return t=>n=>{var r=!1;t(a=>{if(!r)if(a===0)r=!0,n(0);else if(a.tag===0){var i=a[0];n(ut(s=>{s===1&&(r=!0),i(s)}))}else e(a[0]),n(a)})}}function Fp(e){return t=>n=>t(r=>{r===0?n(0):r.tag===0?(n(r),e()):n(r)})}function Yr(e){var t=[],n=De,r=!1;return a=>{t.push(a),t.length===1&&e(i=>{if(i===0){for(var s=0,o=t,c=t.length;s<c;s++)o[s](0);t.length=0}else if(i.tag===0)n=i[0];else{r=!1;for(var u=0,l=t,d=t.length;u<d;u++)l[u](i)}}),a(ut(i=>{if(i===1){var s=t.indexOf(a);s>-1&&(t=t.slice()).splice(s,1),t.length||n(1)}else r||(r=!0,n(0))}))}}function Lp(e){return t=>n=>{var r=De,a=De,i=!1,s=!1,o=!1,c=!1;t(u=>{c||(u===0?(c=!0,o||n(0)):u.tag===0?r=u[0]:(o&&(a(1),a=De),i?i=!1:(i=!0,r(0)),function(d){o=!0,d(p=>{o&&(p===0?(o=!1,c?n(0):i||(i=!0,r(0))):p.tag===0?(s=!1,(a=p[0])(0)):(n(p),s?s=!1:a(0)))})}(e(u[0]))))}),n(ut(u=>{u===1?(c||(c=!0,r(1)),o&&(o=!1,a(1))):(!c&&!i&&(i=!0,r(0)),o&&!s&&(s=!0,a(0)))}))}}function Rg(e){return t=>n=>{var r=De,a=!1,i=0;t(s=>{a||(s===0?(a=!0,n(0)):s.tag===0?r=s[0]:i++<e?(n(s),!a&&i>=e&&(a=!0,n(0),r(1))):n(s))}),n(ut(s=>{s===1&&!a?(a=!0,r(1)):s===0&&!a&&i<e&&r(0)}))}}function Mg(e){return t=>n=>{var r=De,a=De,i=!1;t(s=>{i||(s===0?(i=!0,a(1),n(0)):s.tag===0?(r=s[0],e(o=>{o===0||(o.tag===0?(a=o[0])(0):(i=!0,a(1),r(1),n(0)))})):n(s))}),n(ut(s=>{s===1&&!i?(i=!0,r(1),a(1)):i||r(0)}))}}function yS(e,t){return n=>r=>{var a=De,i=!1;n(s=>{i||(s===0?(i=!0,r(0)):s.tag===0?(a=s[0],r(s)):e(s[0])?r(s):(i=!0,r(s),r(0),a(1)))})}}function bS(e){return t=>e()(t)}function Ng(e){return t=>{var n=e[_p()]&&e[_p()]()||e,r=!1,a=!1,i=!1,s;t(ut(async o=>{if(o===1)r=!0,n.return&&n.return();else if(a)i=!0;else{for(i=a=!0;i&&!r;)if((s=await n.next()).done)r=!0,n.return&&await n.return(),t(0);else try{i=!1,t(va(s.value))}catch(c){if(n.throw)(r=!!(await n.throw(c)).done)&&t(0);else throw c}a=!1}}))}}function gS(e){return e[Symbol.asyncIterator]?Ng(e):t=>{var n=e[Symbol.iterator](),r=!1,a=!1,i=!1,s;t(ut(o=>{if(o===1)r=!0,n.return&&n.return();else if(a)i=!0;else{for(i=a=!0;i&&!r;)if((s=n.next()).done)r=!0,n.return&&n.return(),t(0);else try{i=!1,t(va(s.value))}catch(c){if(n.throw)(r=!!n.throw(c).done)&&t(0);else throw c}a=!1}}))}}var wS=gS;function ko(e){return t=>{var n=!1;t(ut(r=>{r===1?n=!0:n||(n=!0,t(va(e)),t(0))}))}}function vS(e){return t=>{var n=!1,r=e({next(a){n||t(va(a))},complete(){n||(n=!0,t(0))}});t(ut(a=>{a===1&&!n&&(n=!0,r())}))}}function xS(){var e,t;return{source:Yr(vS(n=>(e=n.next,t=n.complete,Pg))),next(n){e&&e(n)},complete(){t&&t()}}}function wl(e){return t=>{var n=De,r=!1;return t(a=>{a===0?r=!0:a.tag===0?(n=a[0])(0):r||(e(a[0]),n(0))}),{unsubscribe(){r||(r=!0,n(1))}}}}function AS(e){wl(t=>{})(e)}function ES(e){return new Promise(t=>{var n=De,r;e(a=>{a===0?Promise.resolve(r).then(t):a.tag===0?(n=a[0])(0):(r=a[0],n(0))})})}var kS=e=>e&&e.message&&(e.extensions||e.name==="GraphQLError")?e:typeof e=="object"&&e.message?new Kc(e.message,e.nodes,e.source,e.positions,e.path,e,e.extensions||{}):new Kc(e);class vl extends Error{constructor(t){var n=(t.graphQLErrors||[]).map(kS),r=((a,i)=>{var s="";if(a)return`[Network] ${a.message}`;if(i)for(var o of i)s&&(s+=`
`),s+=`[GraphQL] ${o.message}`;return s})(t.networkError,n);super(r),this.name="CombinedError",this.message=r,this.graphQLErrors=n,this.networkError=t.networkError,this.response=t.response}toString(){return this.message}}var Qc=(e,t)=>{for(var n=0|(t||5381),r=0,a=0|e.length;r<a;r++)n=(n<<5)+n+e.charCodeAt(r);return n},tn=new Set,jp=new WeakMap,Pn=e=>{if(e===null||tn.has(e))return"null";if(typeof e!="object")return JSON.stringify(e)||"";if(e.toJSON)return Pn(e.toJSON());if(Array.isArray(e)){var t="[";for(var n of e)t.length>1&&(t+=","),t+=Pn(n)||"null";return t+="]"}else if(xi!==Vn&&e instanceof xi||Ai!==Vn&&e instanceof Ai)return"null";var r=Object.keys(e).sort();if(!r.length&&e.constructor&&Object.getPrototypeOf(e).constructor!==Object.prototype.constructor){var a=jp.get(e)||Math.random().toString(36).slice(2);return jp.set(e,a),Pn({__key:a})}tn.add(e);var i="{";for(var s of r){var o=Pn(e[s]);o&&(i.length>1&&(i+=","),i+=Pn(s)+":"+o)}return tn.delete(e),i+="}"},Wc=(e,t,n)=>{if(!(n==null||typeof n!="object"||n.toJSON||tn.has(n)))if(Array.isArray(n))for(var r=0,a=n.length;r<a;r++)Wc(e,`${t}.${r}`,n[r]);else if(n instanceof xi||n instanceof Ai)e.set(t,n);else{tn.add(n);for(var i of Object.keys(n))Wc(e,`${t}.${i}`,n[i])}},vi=e=>(tn.clear(),Pn(e));class Vn{}var xi=typeof File<"u"?File:Vn,Ai=typeof Blob<"u"?Blob:Vn,IS=/("{3}[\s\S]*"{3}|"(?:\\.|[^"])*")/g,CS=/(?:#[^\n\r]+)?(?:[\r\n]+|$)/g,PS=(e,t)=>t%2==0?e.replace(CS,`
`):e,Dp=e=>e.split(IS).map(PS).join("").trim(),Up=new Map,Qa=new Map,xl=e=>{var t;return typeof e=="string"?t=Dp(e):e.loc&&Qa.get(e.__key)===e?t=e.loc.source.body:(t=Up.get(e)||Dp(fS(e)),Up.set(e,t)),typeof e!="string"&&!e.loc&&(e.loc={start:0,end:t.length,source:{body:t,name:"gql",locationOffset:{line:1,column:1}}}),t},zp=e=>{var t=Qc(xl(e));if(e.definitions){var n=$g(e);n&&(t=Qc(`
# ${n}`,t))}return t},Og=e=>{var t,n;return typeof e=="string"?(t=zp(e),n=Qa.get(t)||lS(e,{noLocation:!0})):(t=e.__key||zp(e),n=Qa.get(t)||e),n.loc||xl(n),n.__key=t,Qa.set(t,n),n},Io=(e,t,n)=>{var r=t||{},a=Og(e),i=vi(r),s=a.__key;return i!=="{}"&&(s=Qc(i,s)),{key:s,query:a,variables:r,extensions:n}},$g=e=>{for(var t of e.definitions)if(t.kind===gr.OPERATION_DEFINITION)return t.name?t.name.value:void 0},Jc=(e,t,n)=>{if(!("data"in t||"errors"in t&&Array.isArray(t.errors)))throw new Error("No Content");var r=e.kind==="subscription";return{operation:e,data:t.data,error:Array.isArray(t.errors)?new vl({graphQLErrors:t.errors,response:n}):void 0,extensions:t.extensions?{...t.extensions}:void 0,hasNext:t.hasNext==null?r:t.hasNext,stale:!1}},Zc=(e,t)=>{if(typeof e=="object"&&e!=null&&(!e.constructor||e.constructor===Object||Array.isArray(e))){e=Array.isArray(e)?[...e]:{...e};for(var n of Object.keys(t))e[n]=Zc(e[n],t[n]);return e}return t},TS=(e,t,n,r)=>{var a=e.error?e.error.graphQLErrors:[],i=!!e.extensions||!!(t.payload||t).extensions,s={...e.extensions,...(t.payload||t).extensions},o=t.incremental;"path"in t&&(o=[t]);var c={data:e.data};if(o){var u=function(d){Array.isArray(d.errors)&&a.push(...d.errors),d.extensions&&(Object.assign(s,d.extensions),i=!0);var p="data",f=c,m=[];if(d.path)m=d.path;else if(r){var y=r.find(x=>x.id===d.id);d.subPath?m=[...y.path,...d.subPath]:m=y.path}for(var g=0,b=m.length;g<b;p=m[g++])f=f[p]=Array.isArray(f[p])?[...f[p]]:{...f[p]};if(d.items)for(var h=+p>=0?p:0,w=0,v=d.items.length;w<v;w++)f[h+w]=Zc(f[h+w],d.items[w]);else d.data!==void 0&&(f[p]=Zc(f[p],d.data))};for(var l of o)u(l)}else c.data=(t.payload||t).data||e.data,a=t.errors||t.payload&&t.payload.errors||a;return{operation:e.operation,data:c.data,error:a.length?new vl({graphQLErrors:a,response:n}):void 0,extensions:i?s:void 0,hasNext:t.hasNext!=null?t.hasNext:e.hasNext,stale:!1}},SS=(e,t,n)=>({operation:e,data:void 0,error:new vl({networkError:t,response:n}),extensions:void 0,hasNext:!1,stale:!1});function BS(e){var t={query:void 0,documentId:void 0,operationName:$g(e.query),variables:e.variables||void 0,extensions:e.extensions};return"documentId"in e.query&&e.query.documentId&&(!e.query.definitions||!e.query.definitions.length)?t.documentId=e.query.documentId:(!e.extensions||!e.extensions.persistedQuery||e.extensions.persistedQuery.miss)&&(t.query=xl(e.query)),t}var RS=(e,t)=>{var n=e.kind==="query"&&e.context.preferGetMethod;if(!n||!t)return e.context.url;var r=MS(e.context.url);for(var a in t){var i=t[a];i&&r[1].set(a,typeof i=="object"?vi(i):i)}var s=r.join("?");return s.length>2047&&n!=="force"?(e.context.preferGetMethod=!1,e.context.url):s},MS=e=>{var t=e.indexOf("?");return t>-1?[e.slice(0,t),new URLSearchParams(e.slice(t+1))]:[e,new URLSearchParams]},NS=(e,t)=>{if(t&&!(e.kind==="query"&&e.context.preferGetMethod)){var n=vi(t),r=(o=>{var c=new Map;return(xi!==Vn||Ai!==Vn)&&(tn.clear(),Wc(c,"variables",o)),c})(t.variables);if(r.size){var a=new FormData;a.append("operations",n),a.append("map",vi({...[...r.keys()].map(o=>[o])}));var i=0;for(var s of r.values())a.append(""+i++,s);return a}return n}},OS=(e,t)=>{var n={accept:e.kind==="subscription"?"text/event-stream, multipart/mixed":"application/graphql-response+json, application/graphql+json, application/json, text/event-stream, multipart/mixed"},r=(typeof e.context.fetchOptions=="function"?e.context.fetchOptions():e.context.fetchOptions)||{};if(r.headers)if((s=>"has"in s&&!Object.keys(s).length)(r.headers))r.headers.forEach((s,o)=>{n[o]=s});else if(Array.isArray(r.headers))r.headers.forEach((s,o)=>{Array.isArray(s)?n[s[0]]?n[s[0]]=`${n[s[0]]},${s[1]}`:n[s[0]]=s[1]:n[o]=s});else for(var a in r.headers)n[a.toLowerCase()]=r.headers[a];var i=NS(e,t);return typeof i=="string"&&!n["content-type"]&&(n["content-type"]="application/json"),{...r,method:i?"POST":"GET",body:i,headers:n}},$S=typeof TextDecoder<"u"?new TextDecoder:null,_S=/boundary="?([^=";]+)"?/i,FS=/data: ?([^\n]+)/,qp=e=>e.constructor.name==="Buffer"?e.toString():$S.decode(e);async function*Hp(e){if(e.body[Symbol.asyncIterator])for await(var t of e.body)yield qp(t);else{var n=e.body.getReader(),r;try{for(;!(r=await n.read()).done;)yield qp(r.value)}finally{n.cancel()}}}async function*Gp(e,t){var n="",r;for await(var a of e)for(n+=a;(r=n.indexOf(t))>-1;)yield n.slice(0,r),n=n.slice(r+t.length)}async function*LS(e,t,n){var r=!0,a=null,i;try{yield await Promise.resolve();var s=(i=await(e.context.fetch||fetch)(t,n)).headers.get("Content-Type")||"",o;/multipart\/mixed/i.test(s)?o=async function*(d,p){var f=d.match(_S),m="--"+(f?f[1]:"-"),y=!0,g;for await(var b of Gp(Hp(p),`\r
`+m)){if(y){y=!1;var h=b.indexOf(m);if(h>-1)b=b.slice(h+m.length);else continue}try{yield g=JSON.parse(b.slice(b.indexOf(`\r
\r
`)+4))}catch(w){if(!g)throw w}if(g&&g.hasNext===!1)break}g&&g.hasNext!==!1&&(yield{hasNext:!1})}(s,i):/text\/event-stream/i.test(s)?o=async function*(d){var p;for await(var f of Gp(Hp(d),`

`)){var m=f.match(FS);if(m){var y=m[1];try{yield p=JSON.parse(y)}catch(g){if(!p)throw g}if(p&&p.hasNext===!1)break}}p&&p.hasNext!==!1&&(yield{hasNext:!1})}(i):/text\//i.test(s)?o=async function*(d){var p=await d.text();try{var f=JSON.parse(p);yield f}catch{throw new Error(p)}}(i):o=async function*(d){yield JSON.parse(await d.text())}(i);var c;for await(var u of o)u.pending&&!a?c=u.pending:u.pending&&(c=[...c,...u.pending]),a=a?TS(a,u,i,c):Jc(e,u,i),r=!1,yield a,r=!0;a||(yield a=Jc(e,{},i))}catch(l){if(!r)throw l;yield SS(e,i&&(i.status<200||i.status>=300)&&i.statusText?new Error(i.statusText):l,i)}}function jS(e,t,n){var r;return typeof AbortController<"u"&&(n.signal=(r=new AbortController).signal),Sg(()=>{r&&r.abort()})(Me(a=>!!a)(Ng(LS(e,t,n))))}var Yc=(e,t)=>{if(Array.isArray(e))for(var n of e)Yc(n,t);else if(typeof e=="object"&&e!==null)for(var r in e)r==="__typename"&&typeof e[r]=="string"?t.add(e[r]):Yc(e[r],t);return t},Xc=e=>{if("definitions"in e){var t=[];for(var n of e.definitions){var r=Xc(n);t.push(r)}return{...e,definitions:t}}if("directives"in e&&e.directives&&e.directives.length){var a=[],i={};for(var s of e.directives){var o=s.name.value;o[0]!=="_"?a.push(s):o=o.slice(1),i[o]=s}e={...e,directives:a,_directives:i}}if("selectionSet"in e){var c=[],u=e.kind===gr.OPERATION_DEFINITION;if(e.selectionSet){for(var l of e.selectionSet.selections||[]){u=u||l.kind===gr.FIELD&&l.name.value==="__typename"&&!l.alias;var d=Xc(l);c.push(d)}return u||c.push({kind:gr.FIELD,name:{kind:gr.NAME,value:"__typename"},_generated:!0}),{...e,selectionSet:{...e.selectionSet,selections:c}}}}return e},Vp=new Map,DS=e=>{var t=Og(e),n=Vp.get(t.__key);return n||(Vp.set(t.__key,n=Xc(t)),Object.defineProperty(n,"__key",{value:t.__key,enumerable:!1})),n},eu=(e,t)=>{if(!e||typeof e!="object")return e;if(Array.isArray(e))return e.map(a=>eu(a));if(e&&typeof e=="object"&&(t||"__typename"in e)){var n={};for(var r in e)r==="__typename"?Object.defineProperty(n,"__typename",{enumerable:!1,value:e.__typename}):n[r]=eu(e[r]);return n}else return e};function Kp(e){var t=n=>e(n);return t.toPromise=()=>ES(Rg(1)(Me(n=>!n.stale&&!n.hasNext)(t))),t.then=(n,r)=>t.toPromise().then(n,r),t.subscribe=n=>wl(n)(t),t}function Ei(e,t,n){return{...t,kind:e,context:t.context?{...t.context,...n}:n||t.context}}var US=()=>{},Co=({kind:e})=>e!=="mutation"&&e!=="query",zS=e=>{var t=DS(e.query);if(t!==e.query){var n=Ei(e.kind,e);return n.query=t,n}else return e},qS=({forward:e,client:t,dispatchDebug:n})=>{var r=new Map,a=new Map,i=s=>s.kind==="query"&&s.context.requestPolicy!=="network-only"&&(s.context.requestPolicy==="cache-only"||r.has(s.key));return s=>{var o=Cr(u=>{var l=r.get(u.key),d=l||Jc(u,{data:null});return d={...d,operation:u},u.context.requestPolicy==="cache-and-network"&&(d.stale=!0,Qp(t,u)),d})(Me(u=>!Co(u)&&i(u))(s)),c=Bg(u=>{var{operation:l}=u;if(l){var d=l.context.additionalTypenames||[];if(u.operation.kind!=="subscription"&&(d=(x=>[...Yc(x,new Set)])(u.data).concat(d)),u.operation.kind==="mutation"||u.operation.kind==="subscription"){for(var p=new Set,f=0;f<d.length;f++){var m=d[f],y=a.get(m);y||a.set(m,y=new Set);for(var g of y.values())p.add(g);y.clear()}for(var b of p.values())r.has(b)&&(l=r.get(b).operation,r.delete(b),Qp(t,l))}else if(l.kind==="query"&&u.data){r.set(l.key,u);for(var h=0;h<d.length;h++){var w=d[h],v=a.get(w);v||a.set(w,v=new Set),v.add(l.key)}}}})(e(Me(u=>u.kind!=="query"||u.context.requestPolicy!=="cache-only")(Cr(u=>u)(Zr([Cr(zS)(Me(u=>!Co(u)&&!i(u))(s)),Me(u=>Co(u))(s)])))));return Zr([o,c])}},Qp=(e,t)=>e.reexecuteOperation(Ei(t.kind,t,{requestPolicy:"network-only"})),HS=({forward:e,dispatchDebug:t})=>n=>{var r=Tg(i=>{var s=BS(i),o=RS(i,s),c=OS(i,s),u=Mg(Me(l=>l.kind==="teardown"&&l.key===i.key)(n))(jS(i,o,c));return u})(Me(i=>i.kind!=="teardown"&&(i.kind!=="subscription"||!!i.context.fetchSubscriptions))(n)),a=e(Me(i=>i.kind==="teardown"||i.kind==="subscription"&&!i.context.fetchSubscriptions)(n));return Zr([r,a])},GS=e=>({client:t,forward:n,dispatchDebug:r})=>e.reduceRight((a,i)=>i({client:t,forward(s){return Yr(a(Yr(s)))},dispatchDebug(s){}}),n),VS=({dispatchDebug:e})=>t=>Me(n=>!1)(t),KS=function e(t){var n=0,r=new Map,a=new Map,i=new Set,s=[],o={url:t.url,fetchSubscriptions:t.fetchSubscriptions,fetchOptions:t.fetchOptions,fetch:t.fetch,preferGetMethod:t.preferGetMethod,requestPolicy:t.requestPolicy||"cache-first"},c=xS();function u(h){(h.kind==="mutation"||h.kind==="teardown"||!i.has(h.key))&&(h.kind==="teardown"?i.delete(h.key):h.kind!=="mutation"&&i.add(h.key),c.next(h))}var l=!1;function d(h){if(h&&u(h),!l){for(l=!0;l&&(h=s.shift());)u(h);l=!1}}var p=h=>{var w=Mg(Me(v=>v.kind==="teardown"&&v.key===h.key)(c.source))(Me(v=>v.operation.kind===h.kind&&v.operation.key===h.key&&(!v.operation.context._instance||v.operation.context._instance===h.context._instance))(b));return t.maskTypename&&(w=Cr(v=>({...v,data:eu(v.data,!0)}))(w)),h.kind!=="query"?w=yS(v=>!!v.hasNext)(w):w=Lp(v=>{var x=ko(v);return v.stale||v.hasNext?x:Zr([x,Cr(()=>(v.stale=!0,v))(Rg(1)(Me(k=>k.key===h.key)(c.source)))])})(w),h.kind!=="mutation"?w=Sg(()=>{i.delete(h.key),r.delete(h.key),a.delete(h.key),l=!1;for(var v=s.length-1;v>=0;v--)s[v].key===h.key&&s.splice(v,1);u(Ei("teardown",h,h.context))})(Bg(v=>{if(v.stale){for(var x of s)if(x.key===v.operation.key){i.delete(x.key);break}}else v.hasNext||i.delete(h.key);r.set(h.key,v)})(w)):w=Fp(()=>{u(h)})(w),Yr(w)},f=this instanceof e?this:Object.create(e.prototype),m=Object.assign(f,{suspense:!!t.suspense,operations$:c.source,reexecuteOperation(h){if(h.kind==="teardown")d(h);else if(h.kind==="mutation"||a.has(h.key)){for(var w=!1,v=0;v<s.length;v++)w=w||s[v].key===h.key;w||i.delete(h.key),s.push(h),Promise.resolve().then(d)}},createRequestOperation(h,w,v){return v||(v={}),Ei(h,w,{_instance:h==="mutation"?n=n+1|0:void 0,...o,...v,requestPolicy:v.requestPolicy||o.requestPolicy,suspense:v.suspense||v.suspense!==!1&&m.suspense})},executeRequestOperation(h){return h.kind==="mutation"?Kp(p(h)):Kp(bS(()=>{var w=a.get(h.key);w||a.set(h.key,w=p(h)),w=Fp(()=>{d(h)})(w);var v=r.get(h.key);return h.kind==="query"&&v&&(v.stale||v.hasNext)?Lp(ko)(Zr([w,Me(x=>x===r.get(h.key))(ko(v))])):w}))},executeQuery(h,w){var v=m.createRequestOperation("query",h,w);return m.executeRequestOperation(v)},executeSubscription(h,w){var v=m.createRequestOperation("subscription",h,w);return m.executeRequestOperation(v)},executeMutation(h,w){var v=m.createRequestOperation("mutation",h,w);return m.executeRequestOperation(v)},readQuery(h,w,v){var x=null;return wl(k=>{x=k})(m.query(h,w,v)).unsubscribe(),x},query:(h,w,v)=>m.executeQuery(Io(h,w),v),subscription:(h,w,v)=>m.executeSubscription(Io(h,w),v),mutation:(h,w,v)=>m.executeMutation(Io(h,w),v)}),y=US,g=GS(t.exchanges),b=Yr(g({client:m,dispatchDebug:y,forward:VS({dispatchDebug:y})})(c.source));return AS(b),m},QS=KS,Po,Wp;function WS(){if(Wp)return Po;Wp=1;const e=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);return Po=t=>!e.has(t&&t.code),Po}var JS=WS();const ZS=ki(JS);function Jp(e,t,n,r,a,i,s){try{var o=e[i](s),c=o.value}catch(u){n(u);return}o.done?t(c):Promise.resolve(c).then(r,a)}function _g(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function s(c){Jp(i,r,a,s,o,"next",c)}function o(c){Jp(i,r,a,s,o,"throw",c)}s(void 0)})}}function Zp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function To(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zp(Object(n),!0).forEach(function(r){YS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fg="axios-retry";function Lg(e){var t=["ERR_CANCELED","ECONNABORTED"];return!e.response&&!!e.code&&!t.includes(e.code)&&ZS(e)}var jg=["get","head","options"],XS=jg.concat(["put","delete"]);function Al(e){return e.code!=="ECONNABORTED"&&(!e.response||e.response.status>=500&&e.response.status<=599)}function eB(e){return e.config?Al(e)&&jg.indexOf(e.config.method)!==-1:!1}function Dg(e){return e.config?Al(e)&&XS.indexOf(e.config.method)!==-1:!1}function El(e){return Lg(e)||Dg(e)}function tB(){return 0}function nB(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100,n=Math.pow(2,e)*t,r=n*.2*Math.random();return n+r}var rB={retries:3,retryCondition:El,retryDelay:tB,shouldResetTimeout:!1,onRetry:()=>{}};function aB(e,t){return To(To(To({},rB),t),e[Fg])}function Yp(e,t){var n=aB(e,t);return n.retryCount=n.retryCount||0,e[Fg]=n,n}function iB(e,t){e.defaults.agent===t.agent&&delete t.agent,e.defaults.httpAgent===t.httpAgent&&delete t.httpAgent,e.defaults.httpsAgent===t.httpsAgent&&delete t.httpsAgent}function sB(e,t){return tu.apply(this,arguments)}function tu(){return tu=_g(function*(e,t){var{retries:n,retryCondition:r}=e,a=e.retryCount<n&&r(t);if(typeof a=="object")try{var i=yield a;return i!==!1}catch{return!1}return a}),tu.apply(this,arguments)}function Gt(e,t){var n=e.interceptors.request.use(a=>{var i=Yp(a,t);return i.lastRequestTime=Date.now(),a}),r=e.interceptors.response.use(null,function(){var a=_g(function*(i){var{config:s}=i;if(!s)return Promise.reject(i);var o=Yp(s,t);if(yield sB(o,i)){o.retryCount+=1;var{retryDelay:c,shouldResetTimeout:u,onRetry:l}=o,d=c(o.retryCount,i);if(iB(e,s),!u&&s.timeout&&o.lastRequestTime){var p=Date.now()-o.lastRequestTime,f=s.timeout-p-d;if(f<=0)return Promise.reject(i);s.timeout=f}return s.transformRequest=[m=>m],yield l(o.retryCount,i,s),new Promise(m=>setTimeout(()=>m(e(s)),d))}return Promise.reject(i)});return function(i){return a.apply(this,arguments)}}());return{requestInterceptorId:n,responseInterceptorId:r}}Gt.isNetworkError=Lg;Gt.isSafeRequestError=eB;Gt.isIdempotentRequestError=Dg;Gt.isNetworkOrIdempotentRequestError=El;Gt.exponentialDelay=nB;Gt.isRetryableError=Al;var oB=class{main;indexer;constructor(e){this.main=e}replaceIPFS(e){return/^[a-zA-Z0-9]{46}$/.test(e)&&(e="ipfs://"+e),e.replace("ipfs://ipfs/","ipfs://").replace("ipfs://",this.main.options.ipfsGateway)}replaceIPFSs(e){return e.map(t=>this.replaceIPFS(t))}async getCrossbellCharacter(e){let t;switch(this.indexer||(this.indexer=Un()),e.platform){case"Ethereum":t=await this.indexer.character.getPrimary(e.identity);break;case"Crossbell":t=await this.indexer.character.getByHandle(e.identity);break;default:throw new Error(`Unsupported platform: ${e.platform}`)}return t}removeEmpty(e,t){for(let n in e)typeof e[n]=="object"?!e[n]||Object.keys(e[n]).length===0?delete e[n]:this.removeEmpty(e[n],{obj:e,key:n}):e[n]||delete e[n];Object.keys(e).length===0&&t&&delete t.obj[t.key]}getMimeType(e){e=this.main.utils.replaceIPFS(e);let t=QE.getType(e);if(t)return t}async uploadToIPFS(e){return(await J.post(this.main.options.ipfsRelay,e)).data.url}},cB=oB,uB=class{main;inited;constructor(e){this.main=e}},Ug=uB,lB="84842078b09946638c03157f83405213",dB=class extends Ug{publicClient;urqlClient;constructor(e){super(e)}async init(){this.publicClient=fT({chain:rS,transport:UP(`https://mainnet.infura.io/v3/${this.main.options.infuraProjectID??lB}`)}),this.urqlClient=QS({url:"https://api.thegraph.com/subgraphs/name/ensdomains/ens",maskTypename:!1,exchanges:[qS,HS]}),this.inited=!0}async get(e){this.inited||await this.init();let t=await this.urqlClient.query(`
                query getRegistrations($identity: ID!, $limit: Int, $cursor: Int) {
                    account(id: $identity) {
                    domains(orderBy: createdAt, orderDirection: "desc", skip: $cursor, first: $limit) {
                        id
                        name
                        createdAt
                        labelhash
                        resolver {
                            texts
                            id
                                address
                            }
                        }
                    }
                }`,{identity:e.identity.toLowerCase(),cursor:e.cursor||0,limit:e.limit}).toPromise(),n=await Promise.all(t?.data?.account?.domains?.map(async r=>{let a={date_created:new Date(+r.createdAt).toISOString(),name:r.name,username:r.name,source:"ENS",metadata:{network:"Ethereum",proof:r.name}},i=r.resolver?.texts||[];return await Promise.all(i.map(async s=>{let o=()=>this.publicClient.getEnsText({name:tS(r.name),key:s});switch(s){case"avatar":a.avatars=Pl([await o()]);break;case"description":a.bio=await o()??void 0;break;case"url":a.websites=Pl([await o()]);break;default:let c=s.split(".");if(c.length===2&&(c[0]==="com"||c[0]==="org")){a.connected_accounts||(a.connected_accounts=[]);let u=await o();u&&a.connected_accounts.push({identity:u,platform:c[1]})}break}})),a}))||[];return{total:n.length,...e.limit&&n.length>=e.limit&&{cursor:e.limit+(e.cursor||0)},list:n}}set},pB=dB,fB=class extends Ug{indexer;contract;constructor(e){super(e),this.main.options.ipfsGateway}async get(e){this.indexer||(this.indexer=Un()),e=Object.assign({platform:"Ethereum"},e);let t;if(e.platform==="Ethereum")t=await this.indexer.character.getMany(e.identity,{cursor:e.cursor,limit:e.limit,primary:e.filter?.primary});else{let r=await this.indexer.character.getByHandle(e.identity);r?t={count:1,cursor:"",list:[r]}:t={count:0,cursor:"",list:[]}}let n=await Promise.all(t.list?.map(async r=>{if(r.uri&&!(r.metadata&&r.metadata.content))try{let a=await J.get(this.main.utils.replaceIPFS(r.uri),{...typeof window>"u"&&{headers:{"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36"}}});r.metadata={content:a.data}}catch{}return Object.assign({date_created:r.createdAt,date_updated:r.updatedAt,username:r.handle,source:"Crossbell Profile",metadata:{network:"Crossbell",proof:r.characterId,raw:r.metadata?.content||{},uri:r.uri,primary:r.primary,block_number:r.blockNumber,owner:r.owner,transactions:[r.transactionHash,...r.transactionHash!==r.updatedTransactionHash?[r.updatedTransactionHash]:[]]}},{...r.metadata?.content?.name&&{name:r.metadata.content.name},...r.metadata?.content?.bio&&{bio:r.metadata.content.bio},...r.metadata?.content?.banners?.[0].address&&r.metadata?.content?.banners?.[0].mime_type&&{banners:r.metadata?.content?.banners},...r.metadata?.content?.avatars&&{avatars:r.metadata.content.avatars},...r.metadata?.content?.websites&&{websites:r.metadata.content.websites},...r.metadata?.content?.tags&&{tags:r.metadata.content.tags},...r.metadata?.content?.connected_accounts&&{connected_accounts:r.metadata.content.connected_accounts},...r.metadata?.content?.attributes&&{attributes:(r.metadata?.content).attributes}})}));return{total:n.length,...t.cursor&&{cursor:t.cursor},list:n.map(r=>(r.connected_accounts&&(r.connected_accounts=r.connected_accounts.map(a=>{if(a.uri&&(a=a.uri),typeof a=="string"){let i=a.match(/:\/\/account:(.*)@(.*)/);return i?{identity:i[1],platform:i[2]}:{identity:a,platform:""}}return a})),r))}}async set(e,t,n){switch(e=Object.assign({platform:"Ethereum",action:"update"},e),!this.contract&&!n?.newbieToken&&(this.contract=ns(this.main.options.ethereumProvider)),this.indexer||(this.indexer=Un()),e.action){case"update":{let r=await this.main.utils.getCrossbellCharacter({identity:e.identity,platform:e.platform});if(!r)return{code:1,message:"Profile not found"};if(t.username&&t.username!==r.handle&&!n?.newbieToken&&await this.contract.character.setHandle({characterId:r.characterId,handle:t.username}),Object.keys(t).filter(a=>a!=="username").length){delete t.username,t.connected_accounts&&(t.connected_accounts=t.connected_accounts.map(i=>i.identity&&i.platform?`csb://account:${i.identity}@${i.platform.toLowerCase()}`:i)),r.metadata?.uri&&!r.metadata?.content&&(r.metadata.content=(await J.get(this.main.utils.replaceIPFS(r.metadata.uri),{...typeof window>"u"&&{headers:{"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36"}}})).data);let a=Object.assign({},r.metadata?.content,t);if(t.attributes&&r.metadata?.content?.attributes&&(a.attributes=cf(t.attributes,(r.metadata?.content).attributes,"trait_type")),n?.newbieToken)await J.post(`${this.indexer.endpoint}/newbie/contract/characters/me/metadata`,{metadata:a,mode:"replace"},{headers:{authorization:`Bearer ${n?.newbieToken}`}});else{let i=await this.main.utils.uploadToIPFS(a);await this.contract.character.setUri({characterId:r.characterId,metadataOrUri:i})}return{code:0,message:"Success"}}else return{code:0,message:"Success"}}case"add":{if(n?.newbieToken)throw new Error(`Unsupported action ${e.action} for newbie`);switch(e.platform){case"Ethereum":{let r=t.username||e.identity;delete t.username;let a=t,i=await this.main.utils.uploadToIPFS(a);return await this.contract.character.create({owner:e.identity,handle:r,metadataOrUri:i}),{code:0,message:"Success"}}default:throw new Error(`Unsupported platform: ${e.platform}`)}}default:throw new Error(`Unsupported action: ${e.action}`)}}},mB=fB,hB=class{main;map;accountsMap;constructor(e){this.main=e,this.map={ENS:new pB(e),"Crossbell Profile":new mB(e)},this.accountsMap={github:{platform:"GitHub",url:"https://github.com/$$id"},twitter:{platform:"Twitter",url:"https://twitter.com/$$id"},twitter_id:{platform:"Twitter",url:"https://twitter.com/i/user/$$id"},telegram:{platform:"Telegram",url:"https://t.me/$$id"},discord:{platform:"Discord"},reddit:{platform:"Reddit",url:"https://www.reddit.com/user/$$id"},jike:{platform:"Jike",url:"https://web.okjike.com/u/$$id"}}}async get(e){let t=await this.map[e.source].get(e);return t.list=t.list.map(n=>(n.avatars&&(n.avatars=this.main.utils.replaceIPFSs(n.avatars)),n.banners&&n.banners.map(r=>(r.address=this.main.utils.replaceIPFS(r.address),r)),n.connected_accounts&&(n.connected_accounts=n.connected_accounts.map(r=>{let a=this.accountsMap[r.platform?.toLowerCase()];return a&&(r.platform=a.platform,a.url&&(r.url=a.url.replace("$$id",r.identity))),r})),n)),t}async set(e,t,n){return this.map[e.source].set?this.map[e.source].set(e,t,n):{code:1,message:"Method not implemented"}}},yB=hB,bB=class{main;inited;constructor(e){this.main=e}},gB=bB,wB=class extends gB{indexer;contract;constructor(e){super(e)}async get(e){this.indexer||(this.indexer=Un()),e=Object.assign({type:"follow",platform:"Ethereum"},e);let t=await this.main.utils.getCrossbellCharacter({identity:e.identity,platform:e.platform}),n;e.filter?.to&&(n=await this.main.utils.getCrossbellCharacter({identity:e.filter?.to,platform:"Crossbell"}));let r=await(e.reversed?this.indexer.link.getBacklinksOfCharacter:this.indexer.link.getMany)(t?.characterId+"",{linkType:e.type,limit:e.limit,cursor:e.cursor,...n?.characterId&&{toCharacterId:n.characterId+""}}),a=r?.list?.map(i=>({date_created:i.createdAt,from:(e.reversed?i.fromCharacter?.handle:t?.handle)||"",to:(e.reversed?t?.handle:i.toCharacter?.handle)||"",type:e.type||"",source:"Crossbell Link",metadata:{network:"Crossbell",proof:i.transactionHash,block_number:i.blockNumber,from_owner:e.reversed?i.fromCharacter?.owner:e.identity,to_owner:e.reversed?e.identity:i.toCharacter?.owner,...i.fromCharacter&&{from_raw:i.fromCharacter},...i.toCharacter&&{to_raw:i.toCharacter}}}));return{total:r?.count,...r?.cursor&&{cursor:r?.cursor},list:a}}async set(e,t){e=Object.assign({platform:"Ethereum",action:"add"},e),this.contract||(this.contract=ns(this.main.options.ethereumProvider));let n=(await this.main.utils.getCrossbellCharacter({identity:e.identity,platform:e.platform}))?.characterId;if(!n)return{code:1,message:"Character not found"};let r=(await this.main.utils.getCrossbellCharacter({identity:t.to,platform:"Crossbell"}))?.characterId;if(!r)return{code:1,message:"Character not found"};switch(e.action){case"add":return await this.contract.link.linkCharacter({fromCharacterId:n,toCharacterId:r,linkType:t.type}),{code:0,message:"Success"};case"remove":return await this.contract.link.unlinkCharacter({fromCharacterId:n,toCharacterId:r,linkType:t.type}),{code:0,message:"Success"};default:throw new Error(`Unsupported action: ${e.action}`)}}},vB=wB,xB=class{map;constructor(e){this.map={"Crossbell Link":new vB(e)}}async get(e){return this.map[e.source].get(e)}async set(e,t){return this.map[e.source].set?this.map[e.source].set(e,t):{code:1,message:"Method not implemented"}}},AB=xB,EB=class{main;inited;constructor(e){this.main=e}generateAttributes(e){if(Array.isArray(e))return e.map(t=>(t.trait_type||t.name)&&t.value?{key:t.trait_type||t.name,value:t.value}:null).filter(t=>t)}},$t=EB,kB=class extends $t{constructor(e){super(e)}async get(e){if(!this.main.options.moralisWeb3APIKey)return{total:0,list:[]};let t=["eth","polygon","bsc","avalanche","fantom"],n={eth:"Ethereum",polygon:"Polygon",bsc:"Binance Smart Chain",avalanche:"Avalanche",fantom:"Fantom"},r=[],a=1,i=[],s=0;return await Promise.all(t.map(async(o,c)=>{let u={};try{u=await J.get(`https://deep-index.moralis.io/api/v2/${e.identity}/nft`,{params:{chain:o,cursor:e.cursor?.[c],limit:e.limit},headers:{"x-api-key":this.main.options.moralisWeb3APIKey}})}catch{}let l=[];return u.data?.result&&u.data?.result.length&&(l=await Promise.all(u.data?.result.map(async d=>{let p;try{d.metadata?p=JSON.parse(d.metadata):d.token_uri&&(setTimeout(()=>{J.get(`https://deep-index.moralis.io/api/v2/nft/${d.token_address}/${d.token_id}/metadata/resync`,{params:{chain:o,flag:"metadata",mode:"sync"},headers:{"x-api-key":this.main.options.moralisWeb3APIKey}})},a*1e4),a++)}catch{}let f={tags:["NFT"],owners:[ar(d.owner_of||e.identity)],name:p?.name,description:p?.description,source:"Ethereum NFT",metadata:{network:n[o],proof:`${d.token_address}-${d.token_id}`,token_standard:`${d.contract_type.slice(0,3)}-${d.contract_type.slice(3)}`,token_id:d.token_id,token_symbol:d.symbol,collection_address:d.token_address,collection_name:d.name,block_number_minted:d.block_number_minted,block_number:d.block_number,providers:["Moralis"]}},m=p?.image||p?.image_url;m&&(f.previews=[{address:m}]);let y=p?.animation_url||p?.image||p?.image_url;if(y&&(f.items=[{address:y}]),p?.attributes){let g=this.generateAttributes(p?.attributes);g&&(f.attributes=g)}return(p?.external_url||p?.external_link)&&(f.related_urls||(f.related_urls=[]),f.related_urls.push(p?.external_url||p?.external_link)),f}))),r=r.concat(l),l.length<u.data?.total&&(i[c]=u.data?.cursor),s+=u.data?.total||l.length,o})),r=r.sort((o,c)=>parseInt(c.metadata?.block_number||0)-parseInt(o.metadata?.block_number||0)),{total:s,...i.find(o=>o)&&{cursor:i},list:r}}},IB=kB,CB=class extends $t{constructor(e){super(e)}async get(e){let t=await J.get("https://api.opensea.io/api/v1/assets",{params:{format:"json",owner:e.identity,limit:e.limit||50,next:e.cursor},headers:{"x-api-key":this.main.options.openseaAPIKey||""}}),n=t.data?.assets.map(r=>{let a={tags:["NFT"],owners:[ar(e.identity)],name:r.name,description:r.description,source:"Ethereum NFT",metadata:{network:"Ethereum",proof:`${r.asset_contract.address}-${r.token_id}`,token_standard:`${r.asset_contract.schema_name.slice(0,3)}-${r.asset_contract.schema_name.slice(3)}`,token_id:r.token_id,token_symbol:r.asset_contract.symbol,collection_address:r.asset_contract.address,collection_name:r.asset_contract.name,providers:["OpenSea"]}};if(r.image_original_url&&(a.previews=[{address:r.image_original_url.replace("https://opensea-private.mypinata.cloud/ipfs/","ipfs://").replace("https://opensea.mypinata.cloud/ipfs/","ipfs://")}]),r.animation_original_url&&(a.items=[{address:r.animation_original_url.replace("https://opensea-private.mypinata.cloud/ipfs/","ipfs://").replace("https://opensea.mypinata.cloud/ipfs/","ipfs://")}]),r.traits){let i=this.generateAttributes(r.traits);i&&(a.attributes=i)}return r.external_link&&(a.related_urls||(a.related_urls=[]),a.related_urls.push(r.external_link)),a});return{total:n.length,...t.data?.next&&{cursor:t.data?.next},list:n}}},PB=CB,TB=class extends $t{constructor(e){super(e)}async get(e){let t=(this.main.options.poapAPIKey?await J.get(`https://api.poap.tech/actions/scan/${e.identity}`,{headers:{"X-API-KEY":this.main.options.poapAPIKey}}):await J.get(`https://frontend.poap.tech/actions/scan/${e.identity}`)).data?.map(n=>({tags:["NFT","POAP"],owners:[ar(n.owner)],name:n.event.name,description:n.event.description,items:[{address:n.event.image_url,mime_type:"image/png"}],attributes:[{key:"country",value:n.event.country},{key:"city",value:n.event.city},{key:"year",value:n.event.year},{key:"start_date",value:n.event.start_date},{key:"end_date",value:n.event.end_date},{key:"expiry_date",value:n.event.expiry_date},{key:"supply",value:n.event.supply},{key:"event_url",value:n.event.event_url}],source:"Ethereum NFT",metadata:{network:"Gnosis",proof:`0x22C1f6050E56d2876009903609a2cC3fEf83B415-${n.tokenId}`,token_standard:"ERC-721",token_id:n.tokenId,token_symbol:"The Proof of Attendance Protocol",collection_address:"0x22C1f6050E56d2876009903609a2cC3fEf83B415",collection_name:"POAP",providers:["POAP"]}}));return{total:t.length,list:t}}},SB=TB,BB=class extends $t{constructor(e){super(e)}async get(e){let t=(await J.get("https://public-api.solscan.io/account/tokens",{params:{account:e.identity}})).data,n=(await Promise.all(t.map(async r=>{let a={};try{a=(await J.get(`https://public-api.solscan.io/account/${r.tokenAddress}`)).data}catch{}if(a.tokenInfo.type!=="nft")return!1;let i={tags:["NFT"],owners:[e.identity],name:a.metadata?.data.name||a.onchainMetadata?.data.name,description:a.metadata?.data.description,source:"Solana NFT",metadata:{network:"Solana",proof:r.tokenAddress,token_standard:"Metaplex",token_id:r.tokenAddress,token_symbol:a.onchainMetadata?.data.symbol,collection_name:a.metadata?.data.collection.name,providers:["Solscan"]}};a.metadata?.data.image&&(i.previews=[{address:a.metadata?.data.image}]);let s=a.metadata?.data.animation_url||a.metadata?.data.image;if(s&&(i.items=[{address:s}]),a.metadata?.data.attributes){let o=this.generateAttributes(a.metadata?.data.attributes);o&&(i.attributes=o)}return a.metadata?.data.external_url&&(i.related_urls||(i.related_urls=[]),i.related_urls.push(a.metadata?.data.external_url)),i}))).filter(r=>r);return{total:n.length,list:n}}},RB=BB,MB=class extends $t{constructor(e){super(e)}async get(e){if(!this.main.options.moralisWeb3APIKey)return{total:0,list:[]};let t=(await J.get(`https://solana-gateway.moralis.io/account/mainnet/${e.identity}/nft`,{headers:{"x-api-key":this.main.options.moralisWeb3APIKey}})).data,n=await Promise.all(t.map(async r=>{let a={};try{a=(await J.get(`https://solana-gateway.moralis.io/nft/mainnet/${r.mint}/metadata`,{headers:{"x-api-key":this.main.options.moralisWeb3APIKey}})).data}catch{}let i={};try{i=(await J.get(a.metaplex?.metadataUri)).data}catch{}let s={tags:["NFT"],owners:[e.identity],name:i.name||a.name,description:i.description,source:"Solana NFT",metadata:{network:"Solana",proof:r.mint,token_standard:a.standard,token_id:r.mint,token_symbol:i.symbol||a.symbol,collection_name:i.collection?.name,providers:["Moralis"]}};i.image&&(s.previews=[{address:i.image}]);let o=i.animation_url||i.image;if(o&&(s.items=[{address:o}]),i.attributes){let c=this.generateAttributes(i.attributes);c&&(s.attributes=c)}return i.external_url&&(s.related_urls||(s.related_urls=[]),s.related_urls.push(i.external_url)),s}));return{total:n.length,list:n}}},NB=MB,OB=class extends $t{constructor(e){super(e)}async get(e){let t=[],n={Ethereum:{endpoint:"https://eth-mainnet.alchemyapi.io/v2/",keyName:"alchemyEthereumAPIKey"},Polygon:{endpoint:"https://polygon-mainnet.g.alchemy.com/v2/",keyName:"alchemyPolygonAPIKey"}},r=[],a=0;return await Promise.all(Object.keys(n).map(async(i,s)=>{let o=this.main.options[n[i].keyName];if(!o)return;let c=await J.get(`${n[i].endpoint}${o}/getNFTs/`,{params:{owner:e.identity,pageKey:e.cursor?.[s]}}),u=c.data?.ownedNfts.map(l=>{let d=BigInt(l.id.tokenId).toString(),p={tags:["NFT"],owners:[ar(e.identity)],name:l.title,description:l.description,source:"Ethereum NFT",metadata:{network:i,proof:`${l.contract.address}-${d}`,token_standard:`${l.id.tokenMetadata.tokenType.slice(0,3)}-${l.id.tokenMetadata.tokenType.slice(3)}`,token_id:d,collection_address:l.contract.address,providers:["Alchemy"]}},f=l.metadata?.image||l.metadata?.image_url;f&&(p.previews=[{address:f}]);let m=l.metadata?.animation_url||l.metadata?.image||l.metadata?.image_url;if(m&&(p.items=[{address:m}]),l.metadata?.attributes){let y=this.generateAttributes(l.metadata?.attributes);y&&(p.attributes=y)}return(l.metadata?.external_url||l.metadata?.external_link)&&(p.related_urls||(p.related_urls=[]),p.related_urls.push(l.metadata?.external_url||l.metadata?.external_link)),p});return t=t.concat(u),u.length<c.data?.totalCount&&(r[s]=c.data?.pageKey),a+=c.data?.totalCount||u.length,i})),{total:a,...r.find(i=>i)&&{cursor:r},list:t}}},$B=OB,_B=class extends $t{constructor(e){super(e)}async get(e){if(!this.main.options.alchemyFlowAPIKey)return{total:0,list:[]};let t=await J.get(`https://flow-mainnet.g.alchemy.com/v2/${this.main.options.alchemyFlowAPIKey}/getNFTs/`,{params:{owner:e.identity,limit:e.limit,offset:e.cursor}}),n=t.data?.nfts.map(r=>{let a=BigInt(r.id.tokenId).toString(),i={tags:["NFT"],owners:[e.identity],name:r.title,description:r.description,source:"Flow NFT",metadata:{network:"Flow",proof:`${r.contract.address}-${a}`,token_id:a,collection_address:r.contract.address,collection_name:r.contract.name,providers:["Alchemy"]}};if(r.media?.length&&(i.items=r.media.map(s=>({address:s.uri}))),r.metadata.metadata){let s=this.generateAttributes(r.metadata.metadata);s&&(i.attributes=s)}return r.externalDomainViewUrl&&(i.related_urls||(i.related_urls=[]),i.related_urls.push(r.externalDomainViewUrl)),i});return{total:t.data.nftCount,...(e.cursor||0)+n.length<t.data.nftCount&&{cursor:(e.cursor||0)+n.length},list:n}}},FB=_B,LB=class extends $t{constructor(e){super(e)}async get(e){let t=(await J.get(`https://pregod.rss3.dev/v0.4.0/account:${e.identity}@ethereum/notes`,{params:{item_sources:"Gitcoin Contribution"}})).data,n={total:t.total,list:t.list.map(s=>{let o={date_created:s.date_created,date_updated:s.date_updated,tags:["Donation"],owners:[ar(e.identity)],name:s.title,description:s.attachments.filter(u=>u.type==="description")[0].content,source:"Gitcoin Contribution",related_urls:s.related_urls,metadata:{network:s.metadata.approach==="Standard"?"Ethereum":s.metadata.approach,proof:s.metadata.destination,amounts:[{value:s.metadata.value_amount,symbol:s.metadata.value_symbol}],providers:["RSS3"]}},c=s.attachments.filter(u=>u.type==="logo")[0].address;return c&&(o.previews=[{address:c}]),o})},r=n.list,a=Wa([r[0]],s=>s.metadata?.proof);for(let s=1;s<r.length;s++)a=rf(a,Wa([r[s]],o=>o.metadata?.proof),(o,c)=>{if(Array.isArray(o))return uf(o.concat(c),sf)});let i=af(a);return n.list=i,n}},jB=LB,DB=class extends $t{constructor(e){super(e)}async get(e){if(!this.main.options.nftscanAPIKey)return{total:0,list:[]};let t=[],n={Ethereum:"https://restapi.nftscan.com/",Polygon:"https://polygonapi.nftscan.com/","Binance Smart Chain":"https://bnbapi.nftscan.com/",Arbitrum:"https://arbitrumapi.nftscan.com/",Moonbeam:"https://moonbeamapi.nftscan.com/",Optimism:"https://optimismapi.nftscan.com/"},r=[],a=0,i=[],s=Object.keys(n);for(let o=0;o<s.length;o++)i=i.concat([[s[o],"erc721"],[s[o],"erc1155"]]);return await Promise.all(i.map(async(o,c)=>{let u=await J.get(`${n[o[0]]}api/v2/account/own/${e.identity}`,{params:{erc_type:o[1],limit:100,cursor:e.cursor?.[c]},headers:{"X-API-KEY":this.main.options.nftscanAPIKey}}),l=u.data?.data?.content?.map(d=>{let p;if(d.metadata_json)try{p=JSON.parse(d.metadata_json)}catch{}let f={date_created:new Date(d.mint_timestamp).toISOString(),tags:["NFT"],owners:[ar(e.identity)],name:d.name||p?.name,description:p?.description,source:"Ethereum NFT",metadata:{network:o[0],proof:`${d.contract_address}-${d.token_id}`,token_standard:o[1]==="erc721"?"ERC-721":"ERC-1155",token_id:d.token_id,collection_address:d.contract_address,collection_name:d.contract_name,providers:["NFTScan"]}},m=p?.image||p?.image_url;m&&(f.previews=[{address:m}]);let y=p?.animation_url||p?.image||p?.image_url;if(y&&(f.items=[{address:y}]),p?.attributes){let g=this.generateAttributes(p?.attributes);g&&(f.attributes=g)}return(p?.external_url||p?.external_link)&&(f.related_urls||(f.related_urls=[]),f.related_urls.push(p?.external_url||p?.external_link)),f});return t=t.concat(l),a+=u.data?.data?.total,u.data?.data?.total&&u.data?.data?.total>l.length&&(r[c]=u.data?.data?.next),o[0]})),{total:a,...r.find(o=>o)&&{cursor:r},list:t}}},UB=DB,zB=class{main;map;constructor(e){this.main=e,this.map={"Ethereum NFT":{NFTScan:new UB(e),Alchemy:new $B(e),Moralis:new IB(e),OpenSea:new PB(e),POAP:new SB(e)},"Solana NFT":{Solscan:new RB(e),Moralis:new NB(e)},"Flow NFT":{Alchemy:new FB(e)},"Gitcoin Contribution":{RSS3:new jB(e)}}}generateRelatedUrls(e){switch(e.related_urls||(e.related_urls=[]),e.metadata?.network){case"Ethereum":e.metadata.token_id&&e.metadata.collection_address&&(e.related_urls=e.related_urls.concat([`https://etherscan.io/nft/${e.metadata.collection_address}/${e.metadata.token_id}`,`https://opensea.io/assets/${e.metadata.collection_address}/${e.metadata.token_id}`]));break;case"Polygon":e.metadata.token_id&&e.metadata.collection_address&&(e.related_urls=e.related_urls.concat([`https://polygonscan.com/token/${e.metadata.collection_address}?a=${e.metadata.token_id}`,`https://opensea.io/assets/matic/${e.metadata.collection_address}/${e.metadata.token_id}`]));break;case"Binance Smart Chain":e.metadata.token_id&&e.metadata.collection_address&&(e.related_urls=e.related_urls.concat([`https://bscscan.com/token/${e.metadata.collection_address}?a=${e.metadata.token_id}`]));break;case"Gnosis":e.metadata.token_id&&e.metadata.collection_address&&(e.related_urls=e.related_urls.concat([`https://blockscout.com/xdai/mainnet/token/0x22c1f6050e56d2876009903609a2cc3fef83b415/instance/${e.metadata.token_id}/token-transfers`,`https://app.poap.xyz/token/${e.metadata.token_id}`]));break;case"Solana":e.metadata.token_id&&(e.related_urls=e.related_urls.concat([`https://solscan.io/token/${e.metadata.token_id}`]));break;case"Crossbell":e.metadata.token_id&&(e.related_urls=e.related_urls.concat([`https://scan.crossbell.io/token/${e.metadata.collection_address}/instance/${e.metadata.token_id}`]));break}}async get(e){e=Object.assign({providers:Object.keys(this.map[e.source])},e);let t;if(e.providers.length>1){let r=await Promise.all(e.providers.map(async(o,c)=>{try{let u=await this.map[e.source][o].get(Object.assign(e,{cursor:e.cursor?.[c]}));return u.list=u.list.filter(l=>l),this.main.utils.removeEmpty(u.list),u}catch(u){return console.warn(u),{total:0,list:[]}}})),a=Wa(r[0].list,o=>o.metadata?.proof);for(let o=1;o<r.length;o++)a=rf(a,Wa(r[o].list,c=>c.metadata?.proof),(c,u)=>{if(Array.isArray(c))return uf(u.concat(c),sf)});let i=af(a),s=r.map(o=>o.cursor);t={total:i.length,...s.find(o=>o)&&{cursor:s},list:i}}else t=await this.map[e.source][e.providers[0]].get(e);let n=["Gnosis","Binance Smart Chain","Polygon","Crossbell","Ethereum"];return t.list=t.list.map(r=>(r.name||(r.name=`${r.metadata?.collection_name||r.metadata?.token_symbol||""} #${r.metadata?.token_id||""}`),r.description||(r.description=r.name),r.previews&&r.previews.forEach(a=>{a.address&&(a.address=this.main.utils.replaceIPFS(a.address)),a.address&&!a.mime_type&&(a.mime_type=this.main.utils.getMimeType(a.address))}),r.items&&r.items.forEach(a=>{a.address&&(a.address=this.main.utils.replaceIPFS(a.address)),a.address&&!a.mime_type&&(a.mime_type=this.main.utils.getMimeType(a.address))}),r.items&&!r.previews&&(r.previews=r.items),r.previews&&!r.items&&(r.items=r.previews),this.generateRelatedUrls(r),r)).sort((r,a)=>n.indexOf(a.metadata?.network||"")-n.indexOf(r.metadata?.network||"")||(r.metadata?.block_number&&a.metadata?.block_number?parseInt(a.metadata?.block_number||0)-parseInt(r.metadata?.block_number||0):r.date_created&&a.date_created?+new Date(a.date_created)-+new Date(r.date_created):0)),t}},qB=zB,HB=class{main;inited;accountsMap;constructor(e){this.main=e}},As=HB,GB=class extends As{constructor(e){super(e)}async get(e){let t=(await J.get(`https://pregod.rss3.dev/v0.4.0/account:${e.identity}@ethereum/notes`,{params:{item_sources:"Mirror Entry",limit:e.limit,last_identifier:e.cursor}})).data;return{total:t.total,...t.identifier_next&&new URL(t.identifier_next).searchParams.get("last_identifier")&&{cursor:new URL(t.identifier_next).searchParams.get("last_identifier")},list:t.list.map(n=>{delete n.links,delete n.backlinks,n.id=n.identifier,delete n.identifier,n.authors=n.authors.map(a=>({identity:a.match(/account:(.*)@/)?.[1],platform:a.match(/@(.*)$/)?.[1]})),n.summary={content:n.summary,mime_type:"text/markdown"},n.attachments||(n.attachments=[]),n.attachments.forEach(a=>(a.address&&(a.address=this.main.utils.replaceIPFS(a.address)),a.name=a.type,delete a.type,a));let r=n.attachments?.find(a=>a.name==="body");return r?(n.body=r,n.attachments=n.attachments.filter(a=>a.name!=="body"),n.attachments.length||delete n.attachments,delete n.body.type):n.body=n.summary,n})}}set},VB=GB,KB=class extends As{constructor(e){super(e)}async get(e){let t=(await J.get(`https://pregod.rss3.dev/v0.4.0/account:${e.identity}@ethereum/notes`,{params:{item_sources:"Ethereum NFT",limit:e.limit,last_identifier:e.cursor}})).data;return{total:t.total,...new URL(t.identifier_next&&t.identifier_next).searchParams.get("last_identifier")&&{cursor:new URL(t.identifier_next).searchParams.get("last_identifier")},list:t.list.map(n=>{delete n.links,delete n.backlinks,n.id=n.identifier,delete n.identifier,n.authors=n.authors.map(a=>({identity:a.match(/account:(.*)@/)?.[1],platform:a.match(/@(.*)$/)?.[1]})),n.title=n.metadata.from===e.identity?"Lost an NFT: ":"Got an NFT: "+(n.title||""),n.summary={content:n.summary,mime_type:"text/plain"},n.attachments||(n.attachments=[]),n.attachments.forEach(a=>(a.address&&(a.address=this.main.utils.replaceIPFS(a.address)),a.name=a.type,delete a.type,a));let r=n.attachments?.find(a=>a.name==="body");return r?(n.body=r,n.attachments=n.attachments.filter(a=>a.name!=="body"),n.attachments.length||delete n.attachments,delete n.body.type):n.body=n.summary,n})}}set},QB=KB,WB=class extends As{constructor(e){super(e)}async get(e){let t=(await J.get(`https://pregod.rss3.dev/v0.4.0/account:${e.identity}@ethereum/notes`,{params:{item_sources:"Gitcoin Contribution",limit:e.limit,last_identifier:e.cursor}})).data;return{total:t.total,...t.identifier_next&&new URL(t.identifier_next&&t.identifier_next).searchParams.get("last_identifier")&&{cursor:new URL(t.identifier_next).searchParams.get("last_identifier")},list:t.list.map(n=>{delete n.links,delete n.backlinks,n.id=n.identifier,delete n.identifier,n.authors=n.authors.map(a=>({identity:a.match(/account:(.*)@/)?.[1],platform:a.match(/@(.*)$/)?.[1]})),n.title=`Contributed ${n.metadata.value_amount}${n.metadata.value_symbol} to `+(n.title||""),n.summary={content:n.summary,mime_type:"text/plain"},n.attachments||(n.attachments=[]),n.attachments.forEach(a=>(a.address&&(a.address=this.main.utils.replaceIPFS(a.address)),a.name=a.type,delete a.type,a));let r=n.attachments?.find(a=>a.name==="description");return r?(n.body=r,n.attachments=n.attachments.filter(a=>a.name!=="description"),n.attachments.length||delete n.attachments,delete n.body.type):n.body=n.summary,n})}}set},JB=WB,ZB={date_created:"createdAt",date_updated:"updatedAt",date_published:"publishedAt"},YB=class extends As{indexer;contract;constructor(e){super(e),this.main.options.ipfsGateway}async get(e){this.indexer||(this.indexer=Un()),e=Object.assign({platform:"Ethereum"},e);let t;if(e.identity&&(t=(await this.main.utils.getCrossbellCharacter({identity:e.identity,platform:e.platform}))?.characterId,!t))return{total:0,list:[]};let n;if(e.filter?.id){let a=await this.indexer.note.get(t+"",e.filter.id.split("-")[1]);a?n={count:1,cursor:null,list:[a]}:n={count:0,cursor:null,list:[]}}else n=await this.indexer.note.getMany({cursor:e.cursor,includeDeleted:e.include_deleted,limit:e.limit,includeEmptyMetadata:!0,...e.order_by&&{orderBy:ZB[e.order_by]},...t&&{characterId:t+""},...e.filter?.url&&{externalUrls:e.filter?.url},...e.filter?.tags&&{tags:e.filter?.tags},...e.filter?.applications&&{sources:e.filter?.applications}});let r=(await Promise.all(n?.list.map(async a=>{if(a.metadata.uri&&!a.metadata.content)try{let s=await J.get(this.main.utils.replaceIPFS(a.metadata.uri),{...typeof window>"u"&&{headers:{"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36"}}});if(a.metadata.content=s.data,e.filter?.url&&!a.metadata.content.external_urls?.includes(e.filter?.url)||e.filter?.tags&&(Array.isArray(e.filter?.tags)||(e.filter.tags=[e.filter.tags]),!e.filter.tags.every(o=>a.metadata.content.tags?.includes(o)))||e.filter?.applications&&(Array.isArray(e.filter?.applications)||(e.filter.applications=[e.filter.applications]),!e.filter.applications.every(o=>a.metadata.content.sources?.includes(o))))return n.count--,null}catch(s){console.warn(s)}let i=Object.assign({date_published:a.createdAt},a.metadata?.content,{id:`${t}-${a.noteId}`,date_created:a.createdAt,date_updated:a.updatedAt,related_urls:[...a.toUri?[a.toUri]:[],...a.uri?[this.main.utils.replaceIPFS(a.uri)]:[],`https://scan.crossbell.io/tx/${a.transactionHash}`,...a.updatedTransactionHash&&a.updatedTransactionHash!==a.transactionHash?[`https://scan.crossbell.io/tx/${a.updatedTransactionHash}`]:[]],authors:[a.operator],source:"Crossbell Note",metadata:{network:"Crossbell",proof:`${t}-${a.noteId}`,block_number:a.blockNumber,owner:a.owner,transactions:[a.transactionHash,...a.transactionHash!==a.updatedTransactionHash?[a.updatedTransactionHash]:[]],raw:a.metadata?.content}});return i.summary&&(i.summary={content:i.summary,mime_type:"text/markdown"}),i.content&&(i.body={content:i.content,mime_type:"text/markdown"},delete i.content),i.attachments&&i.attachments.forEach(s=>{s.address&&(s.address=this.main.utils.replaceIPFS(s.address)),s.address&&!s.mime_type&&(s.mime_type=this.main.utils.getMimeType(s.address))}),i.sources&&(i.applications=i.sources,delete i.sources),i}))).filter(a=>a);return{total:n.count,...n.cursor&&{cursor:n.cursor},list:r}}async set(e,t,n){e=Object.assign({platform:"Ethereum",action:"add"},e),!this.contract&&!n?.newbieToken&&(this.contract=ns(this.main.options.ethereumProvider)),this.indexer||(this.indexer=Un());let r=(await this.main.utils.getCrossbellCharacter({identity:e.identity,platform:e.platform}))?.characterId;if(!r)return{code:1,message:"Character not found"};switch(t.body&&(t.content=t.body.content,delete t.body),t.summary&&(t.summary=t.summary.content),t.related_urls&&(t.external_urls=t.related_urls,delete t.related_urls),t.applications&&(t.sources=t.applications,delete t.applications),e.action){case"add":{let a;if(n?.newbieToken){let i={};n&&n.targetUri?i={linkItemType:"AnyUri",linkItem:{uri:n.targetUri}}:n&&n.targetNote&&(i={linkItemType:"Note",linkItem:{characterId:n.targetNote.split("-")?.[0],noteId:n.targetNote.split("-")?.[1]}}),a=(await J.put(`${this.indexer.endpoint}/newbie/contract/notes`,Object.assign({metadata:t,locked:!1},i),{headers:{authorization:`Bearer ${n?.newbieToken}`}})).data}else{let i=await this.main.utils.uploadToIPFS(t);n&&n.targetUri?a=await this.contract.note.postForAnyUri({characterId:r,metadataOrUri:i,targetUri:n.targetUri}):n&&n.targetNote?a=await this.contract.note.postForNote({characterId:r+"",metadataOrUri:i,targetCharacterId:n.targetNote.split("-")?.[0],targetNoteId:n.targetNote.split("-")?.[1]}):a=await this.contract.note.post({characterId:r,metadataOrUri:i})}return{code:0,message:"Success",data:a.data.noteId}}case"remove":{if(t.id){if(t.id.split("-")[0]!==r+"")return{code:1,message:"Wrong id"};n?.newbieToken?await J.delete(`${this.indexer.endpoint}/newbie/contract/notes/${t.id.split("-")[1]}`,{headers:{authorization:`Bearer ${n?.newbieToken}`}}):await this.contract.note.delete({characterId:r,noteId:t.id.split("-")[1]})}else return{code:1,message:"Missing id"};return{code:0,message:"Success"}}case"update":if(t.id){if(t.id.split("-")[0]!==r+"")return{code:1,message:"Wrong id"};{let a=await this.indexer.note.get(r+"",t.id.split("-")[1]);if(a){let i=t.id;delete t.id,a.metadata?.uri&&!a.metadata?.content&&(a.metadata.content=(await J.get(this.main.utils.replaceIPFS(a.metadata.uri),{...typeof window>"u"&&{headers:{"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36"}}})).data);let s=Object.assign({},a.metadata?.content,t);if(t.attributes&&a.metadata?.content?.attributes&&(s.attributes=cf(t.attributes,a.metadata.content.attributes,"trait_type")),n?.newbieToken)await J.post(`${this.indexer.endpoint}/newbie/contract/notes/${i.split("-")[1]}/metadata`,{metadata:s,mode:"replace"},{headers:{authorization:`Bearer ${n?.newbieToken}`}});else{let o=await this.main.utils.uploadToIPFS(s);await this.contract.note.setUri({characterId:r,noteId:i.split("-")[1],metadataOrUri:o})}return{code:0,message:"Success"}}else return{code:1,message:"Note not found"}}}else return{code:1,message:"Missing id"};default:throw new Error(`Unsupported action: ${e.action}`)}}},XB=YB,e8=class{map;constructor(e){this.map={"Mirror Entry":new VB(e),"Ethereum NFT Activity":new QB(e),"Gitcoin Contribution":new JB(e),"Crossbell Note":new XB(e)}}async get(e){e=Object.assign({limit:10},e);let t=await this.map[e.source].get(e);return t?.list&&(t.list=t.list.map(n=>(n.date_published||(n.date_published=n.date_created),n))),t}async set(e,t,n){return this.map[e.source].set?this.map[e.source].set(e,t,n):{code:1,message:"Method not implemented"}}},t8=e8;console.log(`
 %c Unidata v0.8.0 %c https://unidata.app 
`,"color: #fecc02; background: #030307; padding: 5px 0;","background: #fecc02; padding: 5px 0;");var n8=class{options;utils;profiles;links;assets;notes;constructor(e){this.options=Object.assign({},{ipfsGateway:"https://gateway.ipfs.io/ipfs/",ipfsRelay:"https://ipfs-relay.crossbell.io/json",...typeof window<"u"&&{ethereumProvider:window.ethereum}},e),Gt(J,{retries:3,retryDelay:Gt.exponentialDelay,retryCondition:t=>t.response?.status===429||El(t)}),this.utils=new cB(this),this.profiles=new yB(this),this.links=new AB(this),this.assets=new qB(this),this.notes=new t8(this)}},r8=n8;const a8=new r8,Xp="https://indexer.crossbell.io/v1/graphql";class i8{static SITE_ID="";static setSiteId(t){this.SITE_ID=t}static contract=null;static async prepare(){if(this.contract)return this.contract;const t=window.ethereum,n=ns(t);if(await n.walletClient.requestAddresses(),!n.account.address)throw new Error("未连接到 metamask");return this.contract=n,n}static createOrUpdate(t){const n=["password","secret"];for(const r of n)if(r in t&&t[r])return message.info(`跳过隐藏笔记，命中字段：${r}`),Promise.resolve();return"isPublished"in t&&t.isPublished===!1?(message.info("跳过未发布内容"),Promise.resolve()):new Promise(r=>{if(!("ethereum"in window)){r(null);return}if(!this.SITE_ID){r(null);return}dialog.create({title:"已连接到 xLog",content:`已连接到 xLog (${this.SITE_ID})，此文章的更新需要同步吗？`,onNegativeClick(){r(null)},onPositiveClick(){a()},negativeText:"不需要",positiveText:"嗯！"});const a=async()=>{const i=this.SITE_ID;await this.prepare();let s=!1,o=t.meta?.xLog?.pageId;const c="slug"in t?t.slug:`note-${t.nid}`;await(async()=>{if(s)return;const{text:h,title:w}=t;s=!0,(!o||this.isNoteModel(t))&&(o=await this.getCrossbellNotePageIdBySlug(c));const v=await ks.api.helper("url-builder")(t.id).get().then(({data:T})=>T).catch(()=>"");if(!v)throw new Error("文章链接生成失败");const x=`${h}

<span style="text-align: right;font-size: 0.8em; float: right">此文由 [Mix Space](https://github.com/mx-space) 同步更新至 xLog
原始链接为 <${v}></span><br ><br >`;message.loading("正在发布到 xLog...");const k={siteId:i,content:x,title:w,slug:c,applications:["xlog"],externalUrl:`https://${i}.xlog.app/${c}`,pageId:o,tags:"tags"in t?t.tags.toString():this.isNoteModel(t)?"生活笔记":"",publishedAt:t.created};return a8.notes.set({source:"Crossbell Note",identity:k.siteId,platform:"Crossbell",action:k.pageId?"update":"add"},{...k.externalUrl&&{related_urls:[k.externalUrl]},...k.pageId&&{id:k.pageId},...k.title&&{title:k.title},...k.content&&{body:{content:k.content,mime_type:"text/markdown"}},...k.publishedAt&&{date_published:k.publishedAt},tags:["post",...k.tags?.split(",").map(T=>T.trim()).filter(T=>T)||[]],applications:["xlog",...k.applications?.filter(T=>T!=="xlog")||[]],...k.slug&&{attributes:[{trait_type:"xlog_slug",value:k.slug}]}})})().catch(h=>{throw console.error(h),message.error("xLog 发布失败"),h}),message.success("xLog 发布成功"),e0();let l=o;if(l||(l=await this.getCrossbellNotePageIdBySlug(c)),!l){message.error("无法获取 Crossbell Note pageId 任务终止");return}await this.updateModel(t,{pageId:l});const d=await this.getCrossbellNoteData(l.split("-")[1]);if(!d){message.error("无法获取 Crossbell Note 任务终止");return}const{metadata:p,uri:f,blockNumber:m,owner:y,transactionHash:g,updatedTransactionHash:b}=d;console.debug(d),await this.updateModel(t,{pageId:l,related_urls:[...p.content.external_urls],metadata:{network:"Crossbell",proof:l,blockNumber:m,owner:y,transactions:[g,...b&&b!==g?[b]:[]]},cid:f.split("ipfs://")[1]}),r(null)}})}static isNoteModel(t){return"nid"in t}static async updateModel(t,n){const r=t.id,{cid:a,pageId:i,related_urls:s,metadata:o}=n;for(const u in n)n[u]===void 0&&delete n[u];const c={meta:{...t.meta,xLog:{...t.meta?.xLog,pageId:i,cid:a,related_urls:s,metadata:o}}};this.isNoteModel(t)?await ks.api.notes(r).patch({data:c}):await ks.api.posts(r).patch({data:c})}static indexer=new My;static async getCharacterId(){const n=await this.indexer.character.getByHandle(this.SITE_ID);return n?n.characterId:""}static async getCrossbellNoteData(t){await this.prepare();const n=await this.getCharacterId();if(n)return fetch(Xp,{body:JSON.stringify({operationName:"getNote",query:`query getNote {
          note(
            where: {
              note_characterId_noteId_unique: {
                characterId: ${n},
                noteId: ${t},
              },
            },
          ) {
            characterId
            noteId
            uri
            metadata {
              uri
              content
            }
            owner
            createdAt
            updatedAt
            publishedAt
            transactionHash
            blockNumber
            updatedTransactionHash
            updatedBlockNumber
          }
        }`,variables:{}}),headers:{"content-type":"application/json"},method:"POST",mode:"cors",credentials:"omit"}).then(r=>r.json()).then(r=>r.data?.note)}static async getCrossbellNotePageIdBySlug(t){await this.prepare();const n=await this.getCharacterId();if(n)return fetch(Xp,{body:JSON.stringify({operationName:"getNotes",query:`query getNotes {
          notes(
            where: {
              characterId: {
                equals: ${n},
              },
              deleted: {
                equals: false,
              },
              metadata: {
                AND: [
                  {
                    content: {
                      path: ["sources"],
                      array_contains: ["xlog"]
                    },
                  },
                  {
                    OR: [
                      {
                        content: {
                          path: ["attributes"],
                          array_contains: [{
                            trait_type: "xlog_slug",
                            value: "${t}",
                          }]
                        }
                      },
                      {
                        content: {
                          path: ["title"],
                          equals: "${decodeURIComponent(t)}"
                        },
                      }
                    ]
                  }
                ]
              },
            },
            orderBy: [{ createdAt: desc }],
            take: 1,
          ) {
            characterId
            noteId
          }
        }`}),headers:{"content-type":"application/json"},method:"POST",mode:"cors",credentials:"omit"}).then(r=>r.json()).then(r=>{const a=r.data.notes[0];if(a)return`${a.characterId}-${a.noteId}`})}}const WR=Object.freeze(Object.defineProperty({__proto__:null,CrossBellConnector:i8},Symbol.toStringTag,{value:"Module"}));export{M as B,vr as H,Ur as I,WR as _,cA as a,et as b,Hi as c,P1 as d,qe as e,vt as f,oa as g,U as h,Yn as i,ls as j,He as k,Fu as l,qn as m,mC as n,ys as o,Nt as p,ha as q,kr as r,me as s,dn as t};
